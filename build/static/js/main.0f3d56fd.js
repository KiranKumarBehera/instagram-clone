/*! For license information please see main.0f3d56fd.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function j(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==_e||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ue=!1,Ve=null,je={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,At=null,Nt=null,Rt=new Map,Pt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ut(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ut(Ct)&&(Ct=null),null!==At&&Ut(At)&&(At=null),null!==Nt&&Ut(Nt)&&(Nt=null),Rt.forEach(Vt),Pt.forEach(Vt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Rt.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=$t(e,t,n,r);if(null===i)Kr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Mt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Kr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Dn=[9,13,27,32],On=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),Vn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){Ur(e,0)}function $n(e){if(H(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Wn(t,Hn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Ar=Ir("transitionend"),Nr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Nr.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ue||(Ue=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(Ue)throw e=Ve,Ue=!1,Ve=null,e}function Vr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(Wr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Kn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Un);case"textInput":return(e=t.data)===Un&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ii(Ai),Ii(Ci)}function Oi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(Ci),Ei(Ci,e)):Ii(Ai),Ei(Ai,n)}var Ui=null,Vi=!1,ji=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!ji&&null!==Ui){ji=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Vi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),He(Ze,Bi),i}finally{kt=t,ji=!1}}return null}var qi=b.ReactCurrentBatchConfig;function Ki(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Si(null),Gi=null,Hi=null,Qi=null;function $i(){Qi=Hi=Gi=null}function Yi(e){var t=Wi.current;Ii(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ji(e,t){Gi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ds|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Js(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Js(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Pi(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Pi(t)?Ni:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,ba=0,wa=[],xa=0,_a=null,Sa=1,Ia="";function Ea(e,t){ya[ga++]=ba,ya[ga++]=ka,ka=e,ba=t}function Ta(e,t,n){wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Sa;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Sa=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Aa(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,ba=ya[--ga],ya[ga]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null}var Na=null,Ra=null,Pa=!1,Da=null;function Oa(e,t){var n=Nc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Na=e,Ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Na=e,Ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Sa,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Na=e,Ra=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Pa){var t=Ra;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Na;t&&La(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Na=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Na=e}}}function Ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Na=e}function Va(e){if(e!==Na)return!1;if(!Pa)return Ua(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Ra)){if(Ma(e)){for(e=Ra;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=ci(t.nextSibling)}if(Ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=Na?ci(e.stateNode.nextSibling):null;return!0}function ja(){Ra=Na=null,Pa=!1}function za(e){null===Da?Da=[e]:Da.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ka(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Oc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Pa&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Pa&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Pa&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ka(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Oc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ba(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Wa(!0),Ha=Wa(!1),Qa={},$a=Si(Qa),Ya=Si(Qa),Xa=Si(Qa);function Ja(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ei(Xa,t),Ei(Ya,e),Ei($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii($a),Ei($a,t)}function eo(){Ii($a),Ii(Ya),Ii(Xa)}function to(e){Ja(Xa.current);var t=Ja($a.current),n=se(t,e.type);t!==n&&(Ei(Ya,e),Ei($a,n))}function no(e){Ya.current===e&&(Ii($a),Ii(Ya))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=b.ReactCurrentDispatcher,so=b.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function bo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Ds|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Ds|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Vo(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Oo(9,No.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Zs(e,1,-1)}function Ro(e,t,n){return n((function(){Po(t)&&Zs(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Do(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Oo(t,n,a,r))}lo.flags|=e,i.memoizedState=Oo(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function Vo(e,t){return Fo(2048,8,e,t)}function jo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Ko(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Ds|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function $o(){return _o().memoizedState}function Yo(e,t,n){var r=Js(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Js(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Xs()))&&tu(e,t,r)}}function Jo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Do,useDebugValue:Ko,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Pa){var n=Ia;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:Io,useRef:Lo,useState:function(){return Io(So)},useDebugValue:Ko,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Wo,useContext:Zi,useEffect:Vo,useImperativeHandle:qo,useInsertionEffect:jo,useLayoutEffect:zo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(So)},useDebugValue:Ko,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Bs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Pi(t.type)&&Di(),gu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ai),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Va(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Da&&(ac(Da),Da=null))),gu(t),null;case 5:no(t);var i=Ja(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Ja($a.current),Va(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":Y(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Vr(Lr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ja(Xa.current),Ja($a.current),Va(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Pa&&null!==Ra&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ra;r;)r=ci(r.nextSibling);return ja(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Va(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else ja(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Da&&(ac(Da),Da=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Va(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Rs&&(Rs=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vs&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return gu(t),null}else 2*Xe()-o.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&As)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ja($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var bu=b.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ji(t,i),r=bo(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ns,As),As|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ns,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ns,As),As|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ns,As),As|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ni:Ci.current;return a=Ri(t,a),Ji(t,i),n=bo(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Au(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Ji(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Ri(t,c=Pi(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ki(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Ri(t,s=Pi(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Za(e,t.containerInfo)}function Pu(e,t,n,r,i){return ja(),za(i),t.flags|=256,xu(e,t,n,r),t.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Ou(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Oc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ou(n),t.memoizedState=Du,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ju(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Oc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ou(n),t.memoizedState=Du,u);if(0===(1&t.mode))t=ju(e,t,n,null);else if("$!"===r.data)t=ju(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=ju(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ra=ci(r.nextSibling),Na=t,Pa=!0,Da=null,null!==n&&(wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,Sa=n.id,Ia=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Vu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ou(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Du,i):(n=Uu(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Vu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Oc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ju(e,t,n,r){return null!==r&&za(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ds|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Aa(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ai),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ja()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Ju=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Us=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){$u=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,$u=s):ks(i);for(;null!==a;)$u=a,ms(a,t,n),a=a.sibling;$u=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ys(e)}}function ys(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ki(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function ks(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var bs,ws=Math.ceil,xs=b.ReactCurrentDispatcher,_s=b.ReactCurrentOwner,Ss=b.ReactCurrentBatchConfig,Is=0,Es=null,Ts=null,Cs=0,As=0,Ns=Si(0),Rs=0,Ps=null,Ds=0,Os=0,Ls=0,Ms=null,Fs=null,Us=0,Vs=1/0,js=null,zs=!1,Bs=null,qs=null,Ks=!1,Ws=null,Gs=0,Hs=0,Qs=null,$s=-1,Ys=0;function Xs(){return 0!==(6&Is)?Xe():-1!==$s?$s:$s=Xe()}function Js(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Ys&&(Ys=vt()),Ys):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zs(e,t,n){if(50<Hs)throw Hs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Is)&&r===Es||(r===Es&&(0===(2&Is)&&(Os|=t),4===Rs&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Vs=Xe()+500,Vi&&Bi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===Is&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Ys=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=dc();for(Es===e&&Cs===t||(js=null,Vs=Xe()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}$i(),xs.current=o,Is=i,null!==Ts?t=0:(Es=null,Cs=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:bc(e,Fs,js);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Us+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Fs,js),t);break}bc(e,Fs,js);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Fs,js),r);break}bc(e,Fs,js);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Os,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Fs,js),nc(e,Xe()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Xe()+500,Vi&&Bi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Ss.transition,r=kt;try{if(Ss.transition=null,kt=1,e)return e()}finally{kt=r,Ss.transition=n,0===(6&(Is=t))&&Bi()}}function lc(){As=Ns.current,Ii(Ns)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:eo(),Ii(Ai),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Pc(e.current,null),Cs=As=t,Rs=0,Ps=null,Ls=Os=Ds=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Rs=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),za(c);break e}}o=c,4!==Rs&&(Rs=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(b){t=b,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===Es||0===(268435455&Ds)&&0===(268435455&Os)||oc(Es,Cs)}function vc(e,t){var n=Is;Is|=2;var r=dc();for(Es===e&&Cs===t||(js=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Rs}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=bs(e.alternate,e,As);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,As)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Rs=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Rs&&(Rs=5)}function bc(e,t,n){var r=kt,i=Ss.transition;try{Ss.transition=null,kt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ks||(Ks=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=kt;kt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Ki(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=Ju,Ju=!1}(e,n),ds(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Ye(),Is=s,kt=u,Ss.transition=o}else e.current=n;if(Ks&&(Ks=!1,Ws=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Bs,Bs=null,e;0!==(1&Gs)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Qs?Hs++:(Hs=0,Qs=e):Hs=0,Bi()}(e,t,n,r)}finally{Ss.transition=i,kt=r}return null}function wc(){if(null!==Ws){var e=bt(Gs),t=Ss.transition,n=kt;try{if(Ss.transition=null,kt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Gs=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var b=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,$u=b;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){$u=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,$u=w;break e}$u=s.return}}if(Is=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Ss.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Rs||3===Rs&&(130023424&Cs)===Cs&&500>Xe()-Us?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return He(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Nc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Oc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Nc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case A:return(e=Nc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Nc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Oc(e,t,n,r){return(e=Nc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Nc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Nc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Nc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function jc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=ia(r=Xs(),i=Js(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Xs(),o=Js(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}bs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),ja();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ci.current);Ji(t,n),i=bo(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=Ki(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Au(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Su(null,t,r,Ki(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 1:return r=t.type,i=t.pendingProps,Au(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Ra=ci(t.stateNode.containerInfo.firstChild),Na=t,Pa=!0,Da=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ja(),r===i){t=Ku(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Ki(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ji(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Ki(r=t.type,t.pendingProps),Su(e,t,r,i=Ki(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ki(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Ji(t,n),pa(t,r,i),ma(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Xe()),0===(6&Is)&&(Vs=Xe()+500,Bi()))}break;case 13:var r=Xs();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Xs()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xs(),n=Js(e);Zs(e,n,t),Gc(e,n)}},St=function(){return kt},It=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ae=cc;var el={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return jc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof k)_=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,_=function(){P.postMessage(null)}}else _=function(){y(N,0)};function D(e){I=e,S||(S=!0,_())}function O(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Ni},SDK_VERSION:function(){return Aa},_DEFAULT_ENTRY_NAME:function(){return ma},_addComponent:function(){return ba},_addOrOverwriteComponent:function(){return wa},_apps:function(){return ga},_clearComponents:function(){return Ia},_components:function(){return ka},_getProvider:function(){return _a},_registerComponent:function(){return xa},_removeServiceInstance:function(){return Sa},deleteApp:function(){return Da},getApp:function(){return Ra},getApps:function(){return Pa},initializeApp:function(){return Na},onLog:function(){return Ma},registerVersion:function(){return La},setLogLevel:function(){return Fa}});var t=n(791),r=n.t(t,2),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}function p(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||v(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k=y((function(e){return g.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var b=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),w=Math.abs,x=String.fromCharCode,_=Object.assign;function S(e){return e.trim()}function I(e,t,n){return e.replace(t,n)}function E(e,t){return e.indexOf(t)}function T(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function A(e){return e.length}function N(e){return e.length}function R(e,t){return t.push(e),e}var P=1,D=1,O=0,L=0,M=0,F="";function U(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:P,column:D,length:o,return:""}}function V(e,t){return _(U("",null,null,"",null,null,0),e,{length:-e.length},t)}function j(){return M=L>0?T(F,--L):0,D--,10===M&&(D=1,P--),M}function z(){return M=L<O?T(F,L++):0,D++,10===M&&(D=1,P++),M}function B(){return T(F,L)}function q(){return L}function K(e,t){return C(F,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return P=D=1,O=A(F=e),L=0,[]}function H(e){return F="",e}function Q(e){return S(K(L-1,X(91===e?e+2:40===e?e+1:e)))}function $(e){for(;(M=B())&&M<33;)z();return W(e)>2||W(M)>3?"":" "}function Y(e,t){for(;--t&&z()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return K(e,q()+(t<6&&32==B()&&32==z()))}function X(e){for(;z();)switch(M){case e:return L;case 34:case 39:34!==e&&39!==e&&X(M);break;case 40:41===e&&X(e);break;case 92:z()}return L}function J(e,t){for(;z()&&e+M!==57&&(e+M!==84||47!==B()););return"/*"+K(t,L-1)+"*"+x(47===e?e:z())}function Z(e){for(;!W(B());)z();return K(e,L)}var ee="-ms-",te="-moz-",ne="-webkit-",re="comm",ie="rule",ae="decl",oe="@keyframes";function ue(e,t){for(var n="",r=N(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function se(e,t,n,r){switch(e.type){case"@import":case ae:return e.return=e.return||e.value;case re:return"";case oe:return e.return=e.value+"{"+ue(e.children,r)+"}";case ie:e.value=e.props.join(",")}return A(n=ue(e.children,r))?e.return=e.value+"{"+n+"}":""}function ce(e,t){switch(function(e,t){return(((t<<2^T(e,0))<<2^T(e,1))<<2^T(e,2))<<2^T(e,3)}(e,t)){case 5103:return ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+e+te+e+ee+e+e;case 6828:case 4268:return ne+e+ee+e+e;case 6165:return ne+e+ee+"flex-"+e+e;case 5187:return ne+e+I(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ne+e+ee+"flex-item-"+I(e,/flex-|-self/,"")+e;case 4675:return ne+e+ee+"flex-line-pack"+I(e,/align-content|flex-|-self/,"")+e;case 5548:return ne+e+ee+I(e,"shrink","negative")+e;case 5292:return ne+e+ee+I(e,"basis","preferred-size")+e;case 6060:return ne+"box-"+I(e,"-grow","")+ne+e+ee+I(e,"grow","positive")+e;case 4554:return ne+I(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return I(I(I(e,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),e,"")+e;case 5495:case 3959:return I(e,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return I(I(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+e+e;case 4095:case 3583:case 4068:case 2532:return I(e,/(.+)-inline(.+)/,ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(e)-1-t>6)switch(T(e,t+1)){case 109:if(45!==T(e,t+4))break;case 102:return I(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+te+(108==T(e,t+3)?"$3":"$2-$3"))+e;case 115:return~E(e,"stretch")?ce(I(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==T(e,t+1))break;case 6444:switch(T(e,A(e)-3-(~E(e,"!important")&&10))){case 107:return I(e,":",":"+ne)+e;case 101:return I(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ne+(45===T(e,14)?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ee+"$2box$3")+e}break;case 5936:switch(T(e,t+11)){case 114:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ne+e+ee+I(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ne+e+ee+e+e}return e}function le(e){return H(fe("",null,null,null,[""],e=G(e),0,[0],e))}function fe(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,S=k;m;)switch(p=g,g=z()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=E(S+=I(Q(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Q(g);break;case 9:case 10:case 13:case 32:S+=$(p);break;case 92:S+=Y(q()-1,7);continue;case 47:switch(B()){case 42:case 47:R(de(J(z(),q()),t,n),s);break;default:S+="/"}break;case 123*v:u[c++]=A(S)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&A(S)-f&&R(d>32?pe(S+";",r,n,f-1):pe(I(S," ","")+";",r,n,f-2),s);break;case 59:S+=";";default:if(R(_=he(S,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)fe(S,t,_,_,b,a,f,u,w);else switch(h){case 100:case 109:case 115:fe(e,_,_,r&&R(he(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:fe(S,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=S="",f=o;break;case 58:f=1+A(S),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==j())continue;switch(S+=x(g),g*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:u[c++]=(A(S)-1)*y,y=1;break;case 64:45===B()&&(S+=Q(z())),h=B(),l=f=A(k=S+=Z(q())),g++;break;case 45:45===p&&2==A(S)&&(v=0)}}return a}function he(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=N(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=C(e,f+1,f=w(v=o[p])),k=e;y<d;++y)(k=S(v>0?h[y]+" "+g:I(g,/&\f/g,h[y])))&&(s[m++]=k);return U(e,t,n,0===i?ie:u,s,c,l)}function de(e,t,n){return U(e,t,n,re,x(M),C(e,2,-2),0)}function pe(e,t,n,r){return U(e,t,n,ae,C(e,0,r),C(e,r+1,-1),r)}var ve=function(e,t,n){for(var r=0,i=0;r=i,i=B(),38===r&&12===i&&(t[n]=1),!W(i);)z();return K(e,L)},me=function(e,t){return H(function(e,t){var n=-1,r=44;do{switch(W(r)){case 0:38===r&&12===B()&&(t[n]=1),e[n]+=ve(L-1,t,n);break;case 2:e[n]+=Q(r);break;case 4:if(44===r){e[++n]=58===B()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=x(r)}}while(r=z());return e}(G(e),t))},ye=new WeakMap,ge=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ye.get(n))&&!r){ye.set(e,!0);for(var i=[],a=me(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ke=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},be=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ae:e.return=ce(e.value,e.length);break;case oe:return ue([V(e,{value:I(e.value,"@","@"+ne)})],r);case ie:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ue([V(e,{props:[I(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ue([V(e,{props:[I(t,/:(plac\w+)/,":-webkit-input-$1")]}),V(e,{props:[I(t,/:(plac\w+)/,":-moz-$1")]}),V(e,{props:[I(t,/:(plac\w+)/,ee+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||be;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[se,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=N(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ge,ke].concat(r,l));a=function(e,t,n,r){s=n,function(e){ue(le(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new b({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var xe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Se=/[A-Z]|^ms/g,Ie=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ee=function(e){return 45===e.charCodeAt(1)},Te=function(e){return null!=e&&"boolean"!==typeof e},Ce=y((function(e){return Ee(e)?e:e.replace(Se,"-$&").toLowerCase()})),Ae=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ie,(function(e,t,n){return Re={name:t,styles:n,next:Re},t}))}return 1===_e[e]||Ee(e)||"number"!==typeof t||0===t?t:t+"px"};function Ne(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Re={name:n.name,styles:n.styles,next:Re},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Re={name:r.name,styles:r.styles,next:Re},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ne(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Te(o)&&(r+=Ce(a)+":"+Ae(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ne(e,t,o);switch(a){case"animation":case"animationName":r+=Ce(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Te(o[s])&&(r+=Ce(a)+":"+Ae(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Re,a=n(e);return Re=i,Ne(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Re,Pe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var De=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Re=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ne(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ne(n,t,e[o]),r&&(i+=a[o]);Pe.lastIndex=0;for(var u,s="";null!==(u=Pe.exec(i));)s+="-"+u[1];return{name:xe(i)+s,styles:i,next:Re}},Oe=(0,t.createContext)("undefined"!==typeof HTMLElement?we({key:"css"}):null);Oe.Provider;var Le=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(Oe);return e(n,i,r)}))},Me=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Fe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ue=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ve=function(e,t,n){Ue(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},je=k,ze=function(e){return"theme"!==e},Be=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?je:ze},qe=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Ke=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var We=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Ue(t,n,r);Ke((function(){return Ve(t,n,r)}));return null},Ge=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=qe(n,r,o),c=s||Be(u),l=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Le((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Me)}"string"===typeof e.className?o=Fe(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=De(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?Be(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(We,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,f({},r,n,{shouldForwardProp:qe(m,n,!0)})).apply(void 0,d)},m}},He=Ge.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){He[e]=He(e)}));var Qe=He;function $e(e,t){return Qe(e,t)}function Ye(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Xe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return Ye(e)&&Ye(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Ye(t[i])&&i in e&&Ye(e[i])?r[i]=Xe(e[i],t[i],n):r[i]=t[i])})),r}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=["values","unit","step"];function et(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=l(e,Ze),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,Je({},t.key,t.val))}),{})}(n),c=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return f({keys:c,values:s,up:h,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):h(e)},not:function(e){var t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var tt={borderRadius:4},nt={xs:0,sm:600,md:900,lg:1200,xl:1536},rt={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(nt[e],"px)")}};function it(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||rt;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||rt;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||nt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function at(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ot(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ut(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function st(e){if("string"!==typeof e)throw new Error(ut(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ct(e,t){if(!t||"string"!==typeof t)return null;if(e&&e.vars){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function lt(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:ct(e,n)||i,t&&(r=t(r)),r}var ft=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=ct(e.theme,i)||{};return it(e,n,(function(e){var n=lt(o,a,e);return e===n&&"string"===typeof e&&(n=lt(o,a,"".concat(t).concat("default"===e?"":st(e)),e)),!1===r?n:Je({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var ht=function(e,t){return t?Xe(e,t,{clone:!1}):e};var dt={m:"margin",p:"padding"},pt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},mt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!vt[e])return[e];e=vt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=dt[n],a=pt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),yt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],kt=[].concat(yt,gt);function bt(e,t,n,r){var i,a=null!=(i=ct(e,t))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function wt(e){return bt(e,"spacing",8)}function xt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function _t(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=xt(t,n),e}),{})}}(mt(n),r);return it(e,e[n],i)}function St(e,t){var n=wt(e.theme);return Object.keys(e).map((function(r){return _t(e,t,r,n)})).reduce(ht,{})}function It(e){return St(e,yt)}function Et(e){return St(e,gt)}function Tt(e){return St(e,kt)}It.propTypes={},It.filterProps=yt,Et.propTypes={},Et.filterProps=gt,Tt.propTypes={},Tt.filterProps=kt;var Ct=Tt;function At(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=wt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var Nt=["breakpoints","palette","spacing","shape"];var Rt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=l(e,Nt),c=et(n),h=At(a),d=Xe({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:h,shape:f({},tt,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return Xe(e,t)}),d)},Pt=["variant"];function Dt(e){return 0===e.length}function Ot(e){var t=e.variant,n=l(e,Pt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Dt(r)?e[t]:st(e[t]):"".concat(Dt(r)?t:st(t)).concat(st(e[t].toString()))})),r}var Lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ht(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Mt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Ft=ft({prop:"border",themeKey:"borders",transform:Mt}),Ut=ft({prop:"borderTop",themeKey:"borders",transform:Mt}),Vt=ft({prop:"borderRight",themeKey:"borders",transform:Mt}),jt=ft({prop:"borderBottom",themeKey:"borders",transform:Mt}),zt=ft({prop:"borderLeft",themeKey:"borders",transform:Mt}),Bt=ft({prop:"borderColor",themeKey:"palette"}),qt=ft({prop:"borderTopColor",themeKey:"palette"}),Kt=ft({prop:"borderRightColor",themeKey:"palette"}),Wt=ft({prop:"borderBottomColor",themeKey:"palette"}),Gt=ft({prop:"borderLeftColor",themeKey:"palette"}),Ht=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=bt(e.theme,"shape.borderRadius",4);return it(e,e.borderRadius,(function(e){return{borderRadius:xt(t,e)}}))}return null};Ht.propTypes={},Ht.filterProps=["borderRadius"];var Qt=Lt(Ft,Ut,Vt,jt,zt,Bt,qt,Kt,Wt,Gt,Ht),$t=Lt(ft({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),ft({prop:"display"}),ft({prop:"overflow"}),ft({prop:"textOverflow"}),ft({prop:"visibility"}),ft({prop:"whiteSpace"})),Yt=Lt(ft({prop:"flexBasis"}),ft({prop:"flexDirection"}),ft({prop:"flexWrap"}),ft({prop:"justifyContent"}),ft({prop:"alignItems"}),ft({prop:"alignContent"}),ft({prop:"order"}),ft({prop:"flex"}),ft({prop:"flexGrow"}),ft({prop:"flexShrink"}),ft({prop:"alignSelf"}),ft({prop:"justifyItems"}),ft({prop:"justifySelf"})),Xt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=bt(e.theme,"spacing",8);return it(e,e.gap,(function(e){return{gap:xt(t,e)}}))}return null};Xt.propTypes={},Xt.filterProps=["gap"];var Jt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=bt(e.theme,"spacing",8);return it(e,e.columnGap,(function(e){return{columnGap:xt(t,e)}}))}return null};Jt.propTypes={},Jt.filterProps=["columnGap"];var Zt=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=bt(e.theme,"spacing",8);return it(e,e.rowGap,(function(e){return{rowGap:xt(t,e)}}))}return null};Zt.propTypes={},Zt.filterProps=["rowGap"];var en=Lt(Xt,Jt,Zt,ft({prop:"gridColumn"}),ft({prop:"gridRow"}),ft({prop:"gridAutoFlow"}),ft({prop:"gridAutoColumns"}),ft({prop:"gridAutoRows"}),ft({prop:"gridTemplateColumns"}),ft({prop:"gridTemplateRows"}),ft({prop:"gridTemplateAreas"}),ft({prop:"gridArea"})),tn=Lt(ft({prop:"position"}),ft({prop:"zIndex",themeKey:"zIndex"}),ft({prop:"top"}),ft({prop:"right"}),ft({prop:"bottom"}),ft({prop:"left"})),nn=Lt(ft({prop:"color",themeKey:"palette"}),ft({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),ft({prop:"backgroundColor",themeKey:"palette"})),rn=ft({prop:"boxShadow",themeKey:"shadows"});function an(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var on=ft({prop:"width",transform:an}),un=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return it(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||nt[t]||an(t)}}))}return null};un.filterProps=["maxWidth"];var sn=ft({prop:"minWidth",transform:an}),cn=ft({prop:"height",transform:an}),ln=ft({prop:"maxHeight",transform:an}),fn=ft({prop:"minHeight",transform:an}),hn=(ft({prop:"size",cssProperty:"width",transform:an}),ft({prop:"size",cssProperty:"height",transform:an}),Lt(on,un,sn,cn,ln,fn,ft({prop:"boxSizing"}))),dn=ft({prop:"fontFamily",themeKey:"typography"}),pn=ft({prop:"fontSize",themeKey:"typography"}),vn=ft({prop:"fontStyle",themeKey:"typography"}),mn=ft({prop:"fontWeight",themeKey:"typography"}),yn=ft({prop:"letterSpacing"}),gn=ft({prop:"textTransform"}),kn=ft({prop:"lineHeight"}),bn=ft({prop:"textAlign"}),wn=Lt(ft({prop:"typography",cssProperty:!1,themeKey:"typography"}),dn,pn,vn,mn,yn,kn,bn,gn),xn={borders:Qt.filterProps,display:$t.filterProps,flexbox:Yt.filterProps,grid:en.filterProps,positions:tn.filterProps,palette:nn.filterProps,shadows:rn.filterProps,sizing:hn.filterProps,spacing:Ct.filterProps,typography:wn.filterProps},_n={borders:Qt,display:$t,flexbox:Yt,grid:en,positions:tn,palette:nn,shadows:rn,sizing:hn,spacing:Ct,typography:wn},Sn=Object.keys(xn).reduce((function(e,t){return xn[t].forEach((function(n){e[n]=_n[t]})),e}),{});function In(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function En(e,t){return"function"===typeof e?e(t):e}var Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_n,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(Je(i={},e,n),Je(i,"theme",r),i),o=t[e];return o?o(a):Je({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=at(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=En(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=ht(s,n(e,a,u));else{var o=it({theme:u},a,(function(t){return Je({},e,t)}));In(o,a)?s[e]=r({sx:a,theme:u}):s=ht(s,o)}else s=ht(s,n(e,a,u))})),ot(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();Tn.filterProps=["sx"];var Cn=Tn,An=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Nn=["theme"],Rn=["theme"];function Pn(e){return 0===Object.keys(e).length}var Dn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},On=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Ot(e.props);r[t]=e.style})),r},Ln=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Ot(n.props)])})),s};function Mn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Fn=Rt();function Un(e,t,n){var r;return f({toolbar:(r={minHeight:56},Je(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Je(r,e.up("sm"),{minHeight:64}),r)},n)}function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function jn(e){if(e.type)return e;if("#"===e.charAt(0))return jn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ut(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ut(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function zn(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Bn(e){var t="hsl"===(e=jn(e)).type?jn(function(e){var t=(e=jn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),zn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function qn(e,t){return e=jn(e),t=Vn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,zn(e)}function Kn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return zn(e)}function Wn(e,t){if(e=jn(e),t=Vn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return zn(e)}var Gn={black:"#000",white:"#fff"},Hn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Qn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},$n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Yn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Xn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Jn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Zn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},er=["mode","contrastThreshold","tonalOffset"],tr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gn.white,default:Gn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},nr={text:{primary:Gn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Wn(e.main,i):"dark"===t&&(e.dark=Kn(e.main,a)))}function ir(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=l(e,er),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[200],light:Xn[50],dark:Xn[400]}:{main:Xn[700],light:Xn[400],dark:Xn[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[200],light:Qn[50],dark:Qn[400]}:{main:Qn[500],light:Qn[300],dark:Qn[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[500],light:$n[300],dark:$n[700]}:{main:$n[700],light:$n[400],dark:$n[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jn[400],light:Jn[300],dark:Jn[700]}:{main:Jn[700],light:Jn[500],dark:Jn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Zn[400],light:Zn[300],dark:Zn[700]}:{main:Zn[800],light:Zn[500],dark:Zn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[400],light:Yn[300],dark:Yn[700]}:{main:"#ed6c02",light:Yn[500],dark:Yn[900]}}(n);function m(e){var t=function(e,t){var n=Bn(e),r=Bn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,nr.text.primary)>=i?nr.text.primary:tr.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ut(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ut(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return rr(t,"light",u,o),rr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:nr,light:tr};return Xe(f({common:Gn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:p,name:"success"}),grey:Hn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var ar=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var or={textTransform:"uppercase"},ur='"Roboto", "Helvetica", "Arial", sans-serif';function sr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ur:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,h=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=l(n,ar);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===ur?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,or),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,or)};return Xe(f({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},I),w,{clone:!1})}function cr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var lr=["none",cr(0,2,1,-1,0,1,1,0,0,1,3,0),cr(0,3,1,-2,0,2,2,0,0,1,5,0),cr(0,3,3,-2,0,3,4,0,0,1,8,0),cr(0,2,4,-1,0,4,5,0,0,1,10,0),cr(0,3,5,-1,0,5,8,0,0,1,14,0),cr(0,3,5,-1,0,6,10,0,0,1,18,0),cr(0,4,5,-2,0,7,10,1,0,2,16,1),cr(0,5,5,-3,0,8,10,1,0,3,14,2),cr(0,5,6,-3,0,9,12,1,0,3,16,2),cr(0,6,6,-3,0,10,14,1,0,4,18,3),cr(0,6,7,-4,0,11,15,1,0,4,20,3),cr(0,7,8,-4,0,12,17,2,0,5,22,4),cr(0,7,8,-4,0,13,19,2,0,5,24,4),cr(0,7,9,-4,0,14,21,2,0,5,26,4),cr(0,8,9,-5,0,15,22,2,0,6,28,5),cr(0,8,10,-5,0,16,24,2,0,6,30,5),cr(0,8,11,-5,0,17,26,2,0,6,32,5),cr(0,9,11,-5,0,18,28,2,0,7,34,6),cr(0,9,12,-6,0,19,29,2,0,7,36,6),cr(0,10,13,-6,0,20,31,3,0,8,38,7),cr(0,10,13,-6,0,21,33,3,0,8,40,7),cr(0,10,14,-6,0,22,35,3,0,8,42,7),cr(0,11,14,-7,0,23,36,3,0,9,44,8),cr(0,11,15,-7,0,24,38,3,0,9,46,8)],fr=["duration","easing","delay"],hr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},dr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function pr(e){return"".concat(Math.round(e),"ms")}function vr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function mr(e){var t=f({},hr,e.easing),n=f({},dr,e.duration);return f({getAutoHeightDuration:vr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;l(r,fr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:pr(a)," ").concat(u," ").concat("string"===typeof c?c:pr(c))})).join(",")}},e,{easing:t,duration:n})}var yr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=l(e,gr),h=ir(i),d=Rt(e),p=Xe(d,{mixins:Un(d.breakpoints,d.spacing,n),palette:h,shadows:lr.slice(),typography:sr(h,s),transitions:mr(o),zIndex:f({},yr)});p=Xe(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return Xe(e,t)}),p)}var br=kr,wr=br(),xr=function(e){return Mn(e)&&"classes"!==e},_r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Fn:t,r=e.rootShouldForwardProp,i=void 0===r?Mn:r,a=e.slotShouldForwardProp,o=void 0===a?Mn:a,u=e.styleFunctionSx,s=void 0===u?Cn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,h=r.skipVariantsResolver,d=r.skipSx,p=r.overridesResolver,v=l(r,An),y=void 0!==h?h:u&&"Root"!==u||!1,g=d||!1;var k=Mn;"Root"===u?k=i:u&&(k=o);var b=$e(e,f({shouldForwardProp:k,label:t},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=l(t,Nn);return e(f({theme:Pn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Pn(e.theme)?n:e.theme,r=Dn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),p(e,i)}return null})),a&&!y&&o.push((function(e){var t=Pn(e.theme)?n:e.theme;return Ln(e,On(a,t),t,a)})),g||o.push((function(e){var t=Pn(e.theme)?n:e.theme;return s(f({},e,{theme:t}))}));var h=o.length-r.length;if(Array.isArray(e)&&h>0){var d=new Array(h).fill("");(u=[].concat(m(e),m(d))).raw=[].concat(m(e.raw),m(d))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=l(t,Rn);return e(f({theme:Pn(r)?n:r},i))});var v=b.apply(void 0,[u].concat(m(o)));return v};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:wr,rootShouldForwardProp:xr}),Sr=_r;function Ir(e,t){var n=f({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var Er=t.createContext(null);function Tr(){return t.useContext(Er)}function Cr(e){return 0===Object.keys(e).length}var Ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Tr();return!t||Cr(t)?e:t},Nr=Rt();var Rr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;return Ar(e)};function Pr(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Ir(t.components[n].defaultProps,r):r}({theme:Rr(r),name:n,props:t});return i}function Dr(e){return Pr({props:e.props,name:e.name,defaultTheme:wr})}var Or=st,Lr=function(e){return e},Mr=function(){var e=Lr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Lr}}}(),Fr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Ur(e,t){return Fr[t]||"".concat(Mr.generate(e),"-").concat(t)}function Vr(e,t){var n={};return t.forEach((function(t){n[t]=Ur(e,t)})),n}function jr(e){return Ur("MuiSvgIcon",e)}Vr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var zr=n(184),Br=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],qr=Sr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Or(n.color))],t["fontSize".concat(Or(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),Kr=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,h=void 0===c?"medium":c,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=l(n,Br),x=f({},n,{color:o,component:s,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:b}),_={};y||(_.viewBox=b);var S=function(e){var t=e.color,n=e.fontSize,r=e.classes;return p({root:["root","inherit"!==t&&"color".concat(Or(t)),"fontSize".concat(Or(n))]},jr,r)}(x);return(0,zr.jsxs)(qr,f({as:s,className:d(S.root,i),ownerState:x,focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_,w,{children:[r,g?(0,zr.jsx)("title",{children:g}):null]}))}));Kr.muiName="SvgIcon";var Wr=Kr;var Gr=function(e,n){var r=function(t,r){return(0,zr.jsx)(Wr,f({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=Wr.muiName,t.memo(t.forwardRef(r))}((0,zr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Hr(e){return Ur("MuiAvatar",e)}Vr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Qr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],$r=Sr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),Yr=Sr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Xr=Sr(Gr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Jr=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,h=r.imgProps,v=r.sizes,m=r.src,y=r.srcSet,g=r.variant,k=void 0===g?"circular":g,b=l(r,Qr),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(f({},h,{src:m,srcSet:y})),_=m||y,S=_&&"error"!==x,I=f({},r,{colorDefault:!S,component:s,variant:k}),E=function(e){var t=e.classes;return p({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Hr,t)}(I);return w=S?(0,zr.jsx)(Yr,f({alt:i,src:m,srcSet:y,sizes:v,ownerState:I,className:E.img},h)):null!=a?a:_&&i?i[0]:(0,zr.jsx)(Xr,{className:E.fallback}),(0,zr.jsx)($r,f({as:s,ownerState:I,className:d(E.root,o),ref:n},b,{children:w}))})),Zr=Jr;function ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t,n){return t&&ti(e.prototype,t),n&&ti(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ri(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e,t){return ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ai(e,t)}function oi(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ai(e,t)}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ui(e)}function si(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ci(e){return ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(e)}function li(e,t){if(t&&("object"===ci(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ii(e)}function fi(e){var t=si();return function(){var n,r=ui(e);if(t){var i=ui(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return li(this,n)}}function hi(e,t,n){return hi=si()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ai(i,n.prototype),i},hi.apply(null,arguments)}function di(e){var t="function"===typeof Map?new Map:void 0;return di=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return hi(e,arguments,ui(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ai(n,e)},di(e)}var pi=n(757),vi=n.n(pi),mi=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mi(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gi=function(e){return function(e){var t=mi(e);return yi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ki=function(e){try{return yi.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function bi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=bi(e[n],t[n]));return e}var wi=function(){function e(){var t=this;ei(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ni(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function xi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gi(JSON.stringify({alg:"none",type:"JWT"})),gi(JSON.stringify(a)),""].join(".")}function _i(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Si(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_i())}function Ii(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ei(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Ti(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ci(){var e=_i();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ai(){return"object"===typeof indexedDB}var Ni=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ii(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ii(a),Ri.prototype.create),a}return ni(n)}(di(Error)),Ri=function(){function e(t,n,r){ei(this,e),this.service=t,this.serviceName=n,this.errors=r}return ni(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Pi(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Ni(n,a,t);return o}}]),e}();function Pi(e,t){return e.replace(Di,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Di=/\{\$([^}]+)}/g;function Oi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Li(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Mi(u)&&Mi(s)){if(!Li(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Mi(e){return null!==e&&"object"===typeof e}function Fi(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ui(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Vi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function ji(e,t){var n=new zi(e,t);return n.subscribe.bind(n)}var zi=function(){function e(t,n){var r=this;ei(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ni(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ri(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Bi),void 0===r.error&&(r.error=Bi),void 0===r.complete&&(r.complete=Bi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Bi(){}function qi(e){return e&&e._delegate?e._delegate:e}function Ki(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Wi=function(){function e(t){ei(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return ni(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Gi(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Hi(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Gi=function(){function e(t){var n=this;ei(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return ni(e,[{key:"objectStore",value:function(e){return new Hi(this._transaction.objectStore(e))}}]),e}(),Hi=function(){function e(t){ei(this,e),this._store=t}return ni(e,[{key:"index",value:function(e){return new Qi(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new Qi(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Ki(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Ki(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Ki(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Ki(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),Qi=function(){function e(t){ei(this,e),this._index=t}return ni(e,[{key:"get",value:function(e){return Ki(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function $i(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){$i(a,r,i,o,u,"next",e)}function u(e){$i(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Xi=function(){function e(t,n,r){ei(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ni(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ji="[DEFAULT]",Zi=function(){function e(t,n){ei(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ni(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new wi;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch(s){}var t,n=ri(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Yi(pi.mark((function e(){var t;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ri(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(wC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:ea(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(wC){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ji;return this.component?this.component.multipleInstances?e:Ji:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function ea(e){return e===Ji?void 0:e}var ta,na,ra=function(){function e(t){ei(this,e),this.name=t,this.providers=new Map}return ni(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Zi(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ia=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(na||(na={}));var aa,oa,ua={debug:na.DEBUG,verbose:na.VERBOSE,info:na.INFO,warn:na.WARN,error:na.ERROR,silent:na.SILENT},sa=na.INFO,ca=(Je(ta={},na.DEBUG,"log"),Je(ta,na.VERBOSE,"log"),Je(ta,na.INFO,"info"),Je(ta,na.WARN,"warn"),Je(ta,na.ERROR,"error"),ta),la=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ca[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},fa=function(){function e(t){ei(this,e),this.name=t,this._logLevel=sa,this._logHandler=la,this._userLogHandler=null,ia.push(this)}return ni(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in na))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ua[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,na.DEBUG].concat(t)),this._logHandler.apply(this,[this,na.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,na.VERBOSE].concat(t)),this._logHandler.apply(this,[this,na.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,na.INFO].concat(t)),this._logHandler.apply(this,[this,na.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,na.WARN].concat(t)),this._logHandler.apply(this,[this,na.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,na.ERROR].concat(t)),this._logHandler.apply(this,[this,na.ERROR].concat(t))}}]),e}();var ha=function(){function e(t){ei(this,e),this.container=t}return ni(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var da="@firebase/app",pa="0.7.22",va=new fa("@firebase/app"),ma="[DEFAULT]",ya=(Je(aa={},da,"fire-core"),Je(aa,"@firebase/app-compat","fire-core-compat"),Je(aa,"@firebase/analytics","fire-analytics"),Je(aa,"@firebase/analytics-compat","fire-analytics-compat"),Je(aa,"@firebase/app-check","fire-app-check"),Je(aa,"@firebase/app-check-compat","fire-app-check-compat"),Je(aa,"@firebase/auth","fire-auth"),Je(aa,"@firebase/auth-compat","fire-auth-compat"),Je(aa,"@firebase/database","fire-rtdb"),Je(aa,"@firebase/database-compat","fire-rtdb-compat"),Je(aa,"@firebase/functions","fire-fn"),Je(aa,"@firebase/functions-compat","fire-fn-compat"),Je(aa,"@firebase/installations","fire-iid"),Je(aa,"@firebase/installations-compat","fire-iid-compat"),Je(aa,"@firebase/messaging","fire-fcm"),Je(aa,"@firebase/messaging-compat","fire-fcm-compat"),Je(aa,"@firebase/performance","fire-perf"),Je(aa,"@firebase/performance-compat","fire-perf-compat"),Je(aa,"@firebase/remote-config","fire-rc"),Je(aa,"@firebase/remote-config-compat","fire-rc-compat"),Je(aa,"@firebase/storage","fire-gcs"),Je(aa,"@firebase/storage-compat","fire-gcs-compat"),Je(aa,"@firebase/firestore","fire-fst"),Je(aa,"@firebase/firestore-compat","fire-fst-compat"),Je(aa,"fire-js","fire-js"),Je(aa,"firebase","fire-js-all"),aa),ga=new Map,ka=new Map;function ba(e,t){try{e.container.addComponent(t)}catch(n){va.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wa(e,t){e.container.addOrOverwriteComponent(t)}function xa(e){var t=e.name;if(ka.has(t))return va.debug("There were multiple attempts to register component ".concat(t,".")),!1;ka.set(t,e);var n,r=ri(ga.values());try{for(r.s();!(n=r.n()).done;){ba(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function _a(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ma;_a(e,t).clearInstance(n)}function Ia(){ka.clear()}var Ea=(Je(oa={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(oa,"bad-app-name","Illegal App name: '{$appName}"),Je(oa,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Je(oa,"app-deleted","Firebase App named '{$appName}' already deleted"),Je(oa,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Je(oa,"invalid-log-argument","First argument to `onLog` must be null or a function."),Je(oa,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Je(oa,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Je(oa,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Je(oa,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),oa),Ta=new Ri("app","Firebase",Ea),Ca=function(){function e(t,n,r){var i=this;ei(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",(function(){return i}),"PUBLIC"))}return ni(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ta.create("app-deleted",{appName:this._name})}}]),e}(),Aa="9.7.0";function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ma,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ta.create("bad-app-name",{appName:String(i)});var a=ga.get(i);if(a){if(Li(e,a.options)&&Li(r,a.config))return a;throw Ta.create("duplicate-app",{appName:i})}var o,u=new ra(i),s=ri(ka.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Ca(e,r,u);return ga.set(i,l),l}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=ga.get(e);if(!t)throw Ta.create("no-app",{appName:e});return t}function Pa(){return Array.from(ga.values())}function Da(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Yi(pi.mark((function e(t){var n;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ga.has(n)){e.next=6;break}return ga.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function La(e,t,n){var r,i=null!==(r=ya[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void va.warn(u.join(" "))}xa(new Xi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ma(e,t){if(null!==e&&"function"!==typeof e)throw Ta.create("invalid-log-argument");!function(e,t){var n,r=ri(ia);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ua[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:na[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fa(e){var t;t=e,ia.forEach((function(e){e.setLogLevel(t)}))}var Ua="firebase-heartbeat-store",Va=null;function ja(){var e,t,n;return Va||(Va=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Ua)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Wi(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Wi(a.result),e.oldVersion,e.newVersion,new Gi(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw Ta.create("storage-open",{originalErrorMessage:e.message})}))),Va}function za(e){return Ba.apply(this,arguments)}function Ba(){return Ba=Yi(pi.mark((function e(t){var n;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja();case 3:return n=e.sent,e.abrupt("return",n.transaction(Ua).objectStore(Ua).get(Wa(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ta.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ba.apply(this,arguments)}function qa(e,t){return Ka.apply(this,arguments)}function Ka(){return Ka=Yi(pi.mark((function e(t,n){var r,i,a;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ja();case 3:return r=e.sent,i=r.transaction(Ua,"readwrite"),a=i.objectStore(Ua),e.next=8,a.put(n,Wa(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),Ta.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ka.apply(this,arguments)}function Wa(e){return"".concat(e.name,"!").concat(e.options.appId)}var Ga=function(){function e(t){var n=this;ei(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xa(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ni(e,[{key:"triggerHeartbeat",value:function(){var e=Yi(pi.mark((function e(){var t,n,r;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ha(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Yi(pi.mark((function e(){var t,n,r,i,a;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ha(),n=Qa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=gi(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ha(){return(new Date).toISOString().substring(0,10)}function Qa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ri(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ja(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ja(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var $a,Ya,Xa=function(){function e(t){ei(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ni(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Yi(pi.mark((function e(){return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ai()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Yi(pi.mark((function e(){var t;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,za(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Yi(pi.mark((function e(t){var n,r;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Yi(pi.mark((function e(t){var n,r;return pi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",qa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ja(e){return gi(JSON.stringify({version:2,heartbeats:e})).length}$a="",xa(new Xi("platform-logger",(function(e){return new ha(e)}),"PRIVATE")),xa(new Xi("heartbeat",(function(e){return new Ga(e)}),"PRIVATE")),La(da,pa,$a),La(da,pa,"esm2017"),La("fire-js","");var Za=function(){function e(t,n){var r=this;ei(this,e),this._delegate=t,this.firebase=n,ba(t,new Xi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ni(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Da(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ma;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ma;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ba(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){wa(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),eo=(Je(Ya={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Je(Ya,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ya),to=new Ri("app-compat","Firebase",eo);var no=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Na(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Oi(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:La,setLogLevel:Fa,onLog:Ma,apps:null,SDK_VERSION:Aa,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(xa(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw to.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&bi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Oi(n,e=e||ma))throw to.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Za);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){bi(n,e)},createSubscribe:ji,ErrorFactory:Ri,deepExtend:bi}),n}(),ro=new fa("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ro.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var io=self.firebase.SDK_VERSION;io&&io.indexOf("LITE")>=0&&ro.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ao=no;!function(e){La("@firebase/app-compat","0.1.23",e)}();function oo(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ui(e)););return e}function uo(){return uo="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=oo(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},uo.apply(this,arguments)}ao.registerVersion("firebase","9.7.0","app-compat");function so(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var co;Object.create;var lo="facebook.com",fo="github.com",ho="google.com",po="password",vo="twitter.com",mo="EMAIL_SIGNIN",yo="PASSWORD_RESET",go="RECOVER_EMAIL",ko="REVERT_SECOND_FACTOR_ADDITION",bo="VERIFY_AND_CHANGE_EMAIL",wo="VERIFY_EMAIL";function xo(){return Je({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var _o=function(){var e;return Je(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Je(e,"argument-error",""),Je(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Je(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Je(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Je(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Je(e,"cordova-not-ready","Cordova framework is not ready."),Je(e,"cors-unsupported","This browser is not supported."),Je(e,"credential-already-in-use","This credential is already associated with a different user account."),Je(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Je(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Je(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Je(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Je(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Je(e,"email-already-in-use","The email address is already in use by another account."),Je(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Je(e,"expired-action-code","The action code has expired."),Je(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Je(e,"internal-error","An internal AuthError has occurred."),Je(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Je(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Je(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Je(e,"invalid-auth-event","An internal AuthError has occurred."),Je(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Je(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Je(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Je(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Je(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Je(e,"invalid-email","The email address is badly formatted."),Je(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Je(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Je(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Je(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Je(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Je(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Je(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Je(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Je(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Je(e,"wrong-password","The password is invalid or the user does not have a password."),Je(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Je(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Je(e,"invalid-provider-id","The specified provider ID is invalid."),Je(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Je(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Je(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Je(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Je(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Je(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Je(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Je(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Je(e,"missing-continue-uri","A continue URL must be provided in the request."),Je(e,"missing-iframe-start","An internal AuthError has occurred."),Je(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Je(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Je(e,"missing-multi-factor-info","No second factor identifier is provided."),Je(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Je(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Je(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Je(e,"app-deleted","This instance of FirebaseApp has been deleted."),Je(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Je(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Je(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Je(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Je(e,"no-auth-event","An internal AuthError has occurred."),Je(e,"no-such-provider","User was not linked to an account with the given provider."),Je(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Je(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Je(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Je(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Je(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Je(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Je(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Je(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Je(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Je(e,"rejected-credential","The request contains malformed or mismatching credentials."),Je(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Je(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Je(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Je(e,"timeout","The operation has timed out."),Je(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Je(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Je(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Je(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Je(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Je(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Je(e,"unverified-email","The operation requires a verified email."),Je(e,"user-cancelled","The user did not grant your application the permissions it requested."),Je(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Je(e,"user-disabled","The user account has been disabled by an administrator."),Je(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Je(e,"user-signed-out",""),Je(e,"weak-password","The password must be 6 characters long or more."),Je(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Je(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},So=xo,Io=new Ri("auth","Firebase",xo()),Eo=new fa("@firebase/auth");function To(e){if(Eo.logLevel<=na.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Eo.error.apply(Eo,["Auth (".concat(Aa,"): ").concat(e)].concat(n))}}function Co(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Po.apply(void 0,[e].concat(n))}function Ao(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Po.apply(void 0,[e].concat(n))}function No(e,t,n){var r=Object.assign(Object.assign({},So()),Je({},t,n));return new Ri("auth","Firebase",r).create(t,{appName:e.name})}function Ro(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Co(e,"argument-error"),No(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Po(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=m(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(m(o)))}return Io.create.apply(Io,[e].concat(n))}function Do(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Po.apply(void 0,[t].concat(r))}}function Oo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw To(t),new Error(t)}function Lo(e,t){e||Oo(t)}var Mo=new Map;function Fo(e){Lo(e instanceof Function,"Expected a class definition");var t=Mo.get(e);return t?(Lo(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Mo.set(e,t),t)}function Uo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Vo(){return"http:"===jo()||"https:"===jo()}function jo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var zo=function(){function e(t,n){ei(this,e),this.shortDelay=t,this.longDelay=n,Lo(n>t,"Short delay should be less than long delay!"),this.isMobile=Si()||Ti()}return ni(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Vo()||Ei()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Bo(e,t){Lo(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var qo=function(){function e(){ei(this,e)}return ni(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ko=(Je(co={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Je(co,"MISSING_CUSTOM_TOKEN","internal-error"),Je(co,"INVALID_IDENTIFIER","invalid-email"),Je(co,"MISSING_CONTINUE_URI","internal-error"),Je(co,"INVALID_PASSWORD","wrong-password"),Je(co,"MISSING_PASSWORD","internal-error"),Je(co,"EMAIL_EXISTS","email-already-in-use"),Je(co,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Je(co,"INVALID_IDP_RESPONSE","invalid-credential"),Je(co,"INVALID_PENDING_TOKEN","invalid-credential"),Je(co,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Je(co,"MISSING_REQ_TYPE","internal-error"),Je(co,"EMAIL_NOT_FOUND","user-not-found"),Je(co,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Je(co,"EXPIRED_OOB_CODE","expired-action-code"),Je(co,"INVALID_OOB_CODE","invalid-action-code"),Je(co,"MISSING_OOB_CODE","internal-error"),Je(co,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Je(co,"INVALID_ID_TOKEN","invalid-user-token"),Je(co,"TOKEN_EXPIRED","user-token-expired"),Je(co,"USER_NOT_FOUND","user-token-expired"),Je(co,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Je(co,"INVALID_CODE","invalid-verification-code"),Je(co,"INVALID_SESSION_INFO","invalid-verification-id"),Je(co,"INVALID_TEMPORARY_PROOF","invalid-credential"),Je(co,"MISSING_SESSION_INFO","missing-verification-id"),Je(co,"SESSION_EXPIRED","code-expired"),Je(co,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Je(co,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Je(co,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Je(co,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Je(co,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Je(co,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Je(co,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Je(co,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Je(co,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Je(co,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Je(co,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),co),Wo=new zo(3e4,6e4);function Go(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ho(e,t,n,r){return Qo.apply(this,arguments)}function Qo(){return Qo=Yi(vi().mark((function e(t,n,r,i){var a,o=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",$o(t,a,Yi(vi().mark((function e(){var a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Fi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",qo.fetch()(Zo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function $o(e,t,n){return Yo.apply(this,arguments)}function Yo(){return Yo=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ko),n),e.prev=2,a=new eu(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw tu(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw tu(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw tu(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw No(t,p,d);case 30:Co(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Ni)){e.next=37;break}throw e.t0;case 37:Co(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Yo.apply(this,arguments)}function Xo(e,t,n,r){return Jo.apply(this,arguments)}function Jo(){return Jo=Yi(vi().mark((function e(t,n,r,i){var a,o,u=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ho(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Co(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Bo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var eu=function(){function e(t){var n=this;ei(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Ao(n.auth,"network-request-failed"))}),Wo.get())}))}return ni(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function tu(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Ao(e,t,r);return i.customData._tokenResponse=n,i}function nu(e,t){return ru.apply(this,arguments)}function ru(){return ru=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ru.apply(this,arguments)}function iu(e,t){return au.apply(this,arguments)}function au(){return au=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),au.apply(this,arguments)}function ou(e,t){return uu.apply(this,arguments)}function uu(){return uu=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function su(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function cu(){return cu=Yi(vi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=qi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Do((a=fu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:su(lu(a.auth_time)),issuedAtTime:su(lu(a.iat)),expirationTime:su(lu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(e){return 1e3*Number(e)}function fu(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return To("JWT malformed, contained fewer than 3 sections"),null;try{var a=ki(r);return a?JSON.parse(a):(To("Failed to decode base64 JWT payload"),null)}catch(o){return To("Caught error parsing JWT payload as JSON",o),null}}function hu(e,t){return du.apply(this,arguments)}function du(){return du=Yi(vi().mark((function e(t,n){var r=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Ni&&pu(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),du.apply(this,arguments)}function pu(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var vu=function(){function e(t){ei(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ni(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),mu=function(){function e(t,n){ei(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ni(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function yu(e){return gu.apply(this,arguments)}function gu(){return gu=Yi(vi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,hu(t,ou(r,{idToken:i}));case 6:Do(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?wu(o.providerUserInfo):[],s=bu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function ku(){return(ku=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qi(t),e.next=3,yu(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(m(n),m(t))}function wu(e){return e.map((function(e){var t=e.providerId,n=so(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function xu(e,t){return _u.apply(this,arguments)}function _u(){return _u=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$o(t,{},Yi(vi().mark((function e(){var r,i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Zo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",qo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}var Su=function(){function e(){ei(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ni(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Do(e.idToken,"internal-error"),Do("undefined"!==typeof e.idToken,"internal-error"),Do("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=fu(e);return Do(t,"internal-error"),Do("undefined"!==typeof t.exp,"internal-error"),Do("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Yi(vi().mark((function e(t){var n,r=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Do(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xu(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Oo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Do("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Do("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Do("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Iu(e,t){Do("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Eu=function(){function e(t){ei(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=so(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vu(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?m(a.providerData):[],this.metadata=new mu(a.createdAt||void 0,a.lastLoginAt||void 0)}return ni(e,[{key:"getIdToken",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hu(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Do(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return cu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ku.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Do(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Do(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Yi(vi().mark((function e(t){var n,r,i=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,yu(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,hu(this,nu(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Do(k&&_,t,"internal-error");var S=Su.fromJSON(this.name,_);Do("string"===typeof k,t,"internal-error"),Iu(f,t.name),Iu(h,t.name),Do("boolean"===typeof b,t,"internal-error"),Do("boolean"===typeof w,t,"internal-error"),Iu(d,t.name),Iu(p,t.name),Iu(v,t.name),Iu(m,t.name),Iu(y,t.name),Iu(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Yi(vi().mark((function t(n,r){var i,a,o,u=arguments;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Su).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,yu(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Tu=function(){function e(){ei(this,e),this.type="NONE",this.storage={}}return ni(e,[{key:"_isAvailable",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Tu.type="NONE";var Cu=Tu;function Au(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Nu=function(){function e(t,n,r){ei(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Au(this.userKey,a.apiKey,o),this.fullPersistenceKey=Au("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ni(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Eu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Yi(vi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Fo(Cu),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Fo(Cu),u=Au(i,n.config.apiKey,n.name),s=null,c=ri(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Eu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ru(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Lu(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Pu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Fu(t))return"Blackberry";if(Uu(t))return"Webos";if(Du(t))return"Safari";if((t.includes("chrome/")||Ou(t))&&!t.includes("edge/"))return"Chrome";if(Mu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Pu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/firefox\//i.test(e)}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ou(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/crios\//i.test(e)}function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/iemobile/i.test(e)}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/android/i.test(e)}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/blackberry/i.test(e)}function Uu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/webos/i.test(e)}function Vu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/iphone|ipad|ipod/i.test(e)}function ju(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return Vu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function zu(){return Ci()&&10===document.documentMode}function Bu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return Vu(e)||Mu(e)||Uu(e)||Fu(e)||/windows phone/i.test(e)||Lu(e)}function qu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ru(_i());break;case"Worker":t="".concat(Ru(_i()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Aa,"/").concat(r)}var Ku=function(){function e(t,n,r){ei(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Io,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ni(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Fo(t)),this._initializationPromise=this.queue(Yi(vi().mark((function r(){var i,a;return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Nu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Yi(vi().mark((function e(t){var n,r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Do(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yu(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?qi(t):null)&&Do(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Yi(vi().mark((function e(t){var n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Do(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Fo(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ri("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Do(n=t&&Fo(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Nu.create(this,[Fo(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Yi(vi().mark((function e(t){var n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Do(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Do(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qu(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Yi(vi().mark((function e(){var t,n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Je({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wu(e){return qi(e)}var Gu=function(){function e(t){var n=this;ei(this,e),this.auth=t,this.observer=null,this.addObserver=ji((function(e){return n.observer=e}))}return ni(e,[{key:"next",get:function(){return Do(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Hu(e,t,n){var r=Wu(e);Do(r._canInitEmulator,r,"emulator-config-failed"),Do(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qu(t),o=function(e){var t=Qu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:$u(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:$u(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $u(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Yu=function(){function e(t,n){ei(this,e),this.providerId=t,this.signInMethod=n}return ni(e,[{key:"toJSON",value:function(){return Oo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Oo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Oo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Oo("not implemented")}}]),e}();function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:resetPassword",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Zu(e,t){return es.apply(this,arguments)}function es(){return es=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:update",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){return is.apply(this,arguments)}function is(){return is=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithPassword",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),is.apply(this,arguments)}function as(e,t){return os.apply(this,arguments)}function os(){return os=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:sendOobCode",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function us(e,t){return ss.apply(this,arguments)}function ss(){return ss=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return ls=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),ls.apply(this,arguments)}function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return ps=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",as(t,n));case 1:case"end":return e.stop()}}),e)}))),ps.apply(this,arguments)}function vs(e,t){return ms.apply(this,arguments)}function ms(){return ms=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return gs=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithEmailLink",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}var ks=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ei(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ni(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",rs(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",vs(t,{email:this._email,oobCode:this._password}));case 5:Co(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ys(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Co(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Yu);function bs(e,t){return ws.apply(this,arguments)}function ws(){return ws=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithIdp",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),ws.apply(this,arguments)}var xs=function(e){oi(n,e);var t=fi(n);function n(){var e;return ei(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ni(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Fi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Co("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=so(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Yu);function _s(e,t){return Ss.apply(this,arguments)}function Ss(){return Ss=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:sendVerificationCode",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Is(){return Is=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithPhoneNumber",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Es(){return Es=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xo(t,"POST","/v1/accounts:signInWithPhoneNumber",Go(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw tu(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var Ts=Je({},"USER_NOT_FOUND","user-not-found");function Cs(){return Cs=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithPhoneNumber",Go(t,r),Ts));case 2:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}var As=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ni(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Is.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Es.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Cs.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Yu);var Ns=function(){function e(t){var n,r,i,a,o,u;ei(this,e);var s=Ui(Vi(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Do(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ni(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ui(Vi(e)).link,n=t?Ui(Vi(t)).deep_link_id:null,r=Ui(Vi(e)).deep_link_id;return(r?Ui(Vi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(wC){return null}}}]),e}();var Rs=function(){function e(){ei(this,e),this.providerId=e.PROVIDER_ID}return ni(e,null,[{key:"credential",value:function(e,t){return ks._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ns.parseLink(t);return Do(n,"argument-error"),ks._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Rs.PROVIDER_ID="password",Rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ps=function(){function e(t){ei(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ni(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ds=function(e){oi(n,e);var t=fi(n);function n(){var e;return ei(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ni(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return m(this.scopes)}}]),n}(Ps),Os=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Do(e.idToken||e.accessToken,"argument-error"),xs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Do("providerId"in t&&"signInMethod"in t,"argument-error"),xs._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ds),Ls=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.call(this,"facebook.com")}return ni(n,null,[{key:"credential",value:function(e){return xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wC){return null}}}]),n}(Ds);Ls.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ls.PROVIDER_ID="facebook.com";var Ms=function(e){oi(n,e);var t=fi(n);function n(){var e;return ei(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ni(n,null,[{key:"credential",value:function(e,t){return xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(wC){return null}}}]),n}(Ds);Ms.GOOGLE_SIGN_IN_METHOD="google.com",Ms.PROVIDER_ID="google.com";var Fs=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.call(this,"github.com")}return ni(n,null,[{key:"credential",value:function(e){return xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(wC){return null}}}]),n}(Ds);Fs.GITHUB_SIGN_IN_METHOD="github.com",Fs.PROVIDER_ID="github.com";var Us=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ni(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Yu),Vs=function(e){oi(n,e);var t=fi(n);function n(e){return ei(this,n),Do(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ni(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Us.fromJSON(e);return Do(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Us._create(r,n)}catch(i){return null}}}]),n}(Ps),js=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.call(this,"twitter.com")}return ni(n,null,[{key:"credential",value:function(e,t){return xs._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(wC){return null}}}]),n}(Ds);function zs(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signUp",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}js.TWITTER_SIGN_IN_METHOD="twitter.com",js.PROVIDER_ID="twitter.com";var qs=function(){function e(t){ei(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ni(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Yi(vi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Eu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ks(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Yi(vi().mark((function t(n,r,i){var a;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ks(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ks(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ws(){return Ws=Yi(vi().mark((function e(t){var n,r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new qs({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,zs(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,qs._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ws.apply(this,arguments)}var Gs=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a){var o,u;return ei(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ii(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ni(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Ni);function Hs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Gs._fromErrorAndOperation(e,n,t,r);throw n}))}function Qs(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function $s(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qi(t),e.next=3,Zs(!0,r,n);case 3:return e.t0=iu,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qs(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){return Js.apply(this,arguments)}function Js(){return Js=Yi(vi().mark((function e(t,n){var r,i,a=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=hu,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qs._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yu(n);case 2:i=Qs(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Do(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,hu(t,Hs(i,a,n,t),r);case 6:return Do((o=e.sent).idToken,i,"internal-error"),Do(u=fu(o.idToken),i,"internal-error"),s=u.sub,Do(t.uid===s,i,"user-mismatch"),e.abrupt("return",qs._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Co(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=Yi(vi().mark((function e(t,n){var r,i,a,o,u=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Hs(t,i,n);case 4:return a=e.sent,e.next=7,qs._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(Wu(t),n));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function uc(e,t){return sc.apply(this,arguments)}function sc(){return(sc=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qi(t),e.next=3,Zs(!1,r,n.providerId);case 3:return e.abrupt("return",Xs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(qi(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xo(t,"POST","/v1/accounts:signInWithCustomToken",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(){return dc=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,qs._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}var pc=function(){function e(t,n){ei(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ni(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vc._fromServerResponse(e,t):Co(e,"internal-error")}}]),e}(),vc=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ni(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pc);function mc(e,t,n){var r;Do((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Do("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Do(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Do(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yc(){return yc=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),a={requestType:"PASSWORD_RESET",email:n},r&&mc(i,a,r),e.next=5,cs(i,a);case 5:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(){return gc=Yi(vi().mark((function e(t,n,r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(qi(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(){return kc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(qi(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(e,t){return wc.apply(this,arguments)}function wc(){return wc=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qi(t),e.next=3,Xu(r,{oobCode:n});case 3:i=e.sent,Do(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Do(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Do(i.mfaInfo,r,"internal-error");case 13:Do(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pc._fromServerResponse(Wu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),wc.apply(this,arguments)}function xc(){return xc=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc(qi(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t,n){return Sc.apply(this,arguments)}function Sc(){return Sc=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,zs(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,qs._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ic(){return Ic=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),a={requestType:"EMAIL_SIGNIN",email:n},Do(r.handleCodeInApp,i,"argument-error"),r&&mc(i,a,r),e.next=6,fs(i,a);case 6:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Ec(){return Ec=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),Do((a=Rs.credentialWithLink(n,r||Uo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ac(i,a));case 4:case"end":return e.stop()}}),e)}))),Ec.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:createAuthUri",Go(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(){return Ac=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vo()?Uo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Tc(qi(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Nc(){return(Nc=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qi(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&mc(r.auth,a,n),e.next=8,us(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rc(){return(Rc=Yi(vi().mark((function e(t,n,r){var i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&mc(i.auth,o,r),e.next=8,ds(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ho(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Oc(){return(Oc=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s,c;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=qi(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,hu(a,Pc(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return Mc=Yi(vi().mark((function e(t,n,r){var i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,hu(t,Zu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}var Fc=ni((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ei(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Uc=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a){var o;return ei(this,n),(o=t.call(this,e,r,i)).username=a,o}return ni(n)}(Fc),Vc=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"facebook.com",r)}return ni(n)}(Fc),jc=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ni(n)}(Uc),zc=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"google.com",r)}return ni(n)}(Fc),Bc=function(e){oi(n,e);var t=fi(n);function n(e,r,i){return ei(this,n),t.call(this,e,"twitter.com",r,i)}return ni(n)}(Uc);function qc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=fu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Fc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Vc(a,i);case"github.com":return new jc(a,i);case"google.com":return new zc(a,i);case"twitter.com":return new Bc(a,i,e.screenName||null);case"custom":case"anonymous":return new Fc(a,null);default:return new Fc(a,r,i)}}(n)}var Kc=function(){function e(t,n){ei(this,e),this.type=t,this.credential=n}return ni(e,[{key:"toJSON",value:function(){return{multiFactorSession:Je({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Wc=function(){function e(t,n,r){ei(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ni(e,[{key:"resolveSignIn",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Wu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pc._fromServerResponse(r,e)}));Do(i.mfaPendingCredential,r,"internal-error");var o=Kc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Yi(vi().mark((function e(t){var a,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,qs._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Do(n.user,r,"internal-error"),e.abrupt("return",qs._forOperation(n.user,n.operationType,u));case 17:Co(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Gc(e,t){return Ho(e,"POST","/v2/accounts/mfaEnrollment:start",Go(e,t))}function Hc(e,t){return Ho(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Go(e,t))}var Qc=function(){function e(t){var n=this;ei(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pc._fromServerResponse(t.auth,e)})))}))}return ni(e,[{key:"getSession",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Kc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,hu(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Yi(vi().mark((function e(t){var n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,hu(this.user,Hc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),$c=new WeakMap;var Yc="__sak",Xc=function(){function e(t,n){ei(this,e),this.storageRetriever=t,this.type=n}return ni(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch(wC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Jc=function(e){oi(n,e);var t=fi(n);function n(){var e;return ei(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=_i();return Du(e)||Vu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Bu(),e._shouldAllowMigration=!0,e}return ni(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);zu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Yi(vi().mark((function e(t,r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ui(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Yi(vi().mark((function e(t){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ui(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ui(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Xc);Jc.type="LOCAL";var Zc=Jc,el=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ni(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Xc);el.type="SESSION";var tl=el;function nl(e){return Promise.all(e.map(function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var rl=function(){function e(t){ei(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ni(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Yi(vi().mark((function e(t){var n,r,i,a,o,u,s,c;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,nl(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function il(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}rl.receivers=[];var al=function(){function e(t){ei(this,e),this.target=t,this.handlers=new Set}return ni(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=il("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ol(){return window}function ul(){return"undefined"!==typeof ol().WorkerGlobalScope&&"function"===typeof ol().importScripts}function sl(){return cl.apply(this,arguments)}function cl(){return(cl=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ll(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var fl="firebaseLocalStorageDb",hl="firebaseLocalStorage",dl="fbase_key",pl=function(){function e(t){ei(this,e),this.request=t}return ni(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function vl(e,t){return e.transaction([hl],t?"readwrite":"readonly").objectStore(hl)}function ml(){var e=indexedDB.deleteDatabase(fl);return new pl(e).toPromise()}function yl(){var e=indexedDB.open(fl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(hl,{keyPath:dl})}catch(r){n(r)}})),e.addEventListener("success",Yi(vi().mark((function n(){var r;return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(hl)){n.next=12;break}return r.close(),n.next=5,ml();case 5:return n.t0=t,n.next=8,yl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function gl(e,t,n){return kl.apply(this,arguments)}function kl(){return kl=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=vl(t,!0).put((Je(i={},dl,n),Je(i,"value",r),i)),e.abrupt("return",new pl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),kl.apply(this,arguments)}function bl(e,t){return wl.apply(this,arguments)}function wl(){return wl=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vl(t,!1).get(n),e.next=3,new pl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e,t){var n=vl(e,!0).delete(t);return new pl(n).toPromise()}var _l=function(){function e(){ei(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ni(e,[{key:"_openDb",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,yl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ul()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Yi(vi().mark((function e(){var t=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=rl._getInstance(ul()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Yi(vi().mark((function e(n,r){var i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Yi(vi().mark((function e(){var t,n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new al(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ll()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,yl();case 5:return t=e.sent,e.next=8,gl(t,Yc,"1");case 8:return e.next=10,xl(t,Yc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Yi(vi().mark((function e(t,n){var r=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return gl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return bl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Yi(vi().mark((function e(t){var n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return xl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=vl(e,!1).getAll();return new pl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ri(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();_l.type="LOCAL";var Sl=_l;function Il(e,t){return Ho(e,"POST","/v2/accounts/mfaSignIn:start",Go(e,t))}function El(e){return Tl.apply(this,arguments)}function Tl(){return Tl=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ho(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Cl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Ao("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Al(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Nl=1e12,Rl=function(){function e(t){ei(this,e),this.auth=t,this.counter=Nl,this._widgets=new Map}return ni(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Pl(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Nl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Nl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Nl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pl=function(){function e(t,n,r){var i=this;ei(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Do(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ni(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Dl=Al("rcb"),Ol=new zo(3e4,6e4),Ll="https://www.google.com/recaptcha/api.js?",Ml=function(){function e(){ei(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ol().grecaptcha}return ni(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Do(Fl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(ol().grecaptcha):new Promise((function(r,i){var a=ol().setTimeout((function(){i(Ao(e,"network-request-failed"))}),Ol.get());ol()[Dl]=function(){ol().clearTimeout(a),delete ol()[Dl];var o=ol().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Ao(e,"internal-error"))},Cl("".concat(Ll,"?").concat(Fi({onload:Dl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Ao(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!ol().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Fl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ul=function(){function e(){ei(this,e)}return ni(e,[{key:"load",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Rl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Vl="recaptcha",jl={theme:"light",type:"image"},zl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},jl),r=arguments.length>2?arguments[2]:void 0;ei(this,e),this.parameters=n,this.type=Vl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wu(r),this.isInvisible="invisible"===this.parameters.size,Do("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Do(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ul:new Ml,this.validateStartingState()}return ni(e,[{key:"verify",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Do(!this.parameters.sitekey,this.auth,"argument-error"),Do(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Do("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ol()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Do(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Yi(vi().mark((function e(){var t,n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Do(Vo()&&!ul(),this.auth,"internal-error"),e.next=3,Bl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,El(this.auth);case 8:Do(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Do(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Bl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var ql=function(){function e(t,n){ei(this,e),this.verificationId=t,this.onConfirmation=n}return ni(e,[{key:"confirm",value:function(e){var t=As._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Kl(){return Kl=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,Ql(i,n,qi(r));case 3:return a=e.sent,e.abrupt("return",new ql(a,(function(e){return ac(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(e,t,n){return Gl.apply(this,arguments)}function Gl(){return(Gl=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),e.next=3,Zs(!1,i,"phone");case 3:return e.next=5,Ql(i.auth,n,qi(r));case 5:return a=e.sent,e.abrupt("return",new ql(a,(function(e){return uc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hl(){return(Hl=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qi(t),e.next=3,Ql(i.auth,n,qi(r));case 3:return a=e.sent,e.abrupt("return",new ql(a,(function(e){return cc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e,t,n){return $l.apply(this,arguments)}function $l(){return $l=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Do("string"===typeof a,t,"argument-error"),Do(r.type===Vl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Do("enroll"===u.type,t,"internal-error"),e.next=13,Gc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Do("signin"===u.type,t,"internal-error"),Do(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Il(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,_s(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),$l.apply(this,arguments)}function Yl(){return(Yl=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(qi(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xl=function(){function e(t){ei(this,e),this.providerId=e.PROVIDER_ID,this.auth=Wu(t)}return ni(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ql(this.auth,e,qi(t))}}],[{key:"credential",value:function(e,t){return As._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?As._fromTokenResponse(n,r):null}}]),e}();function Jl(e,t){return t?Fo(t):(Do(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Xl.PROVIDER_ID="phone",Xl.PHONE_SIGN_IN_METHOD="phone";var Zl=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ni(n,[{key:"_getIdTokenResponse",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Yu);function ef(e){return rc(e.auth,new Zl(e),e.bypassAuthState)}function tf(e){var t=e.auth,n=e.user;return Do(n,t,"internal-error"),tc(n,new Zl(e),e.bypassAuthState)}function nf(e){return rf.apply(this,arguments)}function rf(){return rf=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Do(r=t.user,n,"internal-error"),e.abrupt("return",Xs(r,new Zl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}var af=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ei(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ni(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Yi(vi().mark((function t(n,r){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Yi(vi().mark((function e(t){var n,r,i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ef;case"linkViaPopup":case"linkViaRedirect":return nf;case"reauthViaPopup":case"reauthViaRedirect":return tf;default:Co(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),of=new zo(2e3,1e4);function uf(e,t,n){return sf.apply(this,arguments)}function sf(){return sf=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),Ro(t,n,Ps),a=Jl(i,r),o=new hf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),sf.apply(this,arguments)}function cf(){return(cf=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=qi(t)).auth,n,Ps),a=Jl(i.auth,r),o=new hf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lf(e,t,n){return ff.apply(this,arguments)}function ff(){return(ff=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=qi(t)).auth,n,Ps),a=Jl(i.auth,r),o=new hf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hf=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a,o){var u;return ei(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ii(u),u}return ni(n,[{key:"executeNotNull",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Do(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Yi(vi().mark((function e(){var t,n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(1===this.filter.length,"Popup operations only handle one event"),t=il(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Ao(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Ao(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Ao(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,of.get())}()}}]),n}(af);hf.currentPopupAction=null;var df=new Map,pf=function(e){oi(n,e);var t=fi(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ei(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ni(n,[{key:"execute",value:function(){var e=Yi(vi().mark((function e(){var t,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=df.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,vf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,uo(ui(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:df.set(this.auth._key(),t);case 21:return this.bypassAuthState||df.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Yi(vi().mark((function e(t){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",uo(ui(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",uo(ui(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(af);function vf(e,t){return mf.apply(this,arguments)}function mf(){return mf=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bf(n),i=kf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return gf=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kf(t)._set(bf(n),"true"));case 1:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function kf(e){return Fo(e._redirectPersistence)}function bf(e){return Au("pendingRedirect",e.config.apiKey,e.name)}function wf(e,t,n){return function(e,t,n){return xf.apply(this,arguments)}(e,t,n)}function xf(){return xf=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),Ro(t,n,Ps),a=Jl(i,r),e.next=5,yf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function _f(e,t,n){return function(e,t,n){return Sf.apply(this,arguments)}(e,t,n)}function Sf(){return(Sf=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=qi(t)).auth,n,Ps),a=Jl(i.auth,r),e.next=5,yf(a,i.auth);case 5:return e.next=7,Rf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function If(e,t,n){return function(e,t,n){return Ef.apply(this,arguments)}(e,t,n)}function Ef(){return(Ef=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ro((i=qi(t)).auth,n,Ps),a=Jl(i.auth,r),e.next=5,Zs(!1,i,n.providerId);case 5:return e.next=7,yf(a,i.auth);case 7:return e.next=9,Rf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return Cf=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wu(t)._initializationPromise;case 2:return e.abrupt("return",Af(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}function Af(e,t){return Nf.apply(this,arguments)}function Nf(){return Nf=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Wu(t),a=Jl(i,n),o=new pf(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Nf.apply(this,arguments)}function Rf(e){return Pf.apply(this,arguments)}function Pf(){return(Pf=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=il("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Df=function(){function e(t){ei(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ni(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Lf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ao(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Of(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Of(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Of(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Lf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Mf(e){return Ff.apply(this,arguments)}function Ff(){return Ff=Yi(vi().mark((function e(t){var n,r=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ho(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ff.apply(this,arguments)}var Uf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vf=/^https?/;function jf(){return jf=Yi(vi().mark((function e(t){var n,r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Mf(t);case 4:n=e.sent,r=n.authorizedDomains,i=ri(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Co(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),jf.apply(this,arguments)}function zf(e){var t=Uo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Vf.test(r))return!1;if(Uf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Bf=new zo(3e4,6e4);function qf(){var e=ol().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=m(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Kf=null;function Wf(e){return Kf=Kf||function(e){return new Promise((function(t,n){var r,i,a;function o(){qf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qf(),n(Ao(e,"network-request-failed"))},timeout:Bf.get()})}if(null===(i=null===(r=ol().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ol().gapi)||void 0===a?void 0:a.load)){var u=Al("iframefcb");return ol()[u]=function(){gapi.load?o():n(Ao(e,"network-request-failed"))},Cl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Kf=null,e}))}(e),Kf}var Gf=new zo(5e3,15e3),Hf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $f(e){var t=e.config;Do(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Bo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Aa},i=Qf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Fi(r).slice(1))}function Yf(e){return Xf.apply(this,arguments)}function Xf(){return Xf=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wf(t);case 2:return n=e.sent,Do(r=ol().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:$f(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hf,dontclear:!0},(function(e){return new Promise(function(){var n=Yi(vi().mark((function n(r,i){var a,o,u;return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ol().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Ao(t,"network-request-failed"),o=ol().setTimeout((function(){i(a)}),Gf.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Xf.apply(this,arguments)}var Jf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zf="_blank",eh="http://localhost",th=function(){function e(t){ei(this,e),this.window=t,this.associatedEvent=null}return ni(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function nh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Jf),{width:r.toString(),height:i.toString(),top:a,left:o}),l=_i().toLowerCase();n&&(u=Ou(l)?Zf:n),Pu(l)&&(t=t||eh,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(ju(l)&&"_self"!==u)return rh(t||"",u),new th(null);var h=window.open(t||"",u,f);Do(h,e,"popup-blocked");try{h.focus()}catch(d){}return new th(h)}function rh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ih="__/auth/handler",ah="emulator/auth/handler";function oh(e,t,n,r,i,a){Do(e.config.authDomain,e,"auth-domain-config-required"),Do(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Aa,eventId:i};if(t instanceof Ps){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Ds){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ih);return Bo(t,ah)}(e),"?").concat(Fi(p).slice(1))}var uh="webStorageSupport",sh=function(){function e(){ei(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tl,this._completeRedirectFn=Af}return ni(e,[{key:"_openPopup",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){var a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lo(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=oh(t,n,r,Uo(),i),e.abrupt("return",nh(t,o,il()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=oh(t,n,r,Uo(),i),ol().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Lo(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yf(t);case 2:return n=e.sent,r=new Df(t),n.register("authEvent",(function(e){return Do(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(uh,{type:uh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Co(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return jf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Bu()||Du()||Vu()}}]),e}(),ch=sh,lh=function(){function e(t){ei(this,e),this.factorId=t}return ni(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Oo("unexpected MultiFactorSessionType")}}}]),e}(),fh=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this,"phone")).credential=e,r}return ni(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ho(e,"POST","/v2/accounts/mfaEnrollment:finalize",Go(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ho(e,"POST","/v2/accounts/mfaSignIn:finalize",Go(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(lh),hh=function(){function e(){ei(this,e)}return ni(e,null,[{key:"assertion",value:function(e){return fh._fromCredential(e)}}]),e}();hh.FACTOR_ID="phone";var dh,ph="@firebase/auth",vh="0.19.12",mh=function(){function e(t){ei(this,e),this.auth=t,this.internalListeners=new Map}return ni(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Do(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function yh(){return window}dh="Browser",xa(new Xi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Do(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Do(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:dh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qu(dh)},i=new Ku(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fo);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),xa(new Xi("auth-internal",(function(e){return function(e){return new mh(e)}(Wu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),La(ph,vh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(dh)),La(ph,vh,"esm2017");function gh(e,t,n){return kh.apply(this,arguments)}function kh(){return kh=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yh(),o=a.BuildInfo,Lo(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ih(n.sessionId);case 4:return u=e.sent,s={},Vu()?s.ibi=o.packageName:Mu()?s.apn=o.packageName:Co(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",oh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),kh.apply(this,arguments)}function bh(){return bh=Yi(vi().mark((function e(t){var n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yh(),r=n.BuildInfo,i={},Vu()?i.iosBundleId=r.packageName:Mu()?i.androidPackageName=r.packageName:Co(t,"operation-not-supported-in-this-environment"),e.next=5,Mf(t,i);case 5:case"end":return e.stop()}}),e)}))),bh.apply(this,arguments)}function wh(e){var t=yh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function xh(e,t,n){return _h.apply(this,arguments)}function _h(){return _h=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Ao(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Mu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),_h.apply(this,arguments)}function Sh(e){var t,n,r,i,a,o,u,s,c,l,f=yh();Do("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Do("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Do("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Do("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Do("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ih(e){return Eh.apply(this,arguments)}function Eh(){return(Eh=Yi(vi().mark((function e(t){var n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Th(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(e){if(Lo(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Ch=function(e){oi(n,e);var t=fi(n);function n(){var e;return ei(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ni(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),uo(ui(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Df);function Ah(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Oh(),postBody:null,tenantId:e.tenantId,error:Ao(e,"no-auth-event")}}function Nh(e,t){return Lh()._set(Mh(e),t)}function Rh(e){return Ph.apply(this,arguments)}function Ph(){return Ph=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lh()._get(Mh(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Lh()._remove(Mh(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}function Dh(e,t){var n,r,i=function(e){var t=Fh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Fh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Fh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Fh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Ao(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Oh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Lh(){return Fo(Zc)}function Mh(e){return Au("authEvent",e.config.apiKey,e.name)}function Fh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||v(t)||u(t)||s();r[0];return Ui(r.slice(1).join("?"))}var Uh=function(){function e(){ei(this,e),this._redirectPersistence=tl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Af}return ni(e,[{key:"_initialize",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Ch(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Co(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){var a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),df.clear(),e.next=10,this._originValidation(t);case 10:return o=Ah(t,r,i),e.next=13,Nh(t,o);case 13:return e.next=15,gh(t,o,n);case 15:return u=e.sent,e.next=18,wh(u);case 18:return s=e.sent,e.abrupt("return",xh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=yh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Rh(e);case 2:t.onEvent(jh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Yi(vi().mark((function n(r){var i,a;return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Rh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Dh(i,r.url)),t.onEvent(a||jh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");yh().handleOpenURL=function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Vh=Uh;function jh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ao("no-auth-event")}}function zh(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Bh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return!("file:"!==zh()&&"ionic:"!==zh()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function qh(){return Ci()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Kh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return/Edge\/\d+/.test(e)}function Wh(){try{var e=self.localStorage,t=il();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_i();return qh()||Kh(e)}()||Ai()}catch(n){return Gh()&&Ai()}return!1}function Gh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Hh(){return("http:"===zh()||"https:"===zh()||Ei()||Bh())&&!(Ti()||Ii())&&Wh()&&!Gh()}function Qh(){return Bh()&&"undefined"!==typeof document}function $h(){return Yh.apply(this,arguments)}function Yh(){return(Yh=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xh={LOCAL:"local",NONE:"none",SESSION:"session"},Jh=Do,Zh="persistence";function ed(e,t){Jh(Object.values(Xh).includes(t),e,"invalid-persistence-type"),Ti()?Jh(t!==Xh.SESSION,e,"unsupported-persistence-type"):Ii()?Jh(t===Xh.NONE,e,"unsupported-persistence-type"):Gh()?Jh(t===Xh.NONE||t===Xh.LOCAL&&Ai(),e,"unsupported-persistence-type"):Jh(t===Xh.NONE||Wh(),e,"unsupported-persistence-type")}function td(e){return nd.apply(this,arguments)}function nd(){return nd=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=rd(),r=Au(Zh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}function rd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var id=Do,ad=function(){function e(){ei(this,e),this.browserResolver=Fo(ch),this.cordovaResolver=Fo(Vh),this.underlyingResolver=null,this._redirectPersistence=tl,this._completeRedirectFn=Af}return ni(e,[{key:"_initialize",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Qh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return id(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$h();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function od(e){return e.unwrap()}function ud(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new hd(e,function(e,t){var n,r=qi(e),i=t;return Do(t.customData.operationType,r,"argument-error"),Do(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wc._fromError(r,i)}(e,t));else if(r){var i=sd(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function sd(e){var t=(e instanceof Ni?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Ni)&&"temporaryProof"in t&&"phoneNumber"in t)return Xl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===po)return null;switch(r){case ho:n=Ms;break;case lo:n=Ls;break;case fo:n=Fs;break;case vo:n=js;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Us._create(r,u):xs._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Os(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Ni?n.credentialFromError(e):n.credentialFromResult(e)}function cd(e,t){return t.catch((function(t){throw t instanceof Ni&&ud(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,sd(t)),additionalUserInfo:qc(e),user:dd.getOrCreate(r)}}))}function ld(e,t){return fd.apply(this,arguments)}function fd(){return fd=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return cd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),fd.apply(this,arguments)}var hd=function(){function e(t,n){ei(this,e),this.resolver=n,this.auth=t.wrapped()}return ni(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return cd(od(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),dd=function(){function e(t){ei(this,e),this._delegate=t,this.multiFactor=function(e){var t=qi(e);return $c.has(t)||$c.set(t,Qc._fromUser(t)),$c.get(t)}(t)}return ni(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cd(this.auth,uc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ld(this.auth,Wl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cd(this.auth,lf(this._delegate,t,ad)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,td(Wu(this.auth));case 2:return e.abrupt("return",If(this._delegate,t,ad));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cd(this.auth,cc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return ld(this.auth,function(e,t,n){return Hl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return cd(this.auth,function(e,t,n){return cf.apply(this,arguments)}(this._delegate,e,ad))}},{key:"reauthenticateWithRedirect",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,td(Wu(this.auth));case 2:return e.abrupt("return",_f(this._delegate,t,ad));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Nc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Lc(qi(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Lc(qi(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Yl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Oc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Rc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();dd.USER_MAP=new WeakMap;var pd=Do,vd=function(){function e(t,n){if(ei(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;pd(r,"invalid-api-key",{appName:t.name}),pd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ad:void 0;this._delegate=n.initialize({options:{persistence:yd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(_o),this.linkUnderlyingAuth()}return ni(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?dd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Hu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return kc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return bc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return gc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cd(this._delegate,_c(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ac.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ns.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Tf(this._delegate,ad);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",cd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Wu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=md(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=md(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Ic.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ed(this._delegate,t),e.t0=t,e.next=e.t0===Xh.SESSION?4:e.t0===Xh.LOCAL?6:e.t0===Xh.NONE?11:13;break;case 4:return n=tl,e.abrupt("break",14);case 6:return e.next=8,Fo(Sl)._isAvailable();case 8:return r=e.sent,n=r?Sl:Zc,e.abrupt("break",14);case 11:return n=Cu,e.abrupt("break",14);case 13:return e.abrupt("return",Co("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return cd(this._delegate,function(e){return Ws.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return cd(this._delegate,ac(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return cd(this._delegate,function(e,t){return dc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return cd(this._delegate,function(e,t,n){return ac(qi(e),Rs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return cd(this._delegate,function(e,t,n){return Ec.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return ld(this._delegate,function(e,t,n){return Kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",cd(this._delegate,uf(this._delegate,t,ad)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pd(Hh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,td(this._delegate);case 3:return e.abrupt("return",wf(this._delegate,t,ad));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return xc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function md(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&dd.getOrCreate(e))},error:t,complete:n}}function yd(e,t){var n=function(e,t){var n=rd();if(!n)return[];var r=Au(Zh,e,t);switch(n.getItem(r)){case Xh.NONE:return[Cu];case Xh.LOCAL:return[Sl,tl];case Xh.SESSION:return[tl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Sl)||n.push(Sl),"undefined"!==typeof window)for(var r=0,i=[Zc,tl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Cu)||n.push(Cu),n}vd.Persistence=Xh;var gd=function(){function e(){ei(this,e),this.providerId="phone",this._delegate=new Xl(od(ao.auth()))}return ni(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Xl.credential(e,t)}}]),e}();gd.PHONE_SIGN_IN_METHOD=Xl.PHONE_SIGN_IN_METHOD,gd.PROVIDER_ID=Xl.PROVIDER_ID;var kd,bd=Do,wd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ao.app();ei(this,e),bd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new zl(t,n,i.auth()),this.type=this._delegate.type}return ni(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(kd=ao).INTERNAL.registerComponent(new Xi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new vd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:mo,PASSWORD_RESET:yo,RECOVER_EMAIL:go,REVERT_SECOND_FACTOR_ADDITION:ko,VERIFY_AND_CHANGE_EMAIL:bo,VERIFY_EMAIL:wo}},EmailAuthProvider:Rs,FacebookAuthProvider:Ls,GithubAuthProvider:Fs,GoogleAuthProvider:Ms,OAuthProvider:Os,SAMLAuthProvider:Vs,PhoneAuthProvider:gd,PhoneMultiFactorGenerator:hh,RecaptchaVerifier:wd,TwitterAuthProvider:js,Auth:vd,AuthCredential:Yu,Error:Ni}).setInstantiationMode("LAZY").setMultipleInstances(!1)),kd.registerVersion("@firebase/auth-compat","0.2.12");var xd="firebasestorage.googleapis.com",_d=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,Sd(e),"Firebase Storage: ".concat(r," (").concat(Sd(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ii(i),n.prototype),i}return ni(n,[{key:"_codeEquals",value:function(e){return Sd(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Ni);function Sd(e){return"storage/"+e}function Id(){return new _d("unknown","An unknown error occurred, please check the error payload for server response.")}function Ed(){return new _d("canceled","User canceled the upload/download.")}function Td(){return new _d("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cd(e){return new _d("invalid-argument",e)}function Ad(){return new _d("app-deleted","The Firebase app was deleted.")}function Nd(e){return new _d("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rd(e,t){return new _d("invalid-format","String does not match format '"+e+"': "+t)}function Pd(e){throw new _d("internal-error","Internal error: "+e)}var Dd,Od=function(){function e(t,n){ei(this,e),this.bucket=t,this.path_=n}return ni(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new _d("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===xd?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new _d("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),Ld=function(){function e(t){ei(this,e),this.promise_=Promise.reject(t)}return ni(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function Md(e){return"string"===typeof e||e instanceof String}function Fd(e){return Ud()&&e instanceof Blob}function Ud(){return"undefined"!==typeof Blob}function Vd(e,t,n,r){if(r<t)throw Cd("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Cd("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function jd(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function zd(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Dd||(Dd={}));var Bd=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;ei(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ni(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=Id();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?Ad():Ed());else i(new _d("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new qd(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new qd(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Dd.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new qd(o,r))}else{var u=r.getErrorCode()===Dd.ABORT;t(!1,new qd(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),qd=ni((function e(t,n,r){ei(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function Kd(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Wd(){for(var e=Kd(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(Ud())return new Blob(n);throw new _d("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Gd={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Hd=ni((function e(t,n){ei(this,e),this.data=t,this.contentType=n||null}));function Qd(e,t){switch(e){case Gd.RAW:return new Hd($d(t));case Gd.BASE64:case Gd.BASE64URL:return new Hd(Yd(e,t));case Gd.DATA_URL:return new Hd(function(e){var t=new Xd(e);return t.base64?Yd(Gd.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Rd(Gd.DATA_URL,"Malformed data URL.")}return $d(t)}(t.rest)}(t),new Xd(t).contentType)}throw Id()}function $d(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Yd(e,t){switch(e){case Gd.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Rd(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Gd.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Rd(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw Rd(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var Xd=ni((function e(t){ei(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Rd(Gd.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var Jd=function(){function e(t,n){ei(this,e);var r=0,i="";Fd(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ni(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(Fd(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Ud()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(Wd.apply(null,i))}var a=n.map((function(e){return Md(e)?Qd(Gd.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function Zd(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function ep(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function tp(e,t){return t}var np=ni((function e(t,n,r,i){ei(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||tp})),rp=null;function ip(){if(rp)return rp;var e=[];e.push(new np("bucket")),e.push(new np("generation")),e.push(new np("metageneration")),e.push(new np("name","fullPath",!0));var t=new np("name");t.xform=function(e,t){return function(e){return!Md(e)||e.length<2?e:ep(e)}(t)},e.push(t);var n=new np("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new np("timeCreated")),e.push(new np("updated")),e.push(new np("md5Hash",null,!0)),e.push(new np("cacheControl",null,!0)),e.push(new np("contentDisposition",null,!0)),e.push(new np("contentEncoding",null,!0)),e.push(new np("contentLanguage",null,!0)),e.push(new np("contentType",null,!0)),e.push(new np("metadata","customMetadata",!0)),rp=e}function ap(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Od(n,r);return t._makeStorageReference(i)}})}(r,e),r}function op(e,t,n){var r=Zd(t);return null===r?null:ap(e,r,n)}function up(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function sp(e,t,n){var r=Zd(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ri(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new Od(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=ri(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new Od(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var cp=ni((function e(t,n,r,i){ei(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function lp(e){if(!e)throw Id()}function fp(e,t){return function(n,r){var i=op(e,r,t);return lp(null!==i),i}}function hp(e,t){return function(n,r){var i=op(e,r,t);return lp(null!==i),function(e,t,n,r){var i=Zd(t);if(null===i)return null;if(!Md(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,u=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return jd("/b/"+o(i)+"/o/"+o(a),n,r)+zd({alt:"media",token:t})}));return u[0]}(i,r,e.host,e._protocol)}}function dp(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new _d("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new _d("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new _d("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new _d("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function pp(e){var t=dp(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new _d("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function vp(e,t,n){var r=jd(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new cp(r,"GET",fp(e,n),i);return a.errorHandler=pp(t),a}function mp(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=jd(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new cp(o,"GET",function(e,t){return function(n,r){var i=sp(e,t,r);return lp(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=dp(t),s}function yp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function gp(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=yp(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+up(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=Jd.getBlob(c,r,l);if(null===f)throw Td();var h={name:s.fullPath},d=jd(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new cp(d,"POST",fp(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=dp(t),v}var kp=ni((function e(t,n,r,i){ei(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function bp(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){lp(!1)}return lp(!!n&&-1!==(t||["active"]).indexOf(n)),n}var wp=262144;function xp(e,t,n,r,i,a,o,u){var s=new kp(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new _d("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw Td();var v=t.maxUploadRetryTime,m=new cp(n,"POST",(function(e,n){var i,o=bp(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?fp(t,a)(e,n):null,new kp(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=dp(e),m}var _p={STATE_CHANGED:"state_changed"},Sp={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ip(e){switch(e){case"running":case"pausing":case"canceling":return Sp.RUNNING;case"paused":return Sp.PAUSED;case"success":return Sp.SUCCESS;case"canceled":return Sp.CANCELED;default:return Sp.ERROR}}var Ep=ni((function e(t,n,r){ei(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function Tp(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var Cp=function(){function e(){var t=this;ei(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dd.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Dd.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Dd.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ni(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Pd("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Pd("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Pd("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Pd("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Pd("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),Ap=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Cp);function Np(){return new Ap}var Rp=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ei(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=ip(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ni(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=yp(t,r,i),u={name:o.fullPath},s=jd(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=up(o,n),f=e.maxUploadRetryTime,h=new cp(s,"POST",(function(e){var t;bp(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){lp(!1)}return lp(Md(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=dp(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Np,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new cp(n,"POST",(function(e){var t=bp(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){lp(!1)}n||lp(!1);var i=Number(n);return lp(!isNaN(i)),new kp(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=dp(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,Np,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=wp*this._chunkMultiplier,n=new kp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=xp(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,Np,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){wp*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=vp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,Np,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=gp(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,Np,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ed(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=Ip(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new Ep(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(Ip(this._state)){case Sp.SUCCESS:Tp(this._resolve.bind(null,this.snapshot))();break;case Sp.CANCELED:case Sp.ERROR:Tp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(Ip(this._state)){case Sp.RUNNING:case Sp.PAUSED:e.next&&Tp(e.next.bind(e,this.snapshot))();break;case Sp.SUCCESS:e.complete&&Tp(e.complete.bind(e))();break;default:e.error&&Tp(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),Pp=function(){function e(t,n){ei(this,e),this._service=t,this._location=n instanceof Od?n:Od.makeFromUrl(n,t.host)}return ni(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new Od(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return ep(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Od(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw Nd(e)}}]),e}();function Dp(e,t,n){return Op.apply(this,arguments)}function Op(){return(Op=Yi(vi().mark((function e(t,n,r){var i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,Lp(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,m(u.prefixes)),(a=n.items).push.apply(a,m(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,Dp(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lp(e,t){null!=t&&"number"===typeof t.maxResults&&Vd("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=mp(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,Np)}function Mp(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=jd(t.fullServerUrl(),e.host,e._protocol),a=up(n,r),o=e.maxOperationRetryTime,u=new cp(i,"PATCH",fp(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=pp(t),u}(e.storage,e._location,t,ip());return e.storage.makeRequestWithTokens(n,Np)}function Fp(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=jd(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new cp(r,"GET",hp(e,n),i);return a.errorHandler=pp(t),a}(e.storage,e._location,ip());return e.storage.makeRequestWithTokens(t,Np).then((function(e){if(null===e)throw new _d("no-download-url","The given file does not have any download URLs.");return e}))}function Up(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=jd(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new cp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=pp(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,Np)}function Vp(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Od(e._location.bucket,n);return new Pp(e.storage,r)}function jp(e,t){if(e instanceof Kp){var n=e;if(null==n._bucket)throw new _d("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Pp(n,n._bucket);return null!=t?jp(r,t):r}return void 0!==t?Vp(e,t):e}function zp(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Kp)return new Pp(e,t);throw Cd("To use ref(service, url), the first argument must be a Storage instance.")}return jp(e,t)}function Bp(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Od.makeFromBucketSpec(n,e)}function qp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:xi(i,e.app.options.projectId))}var Kp=function(){function e(t,n,r,i,a){ei(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xd,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Od.makeFromBucketSpec(i,this._host):Bp(this._host,this.app.options)}return ni(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Od.makeFromBucketSpec(this._url,e):this._bucket=Bp(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){Vd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){Vd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Yi(vi().mark((function e(){var t,n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Yi(vi().mark((function e(){var t,n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Pp(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new Ld(Ad());var a=function(e,t,n,r,i,a){var o=zd(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new Bd(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Wp="@firebase/storage",Gp="0.9.5",Hp="storage";function Qp(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Rp(e,new Jd(t),n)}(e=qi(e),t,n)}function $p(e){return function(e){e._throwIfRoot("getMetadata");var t=vp(e.storage,e._location,ip());return e.storage.makeRequestWithTokens(t,Np)}(e=qi(e))}function Yp(e){return function(e){var t={prefixes:[],items:[]};return Dp(e,t).then((function(){return t}))}(e=qi(e))}function Xp(e,t){return zp(e=qi(e),t)}function Jp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};qp(e,t,n,r)}function Zp(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Kp(r,i,a,n,Aa)}xa(new Xi(Hp,Zp,"PUBLIC").setMultipleInstances(!0)),La(Wp,Gp,""),La(Wp,Gp,"esm2017");var ev=function(){function e(t,n,r){ei(this,e),this._delegate=t,this.task=n,this.ref=r}return ni(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),tv=function(){function e(t,n){ei(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ni(e,[{key:"snapshot",get:function(){return new ev(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new ev(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new ev(e,i,i._ref))}:{next:t.next?function(e){return t.next(new ev(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),nv=function(){function e(t,n){ei(this,e),this._delegate=t,this._service=n}return ni(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new rv(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new rv(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),rv=function(){function e(t,n){ei(this,e),this._delegate=t,this.storage=n}return ni(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return Vp(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new tv(Qp(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gd.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=Qd(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new tv(new Rp(this._delegate,new Jd(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return Yp(this._delegate).then((function(t){return new nv(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return Lp(e=qi(e),t)}(this._delegate,e||void 0).then((function(e){return new nv(e,t.storage)}))}},{key:"getMetadata",value:function(){return $p(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return Mp(e=qi(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return Fp(qi(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),Up(qi(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw Nd(e)}}]),e}(),iv=function(){function e(t,n){ei(this,e),this.app=t,this._delegate=n}return ni(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(av(e))throw Cd("ref() expected a child path but got a URL, use refFromURL instead.");return new rv(Xp(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!av(e))throw Cd("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Od.makeFromUrl(e,this._delegate.host)}catch(t){throw Cd("refFromUrl() expected a valid full URL but got an invalid one.")}return new rv(Xp(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Jp(this._delegate,e,t,n)}}]),e}();function av(e){return/^[A-Za-z]+:\/\//.test(e)}function ov(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new iv(r,i)}!function(e){var t={TaskState:Sp,TaskEvent:_p,StringFormat:Gd,Storage:iv,Reference:rv};e.INTERNAL.registerComponent(new Xi("storage-compat",ov,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.13")}(ao);var uv,sv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},cv={},lv=lv||{},fv=sv||self;function hv(){}function dv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vv="closure_uid_"+(1e9*Math.random()>>>0),mv=0;function yv(e,t,n){return e.call.apply(e.bind,arguments)}function gv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kv(e,t,n){return(kv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yv:gv).apply(null,arguments)}function bv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function xv(){this.s=this.s,this.o=this.o}var _v={};xv.prototype.s=!1,xv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,vv)&&e[vv]||(e[vv]=++mv)}(this);delete _v[e]}},xv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Sv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Iv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ev(e){return Array.prototype.concat.apply([],arguments)}function Tv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cv(e){return/^[\s\xa0]*$/.test(e)}var Av,Nv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Rv(e,t){return-1!=e.indexOf(t)}function Pv(e,t){return e<t?-1:e>t?1:0}e:{var Dv=fv.navigator;if(Dv){var Ov=Dv.userAgent;if(Ov){Av=Ov;break e}}Av=""}function Lv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Mv(e){var t={};for(var n in e)t[n]=e[n];return t}var Fv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Uv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Fv.length;a++)n=Fv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Vv(e){return Vv[" "](e),e}Vv[" "]=hv;var jv,zv=Rv(Av,"Opera"),Bv=Rv(Av,"Trident")||Rv(Av,"MSIE"),qv=Rv(Av,"Edge"),Kv=qv||Bv,Wv=Rv(Av,"Gecko")&&!(Rv(Av.toLowerCase(),"webkit")&&!Rv(Av,"Edge"))&&!(Rv(Av,"Trident")||Rv(Av,"MSIE"))&&!Rv(Av,"Edge"),Gv=Rv(Av.toLowerCase(),"webkit")&&!Rv(Av,"Edge");function Hv(){var e=fv.document;return e?e.documentMode:void 0}e:{var Qv="",$v=function(){var e=Av;return Wv?/rv:([^\);]+)(\)|;)/.exec(e):qv?/Edge\/([\d\.]+)/.exec(e):Bv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Gv?/WebKit\/(\S+)/.exec(e):zv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($v&&(Qv=$v?$v[1]:""),Bv){var Yv=Hv();if(null!=Yv&&Yv>parseFloat(Qv)){jv=String(Yv);break e}}jv=Qv}var Xv,Jv={};function Zv(){return function(e){var t=Jv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Nv(String(jv)).split("."),n=Nv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Pv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Pv(0==a[2].length,0==o[2].length)||Pv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(fv.document&&Bv){var em=Hv();Xv=em||(parseInt(jv,10)||void 0)}else Xv=void 0;var tm=Xv,nm=function(){if(!fv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fv.addEventListener("test",hv,t),fv.removeEventListener("test",hv,t)}catch(n){}return e}();function rm(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function im(e,t){if(rm.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wv){e:{try{Vv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:am[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&im.Z.h.call(this)}}rm.prototype.h=function(){this.defaultPrevented=!0},wv(im,rm);var am={2:"touch",3:"pen",4:"mouse"};im.prototype.h=function(){im.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var om="closure_listenable_"+(1e6*Math.random()|0),um=0;function sm(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++um,this.ca=this.fa=!1}function cm(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function lm(e){this.src=e,this.g={},this.h=0}function fm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Sv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(cm(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function hm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}lm.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=hm(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new sm(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var dm="closure_lm_"+(1e6*Math.random()|0),pm={};function vm(e,t,n,r,i){if(r&&r.once)return ym(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)vm(e,t[a],n,r,i);return null}return n=Sm(n),e&&e[om]?e.N(t,n,pv(r)?!!r.capture:!!r,i):mm(e,t,n,!1,r,i)}function mm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=pv(i)?!!i.capture:!!i,u=xm(e);if(u||(e[dm]=u=new lm(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=wm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nm||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(bm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ym(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ym(e,t[a],n,r,i);return null}return n=Sm(n),e&&e[om]?e.O(t,n,pv(r)?!!r.capture:!!r,i):mm(e,t,n,!0,r,i)}function gm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)gm(e,t[a],n,r,i);else r=pv(r)?!!r.capture:!!r,n=Sm(n),e&&e[om]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=hm(a=e.g[t],n,r,i))&&(cm(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hm(t,n,r,i)),(n=-1<e?t[e]:null)&&km(n))}function km(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[om])fm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(bm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xm(t))?(fm(n,e),0==n.h&&(n.src=null,t[dm]=null)):cm(e)}}}function bm(e){return e in pm?pm[e]:pm[e]="on"+e}function wm(e,t){if(e.ca)e=!0;else{t=new im(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&km(e),e=n.call(r,t)}return e}function xm(e){return(e=e[dm])instanceof lm?e:null}var _m="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sm(e){return"function"===typeof e?e:(e[_m]||(e[_m]=function(t){return e.handleEvent(t)}),e[_m])}function Im(){xv.call(this),this.i=new lm(this),this.P=this,this.I=null}function Em(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new rm(t,e);else if(t instanceof rm)t.target=t.target||e;else{var i=t;Uv(t=new rm(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Tm(o,r,!0,t)&&i}if(i=Tm(o=t.g=e,r,!0,t)&&i,i=Tm(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Tm(o=t.g=n[a],r,!1,t)&&i}function Tm(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&fm(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}wv(Im,xv),Im.prototype[om]=!0,Im.prototype.removeEventListener=function(e,t,n,r){gm(this,e,t,n,r)},Im.prototype.M=function(){if(Im.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)cm(n[r]);delete t.g[e],t.h--}}this.I=null},Im.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Im.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cm=fv.JSON.stringify;function Am(){var e=Fm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nm,Rm=function(){function e(){ei(this,e),this.h=this.g=null}return ni(e,[{key:"add",value:function(e,t){var n=Pm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Pm=new(function(){function e(t,n){ei(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ni(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Dm}),(function(e){return e.reset()})),Dm=function(){function e(){ei(this,e),this.next=this.g=this.h=null}return ni(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Om(e){fv.setTimeout((function(){throw e}),0)}function Lm(e,t){Nm||function(){var e=fv.Promise.resolve(void 0);Nm=function(){e.then(Um)}}(),Mm||(Nm(),Mm=!0),Fm.add(e,t)}var Mm=!1,Fm=new Rm;function Um(){for(var e;e=Am();){try{e.h.call(e.g)}catch(n){Om(n)}var t=Pm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mm=!1}function Vm(e,t){Im.call(this),this.h=e||1,this.g=t||fv,this.j=kv(this.kb,this),this.l=Date.now()}function jm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function zm(e,t,n){if("function"===typeof e)n&&(e=kv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kv(e.handleEvent,e)}return 2147483647<Number(t)?-1:fv.setTimeout(e,t||0)}function Bm(e){e.g=zm((function(){e.g=null,e.i&&(e.i=!1,Bm(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wv(Vm,Im),(uv=Vm.prototype).da=!1,uv.S=null,uv.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Em(this,"tick"),this.da&&(jm(this),this.start()))}},uv.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},uv.M=function(){Vm.Z.M.call(this),jm(this),delete this.g};var qm=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ni(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Bm(this)}},{key:"M",value:function(){uo(ui(n.prototype),"M",this).call(this),this.g&&(fv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(xv);function Km(e){xv.call(this),this.h=e,this.g={}}wv(Km,xv);var Wm=[];function Gm(e,t,n,r){Array.isArray(n)||(n&&(Wm[0]=n.toString()),n=Wm);for(var i=0;i<n.length;i++){var a=vm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Hm(e){Lv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&km(e)}),e),e.g={}}function Qm(){this.g=!0}function $m(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Cm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Km.prototype.M=function(){Km.Z.M.call(this),Hm(this)},Km.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qm.prototype.Aa=function(){this.g=!1},Qm.prototype.info=function(){};var Ym={},Xm=null;function Jm(){return Xm=Xm||new Im}function Zm(e){rm.call(this,Ym.Ma,e)}function ey(e){var t=Jm();Em(t,new Zm(t,e))}function ty(e,t){rm.call(this,Ym.STAT_EVENT,e),this.stat=t}function ny(e){var t=Jm();Em(t,new ty(t,e))}function ry(e,t){rm.call(this,Ym.Na,e),this.size=t}function iy(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fv.setTimeout((function(){e()}),t)}Ym.Ma="serverreachability",wv(Zm,rm),Ym.STAT_EVENT="statevent",wv(ty,rm),Ym.Na="timingevent",wv(ry,rm);var ay={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},oy={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uy(){}function sy(e){return e.h||(e.h=e.i())}function cy(){}uy.prototype.h=null;var ly,fy={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function hy(){rm.call(this,"d")}function dy(){rm.call(this,"c")}function py(){}function vy(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Km(this),this.P=yy,e=Kv?125:void 0,this.W=new Vm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new my}function my(){this.i=null,this.g="",this.h=!1}wv(hy,rm),wv(dy,rm),wv(py,uy),py.prototype.g=function(){return new XMLHttpRequest},py.prototype.i=function(){return{}},ly=new py;var yy=45e3,gy={},ky={};function by(e,t,n){e.K=1,e.v=qy(Fy(t)),e.s=n,e.U=!0,wy(e,null)}function wy(e,t){e.F=Date.now(),Iy(e),e.A=Fy(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ng(n.h,"t",r),e.C=0,n=e.l.H,e.h=new my,e.g=ik(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qm(kv(e.Ia,e,e.g),e.O)),Gm(e.V,e.g,"readystatechange",e.gb),t=e.H?Mv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ey(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function xy(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _y(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Sy(e,n))==ky){4==t&&(e.o=4,ny(14),i=!1),$m(e.j,e.m,null,"[Incomplete Response]");break}if(r==gy){e.o=4,ny(15),$m(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$m(e.j,e.m,r,null),Ny(e,r)}xy(e)&&r!=ky&&r!=gy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ny(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yg(t),t.L=!0,ny(11))):($m(e.j,e.m,n,"[Invalid Chunked Response]"),Ay(e),Cy(e))}function Sy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ky:(n=Number(t.substring(n,r)),isNaN(n)?gy:(r+=1)+n>t.length?ky:(t=t.substr(r,n),e.C=r+n,t))}function Iy(e){e.Y=Date.now()+e.P,Ey(e,e.P)}function Ey(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=iy(kv(e.eb,e),t)}function Ty(e){e.B&&(fv.clearTimeout(e.B),e.B=null)}function Cy(e){0==e.l.G||e.I||Zg(e.l,e)}function Ay(e){Ty(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,jm(e.W),Hm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ny(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||lg(n.i,e)))if(n.I=e.N,!e.J&&lg(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Jg(n),zg(n)}$g(n),ny(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=iy(kv(n.ab,n),6e3));if(1>=cg(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else tk(n,11)}else if((e.J||n.g==e)&&Jg(n),!Cv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Rv(l,"spdy")||Rv(l,"quic")||Rv(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(fg(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,By(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=rk(r,r.H?r.la:null,r.W),d.J){hg(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ty(p),Iy(p)),r.g=d}else Qg(r);0<n.l.length&&Kg(n)}else"stop"!=a[0]&&"close"!=a[0]||tk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?tk(n,7):jg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ey(4)}catch(a){}}function Ry(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dv(e)||"string"===typeof e)Iv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(dv(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(dv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Py(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Py)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Oy(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Oy(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Oy(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(uv=vy.prototype).setTimeout=function(e){this.P=e},uv.gb=function(e){e=e.target;var t=this.L;t&&3==Lg(e)?t.l():this.Ia(e)},uv.Ia=function(e){try{if(e==this.g)e:{var t=Lg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Kv||this.g&&(this.h.h||this.g.ga()||Mg(this.g)))){this.I||4!=t||7==n||ey(8==n||0>=r?3:2),Ty(this);var i=this.g.ba();this.N=i;t:if(xy(this)){var a=Mg(this.g);e="";var o=a.length,u=4==Lg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ay(this),Cy(this);var s="";break t}this.h.i=new fv.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cv(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ny(12),Ay(this),Cy(this);break e}$m(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ny(this,i)}this.U?(_y(this,t,s),Kv&&this.i&&3==t&&(Gm(this.V,this.W,"tick",this.fb),this.W.start())):($m(this.j,this.m,s,null),Ny(this,s)),4==t&&Ay(this),this.i&&!this.I&&(4==t?Zg(this.l,this):(this.i=!1,Iy(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ny(12)):(this.o=0,ny(13)),Ay(this),Cy(this)}}}catch(t){}},uv.fb=function(){if(this.g){var e=Lg(this.g),t=this.g.ga();this.C<t.length&&(Ty(this),_y(this,e,t),this.i&&4!=e&&Iy(this))}},uv.cancel=function(){this.I=!0,Ay(this)},uv.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ey(3),ny(17)),Ay(this),this.o=2,Cy(this)):Ey(this,this.Y-e)},(uv=Py.prototype).R=function(){Dy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},uv.T=function(){return Dy(this),this.g.concat()},uv.get=function(e,t){return Oy(this.h,e)?this.h[e]:t},uv.set=function(e,t){Oy(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},uv.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ly=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function My(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof My){this.g=void 0!==t?t:e.g,Uy(this,e.j),this.s=e.s,Vy(this,e.i),jy(this,e.m),this.l=e.l,t=e.h;var n=new Jy;n.i=t.i,t.g&&(n.g=new Py(t.g),n.h=t.h),zy(this,n),this.o=e.o}else e&&(n=String(e).match(Ly))?(this.g=!!t,Uy(this,n[1]||"",!0),this.s=Ky(n[2]||""),Vy(this,n[3]||"",!0),jy(this,n[4]),this.l=Ky(n[5]||"",!0),zy(this,n[6]||"",!0),this.o=Ky(n[7]||"")):(this.g=!!t,this.h=new Jy(null,this.g))}function Fy(e){return new My(e)}function Uy(e,t,n){e.j=n?Ky(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vy(e,t,n){e.i=n?Ky(t,!0):t}function jy(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zy(e,t,n){t instanceof Jy?(e.h=t,function(e,t){t&&!e.j&&(Zy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(eg(this,t),ng(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Wy(t,Yy)),e.h=new Jy(t,e.g))}function By(e,t,n){e.h.set(t,n)}function qy(e){return By(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ky(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wy(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}My.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wy(t,Hy,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wy(t,Hy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wy(n,"/"==n.charAt(0)?$y:Qy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wy(n,Xy)),e.join("")};var Hy=/[#\/\?@]/g,Qy=/[#\?:]/g,$y=/[#\?]/g,Yy=/[#\?@]/g,Xy=/#/g;function Jy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zy(e){e.g||(e.g=new Py,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function eg(e,t){Zy(e),t=rg(e,t),Oy(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Oy((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dy(e)))}function tg(e,t){return Zy(e),t=rg(e,t),Oy(e.g.h,t)}function ng(e,t,n){eg(e,t),0<n.length&&(e.i=null,e.g.set(rg(e,t),Tv(n)),e.h+=n.length)}function rg(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(uv=Jy.prototype).add=function(e,t){Zy(this),this.i=null,e=rg(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},uv.forEach=function(e,t){Zy(this),this.g.forEach((function(n,r){Iv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},uv.T=function(){Zy(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},uv.R=function(e){Zy(this);var t=[];if("string"===typeof e)tg(this,e)&&(t=Ev(t,this.g.get(rg(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ev(t,e[n])}return t},uv.set=function(e,t){return Zy(this),this.i=null,tg(this,e=rg(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},uv.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},uv.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ig=ni((function e(t,n){ei(this,e),this.h=t,this.g=n}));function ag(e){this.l=e||ug,fv.PerformanceNavigationTiming?e=0<(e=fv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fv.g&&fv.g.Ea&&fv.g.Ea()&&fv.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var og,ug=10;function sg(e){return!!e.h||!!e.g&&e.g.size>=e.j}function cg(e){return e.h?1:e.g?e.g.size:0}function lg(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fg(e,t){e.g?e.g.add(t):e.h=t}function hg(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dg(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ri(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Tv(e.i)}function pg(){}function vg(){this.g=new pg}function mg(e,t,n){var r=n||"";try{Ry(e,(function(e,n){var i=e;pv(e)&&(i=Cm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function yg(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function gg(e){this.l=e.$b||null,this.j=e.ib||!1}function kg(e,t){Im.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ag.prototype.cancel=function(){if(this.i=dg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ri(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pg.prototype.stringify=function(e){return fv.JSON.stringify(e,void 0)},pg.prototype.parse=function(e){return fv.JSON.parse(e,void 0)},wv(gg,uy),gg.prototype.g=function(){return new kg(this.l,this.j)},gg.prototype.i=(og={},function(){return og}),wv(kg,Im);var bg=0;function wg(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xg(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_g(e)}function _g(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(uv=kg.prototype).open=function(e,t){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_g(this)},uv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fv).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},uv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xg(this)),this.readyState=bg},uv.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_g(this)),this.g&&(this.readyState=3,_g(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof fv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wg(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},uv.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xg(this):_g(this),3==this.readyState&&wg(this)}},uv.Ua=function(e){this.g&&(this.response=this.responseText=e,xg(this))},uv.Ta=function(e){this.g&&(this.response=e,xg(this))},uv.ha=function(){this.g&&xg(this)},uv.setRequestHeader=function(e,t){this.v.append(e,t)},uv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},uv.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sg=fv.JSON.parse;function Ig(e){Im.call(this),this.headers=new Py,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Eg,this.K=this.L=!1}wv(Ig,Im);var Eg="",Tg=/^https?$/i,Cg=["POST","PUT"];function Ag(e){return"content-type"==e.toLowerCase()}function Ng(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rg(e),Dg(e)}function Rg(e){e.D||(e.D=!0,Em(e,"complete"),Em(e,"error"))}function Pg(e){if(e.h&&"undefined"!=typeof lv&&(!e.C[1]||4!=Lg(e)||2!=e.ba()))if(e.v&&4==Lg(e))zm(e.Fa,0,e);else if(Em(e,"readystatechange"),4==Lg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ly)[1]||null;if(!a&&fv.self&&fv.self.location){var o=fv.self.location.protocol;a=o.substr(0,o.length-1)}i=!Tg.test(a?a.toLowerCase():"")}t=i}if(t)Em(e,"complete"),Em(e,"success");else{e.m=6;try{var u=2<Lg(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Rg(e)}}finally{Dg(e)}}}function Dg(e,t){if(e.g){Og(e);var n=e.g,r=e.C[0]?hv:null;e.g=null,e.C=null,t||Em(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Og(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fv.clearTimeout(e.A),e.A=null)}function Lg(e){return e.g?e.g.readyState:0}function Mg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Eg:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Fg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Lv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):By(e,t,n))}function Ug(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vg(e){this.za=0,this.l=[],this.h=new Qm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ug("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ug("baseRetryDelayMs",5e3,e),this.$a=Ug("retryDelaySeedMs",1e4,e),this.Ya=Ug("forwardChannelMaxRetries",2,e),this.ra=Ug("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ag(e&&e.concurrentRequestLimit),this.Ca=new vg,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function jg(e){if(Bg(e),3==e.G){var t=e.V++,n=Fy(e.F);By(n,"SID",e.J),By(n,"RID",t),By(n,"TYPE","terminate"),Gg(e,n),(t=new vy(e,e.h,t,void 0)).K=2,t.v=qy(Fy(n)),n=!1,fv.navigator&&fv.navigator.sendBeacon&&(n=fv.navigator.sendBeacon(t.v.toString(),"")),!n&&fv.Image&&((new Image).src=t.v,n=!0),n||(t.g=ik(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Iy(t)}nk(e)}function zg(e){e.g&&(Yg(e),e.g.cancel(),e.g=null)}function Bg(e){zg(e),e.u&&(fv.clearTimeout(e.u),e.u=null),Jg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&fv.clearTimeout(e.m),e.m=null)}function qg(e,t){e.l.push(new ig(e.Za++,t)),3==e.G&&Kg(e)}function Kg(e){sg(e.i)||e.m||(e.m=!0,Lm(e.Ha,e),e.C=0)}function Wg(e,t){var n;n=t?t.m:e.V++;var r=Fy(e.F);By(r,"SID",e.J),By(r,"RID",n),By(r,"AID",e.U),Gg(e,r),e.o&&e.s&&Fg(r,e.o,e.s),n=new vy(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Hg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),fg(e.i,n),by(n,r,t)}function Gg(e,t){e.j&&Ry({},(function(e,n){By(t,n,e)}))}function Hg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?kv(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{mg(l,o,"req"+c+"_")}catch(Pk){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Qg(e){e.g||e.u||(e.Y=1,Lm(e.Ga,e),e.A=0)}function $g(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=iy(kv(e.Ga,e),ek(e,e.A)),e.A++,!0)}function Yg(e){null!=e.B&&(fv.clearTimeout(e.B),e.B=null)}function Xg(e){e.g=new vy(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Fy(e.oa);By(t,"RID","rpc"),By(t,"SID",e.J),By(t,"CI",e.N?"0":"1"),By(t,"AID",e.U),Gg(e,t),By(t,"TYPE","xmlhttp"),e.o&&e.s&&Fg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qy(Fy(t)),n.s=null,n.U=!0,wy(n,e)}function Jg(e){null!=e.v&&(fv.clearTimeout(e.v),e.v=null)}function Zg(e,t){var n=null;if(e.g==t){Jg(e),Yg(e),e.g=null;var r=2}else{if(!lg(e.i,t))return;n=t.D,hg(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Em(r=Jm(),new ry(r,n,t,i)),Kg(e)}else Qg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(cg(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=iy(kv(e.Ha,e,t),ek(e,e.C)),e.C++,!0))}(e,t)||2==r&&$g(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:tk(e,5);break;case 4:tk(e,10);break;case 3:tk(e,6);break;default:tk(e,2)}}function ek(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function tk(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=kv(e.jb,e);n||(n=new My("//www.google.com/images/cleardot.gif"),fv.location&&"http"==fv.location.protocol||Uy(n,"https"),qy(n)),function(e,t){var n=new Qm;if(fv.Image){var r=new Image;r.onload=bv(yg,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bv(yg,n,r,"TestLoadImage: error",!1,t),r.onabort=bv(yg,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bv(yg,n,r,"TestLoadImage: timeout",!1,t),fv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ny(2);e.G=0,e.j&&e.j.va(t),nk(e),Bg(e)}function nk(e){e.G=0,e.I=-1,e.j&&(0==dg(e.i).length&&0==e.l.length||(e.i.i.length=0,Tv(e.l),e.l.length=0),e.j.ua())}function rk(e,t,n){var r=function(e){return e instanceof My?Fy(e):new My(e,void 0)}(n);if(""!=r.i)t&&Vy(r,t+"."+r.i),jy(r,r.m);else{var i=fv.location;r=function(e,t,n,r){var i=new My(null,void 0);return e&&Uy(i,e),t&&Vy(i,t),n&&jy(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Lv(e.aa,(function(e,t){By(r,t,e)})),t=e.D,n=e.sa,t&&n&&By(r,t,n),By(r,"VER",e.ma),Gg(e,r),r}function ik(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ig(new gg({ib:!0})):new Ig(e.qa)).L=e.H,t}function ak(){}function ok(){if(Bv&&!(10<=Number(tm)))throw Error("Environmental error: no available transport.")}function uk(e,t){Im.call(this),this.g=new Vg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Cv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lk(this)}function sk(e){hy.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ck(){dy.call(this),this.status=1}function lk(e){this.g=e}(uv=Ig.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ly.g(),this.C=this.u?sy(this.u):sy(ly),this.g.onreadystatechange=kv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Ng(this,a)}e=n||"";var i=new Py(this.headers);r&&Ry(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ag,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=fv.FormData&&e instanceof fv.FormData,!(0<=Sv(Cg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Og(this),0<this.B&&((this.K=function(e){return Bv&&Zv()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kv(this.pa,this)):this.A=zm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Ng(this,a)}},uv.pa=function(){"undefined"!=typeof lv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Em(this,"timeout"),this.abort(8))},uv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Em(this,"complete"),Em(this,"abort"),Dg(this))},uv.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dg(this,!0)),Ig.Z.M.call(this)},uv.Fa=function(){this.s||(this.F||this.v||this.l?Pg(this):this.cb())},uv.cb=function(){Pg(this)},uv.ba=function(){try{return 2<Lg(this)?this.g.status:-1}catch(og){return-1}},uv.ga=function(){try{return this.g?this.g.responseText:""}catch(og){return""}},uv.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sg(t)}},uv.Da=function(){return this.m},uv.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(uv=Vg.prototype).ma=8,uv.G=1,uv.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},uv.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new vy(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Uv(n=Mv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Hg(this,t,r),By(i=Fy(this.F),"RID",e),By(i,"CVER",22),this.D&&By(i,"X-HTTP-Session-Id",this.D),Gg(this,i),this.o&&n&&Fg(i,this.o,n),fg(this.i,t),this.Ra&&By(i,"TYPE","init"),this.ja?(By(i,"$req",r),By(i,"SID","null"),t.$=!0,by(t,i,null)):by(t,i,r),this.G=2}}else 3==this.G&&(e?Wg(this,e):0==this.l.length||sg(this.i)||Wg(this))},uv.Ga=function(){if(this.u=null,Xg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=iy(kv(this.bb,this),e)}},uv.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ny(10),zg(this),Xg(this))},uv.ab=function(){null!=this.v&&(this.v=null,zg(this),$g(this),ny(19))},uv.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ny(2)):(this.h.info("Failed to ping google.com"),ny(1))},(uv=ak.prototype).xa=function(){},uv.wa=function(){},uv.va=function(){},uv.ua=function(){},uv.Oa=function(){},ok.prototype.g=function(e,t){return new uk(e,t)},wv(uk,Im),uk.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lm(kv(e.hb,e,t))),ny(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=rk(e,null,e.W),Kg(e)},uk.prototype.close=function(){jg(this.g)},uk.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qg(this.g,t)}else this.v?((t={}).__data__=Cm(e),qg(this.g,t)):qg(this.g,e)},uk.prototype.M=function(){this.g.j=null,delete this.j,jg(this.g),delete this.g,uk.Z.M.call(this)},wv(sk,hy),wv(ck,dy),wv(lk,ak),lk.prototype.xa=function(){Em(this.g,"a")},lk.prototype.wa=function(e){Em(this.g,new sk(e))},lk.prototype.va=function(e){Em(this.g,new ck(e))},lk.prototype.ua=function(){Em(this.g,"b")},ok.prototype.createWebChannel=ok.prototype.g,uk.prototype.send=uk.prototype.u,uk.prototype.open=uk.prototype.m,uk.prototype.close=uk.prototype.close,ay.NO_ERROR=0,ay.TIMEOUT=8,ay.HTTP_ERROR=6,oy.COMPLETE="complete",cy.EventType=fy,fy.OPEN="a",fy.CLOSE="b",fy.ERROR="c",fy.MESSAGE="d",Im.prototype.listen=Im.prototype.N,Ig.prototype.listenOnce=Ig.prototype.O,Ig.prototype.getLastError=Ig.prototype.La,Ig.prototype.getLastErrorCode=Ig.prototype.Da,Ig.prototype.getStatus=Ig.prototype.ba,Ig.prototype.getResponseJson=Ig.prototype.Qa,Ig.prototype.getResponseText=Ig.prototype.ga,Ig.prototype.send=Ig.prototype.ea;var fk=cv.createWebChannelTransport=function(){return new ok},hk=cv.getStatEventTarget=function(){return Jm()},dk=cv.ErrorCode=ay,pk=cv.EventType=oy,vk=cv.Event=Ym,mk=cv.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yk=cv.FetchXmlHttpFactory=gg,gk=cv.WebChannel=cy,kk=cv.XhrIo=Ig,bk="@firebase/firestore",wk=function(){function e(t){ei(this,e),this.uid=t}return ni(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();wk.UNAUTHENTICATED=new wk(null),wk.GOOGLE_CREDENTIALS=new wk("google-credentials-uid"),wk.FIRST_PARTY=new wk("first-party-uid"),wk.MOCK_USER=new wk("mock-user");var xk="9.6.11",_k=new fa("@firebase/firestore");function Sk(){return _k.logLevel}function Ik(e){if(_k.logLevel<=na.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ck);_k.debug.apply(_k,["Firestore (".concat(xk,"): ").concat(e)].concat(m(i)))}}function Ek(e){if(_k.logLevel<=na.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ck);_k.error.apply(_k,["Firestore (".concat(xk,"): ").concat(e)].concat(m(i)))}}function Tk(e){if(_k.logLevel<=na.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ck);_k.warn.apply(_k,["Firestore (".concat(xk,"): ").concat(e)].concat(m(i)))}}function Ck(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(xk,") INTERNAL ASSERTION FAILED: ")+e;throw Ek(t),new Error(t)}function Nk(e,t){e||Ak()}function Rk(e,t){return e}var Pk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Dk=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ni(n)}(Ni),Ok=ni((function e(){var t=this;ei(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Lk=ni((function e(t,n){ei(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Mk=function(){function e(){ei(this,e)}return ni(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Fk=function(){function e(t){ei(this,e),this.token=t,this.changeListener=null}return ni(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Uk=function(){function e(t){ei(this,e),this.t=t,this.currentUser=wk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ni(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ok;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ok,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Ik("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Ik("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ok)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Ik("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nk("string"==typeof n.accessToken),new Lk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Nk(null===e||"string"==typeof e),new wk(e)}}]),e}(),Vk=ni((function e(t,n,r){ei(this,e),this.type="FirstParty",this.user=wk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),jk=function(){function e(t,n,r){ei(this,e),this.h=t,this.l=n,this.m=r}return ni(e,[{key:"getToken",value:function(){return Promise.resolve(new Vk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(wk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),zk=ni((function e(t){ei(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Bk=function(){function e(t){ei(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ni(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Ik("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Ik("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Ik("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Ik("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Nk("string"==typeof t.token),e.p=t.token,new zk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),qk=function(){function e(t,n){var r=this;ei(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ni(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Kk(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}qk.A=-1;var Wk=function(){function e(){ei(this,e)}return ni(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Kk(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gk(e,t){return e<t?-1:e>t?1:0}function Hk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Qk(e){return e+"\0"}var $k=function(){function e(t,n){if(ei(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Dk(Pk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Dk(Pk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Dk(Pk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Dk(Pk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ni(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gk(this.nanoseconds,e.nanoseconds):Gk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Yk=function(){function e(t){ei(this,e),this.timestamp=t}return ni(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new $k(0,0))}},{key:"max",value:function(){return new e(new $k(253402300799,999999999))}}]),e}();function Xk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Jk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var eb=function(){function e(t,n,r){ei(this,e),void 0===n?n=0:n>t.length&&Ak(),void 0===r?r=t.length-n:r>t.length-n&&Ak(),this.segments=t,this.offset=n,this.len=r}return ni(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),tb=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,m(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(eb),nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rb=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return nb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Dk(Pk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Dk(Pk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Dk(Pk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(eb),ib=function(){function e(t){ei(this,e),this.fields=t,t.sort(rb.comparator)}return ni(e,[{key:"covers",value:function(e){var t,n=ri(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Hk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var ab=function(e){function t(e){ei(this,t),this.binaryString=e}return ni(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ab.EMPTY_BYTE_STRING=new ab("");var ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ub(e){if(Nk(!!e),"string"==typeof e){var t=0,n=ob.exec(e);if(Nk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sb(e.seconds),nanos:sb(e.nanos)}}function sb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cb(e){return"string"==typeof e?ab.fromBase64String(e):ab.fromUint8Array(e)}function lb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fb(e){var t=e.mapValue.fields.__previous_value__;return lb(t)?fb(t):t}function hb(e){var t=ub(e.mapValue.fields.__local_write_time__.timestampValue);return new $k(t.seconds,t.nanos)}var db=ni((function e(t,n,r,i,a,o,u,s){ei(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),pb=function(){function e(t,n){ei(this,e),this.projectId=t,this.database=n||"(default)"}return ni(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function vb(e){return null==e}function mb(e){return 0===e&&1/e==-1/0}function yb(e){return"number"==typeof e&&Number.isInteger(e)&&!mb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var gb=function(){function e(t){ei(this,e),this.path=t}return ni(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===tb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(tb.fromString(t))}},{key:"fromName",value:function(t){return new e(tb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(tb.emptyPath())}},{key:"comparator",value:function(e,t){return tb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new tb(t.slice()))}}]),e}(),kb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bb={nullValue:"NULL_VALUE"};function wb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lb(e)?4:Lb(e)?9:10:Ak()}function xb(e,t){if(e===t)return!0;var n=wb(e);if(n!==wb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return hb(e).isEqual(hb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ub(e.timestampValue),r=ub(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cb(e.bytesValue).isEqual(cb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sb(e.geoPointValue.latitude)===sb(t.geoPointValue.latitude)&&sb(e.geoPointValue.longitude)===sb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sb(e.integerValue)===sb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=sb(e.doubleValue),r=sb(t.doubleValue);return n===r?mb(n)===mb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hk(e.arrayValue.values||[],t.arrayValue.values||[],xb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Xk(n)!==Xk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xb(n[i],r[i])))return!1;return!0}(e,t);default:return Ak()}}function _b(e,t){return void 0!==(e.values||[]).find((function(e){return xb(e,t)}))}function Sb(e,t){if(e===t)return 0;var n=wb(e),r=wb(t);if(n!==r)return Gk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=sb(e.integerValue||e.doubleValue),r=sb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ib(e.timestampValue,t.timestampValue);case 4:return Ib(hb(e),hb(t));case 5:return Gk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=cb(e),r=cb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gk(n[i],r[i]);if(0!==a)return a}return Gk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gk(sb(e.latitude),sb(t.latitude));return 0!==n?n:Gk(sb(e.longitude),sb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Sb(n[i],r[i]);if(a)return a}return Gk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Gk(r[o],a[o]);if(0!==u)return u;var s=Sb(n[r[o]],i[a[o]]);if(0!==s)return s}return Gk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ak()}}function Ib(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gk(e,t);var n=ub(e),r=ub(t),i=Gk(n.seconds,r.seconds);return 0!==i?i:Gk(n.nanos,r.nanos)}function Eb(e){return Tb(e)}function Tb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ub(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,gb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ri(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Tb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ri(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Tb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ak();var t,n}function Cb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ab(e){return!!e&&"integerValue"in e}function Nb(e){return!!e&&"arrayValue"in e}function Rb(e){return!!e&&"nullValue"in e}function Pb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Db(e){return!!e&&"mapValue"in e}function Ob(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Jk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ob(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ob(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Lb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Mb(e){return"nullValue"in e?bb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Cb(pb.empty(),gb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ak()}function Fb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Cb(pb.empty(),gb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?kb:Ak()}function Ub(e,t){return void 0===e?t:void 0===t||Sb(e,t)>0?e:t}function Vb(e,t){return void 0===e?t:void 0===t||Sb(e,t)<0?e:t}var jb=function(){function e(t){ei(this,e),this.value=t}return ni(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Db(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ob(t)}},{key:"setAll",value:function(e){var t=this,n=rb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ob(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return xb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Db(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Jk(t,(function(t,n){return e[t]=n}));var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ob(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function zb(e){var t=[];return Jk(e.fields,(function(e,n){var r=new rb([e]);if(Db(n)){var i=zb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ri(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ib(t)}var Bb=function(){function e(t,n,r,i,a,o){ei(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ni(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=jb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=jb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Yk.min(),Yk.min(),jb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Yk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Yk.min(),jb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Yk.min(),jb.empty(),2)}}]),e}(),qb=ni((function e(t,n,r,i){ei(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Kb(e){return e.fields.find((function(e){return 2===e.kind}))}function Wb(e){return e.fields.filter((function(e){return 2!==e.kind}))}qb.UNKNOWN_ID=-1;var Gb=ni((function e(t,n){ei(this,e),this.fieldPath=t,this.kind=n})),Hb=function(){function e(t,n){ei(this,e),this.sequenceNumber=t,this.offset=n}return ni(e,null,[{key:"empty",value:function(){return new e(0,Yb.min())}}]),e}();function Qb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Yk.fromTimestamp(1e9===r?new $k(n+1,0):new $k(n,r));return new Yb(i,gb.empty(),t)}function $b(e){return new Yb(e.readTime,e.key,-1)}var Yb=function(){function e(t,n,r){ei(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ni(e,null,[{key:"min",value:function(){return new e(Yk.min(),gb.empty(),-1)}},{key:"max",value:function(){return new e(Yk.max(),gb.empty(),-1)}}]),e}();function Xb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=gb.comparator(e.documentKey,t.documentKey))?n:Gk(e.largestBatchId,t.largestBatchId)}var Jb=ni((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ei(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Zb(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Jb(e,t,n,r,i,a,o)}function ew(e){var t=Rk(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Eb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),vb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Eb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Eb(e)})).join(",")),t.P=n}return t.P}function tw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!yw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!xb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!kw(e.startAt,t.startAt)&&kw(e.endAt,t.endAt)}function nw(e){return gb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function rw(e,t){return e.filters.filter((function(e){return e instanceof ow&&e.field.isEqual(t)}))}function iw(e,t,n){var r,i,a=!0,o=ri(rw(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=Mb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=bb}Ub(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ub(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function aw(e,t,n){var r,i,a=!0,o=ri(rw(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=Fb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=kb}Vb(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Vb(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var ow=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ni(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Sb(t,this.value)):null!==t&&wb(this.value)===wb(t)&&this.v(Sb(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ak()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new uw(e,t,r):"array-contains"===t?new fw(e,r):"in"===t?new hw(e,r):"not-in"===t?new dw(e,r):"array-contains-any"===t?new pw(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new sw(e,n):new cw(e,n)}}]),n}(function(){return ni((function e(){ei(this,e)}))}()),uw=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this,e,r,i)).key=gb.fromName(i.referenceValue),a}return ni(n,[{key:"matches",value:function(e){var t=gb.comparator(e.key,this.key);return this.v(t)}}]),n}(ow),sw=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,"in",r)).keys=lw("in",r),i}return ni(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ow),cw=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,"not-in",r)).keys=lw("not-in",r),i}return ni(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(ow);function lw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return gb.fromName(e.referenceValue)}))}var fw=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"array-contains",r)}return ni(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Nb(t)&&_b(t.arrayValue,this.value)}}]),n}(ow),hw=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"in",r)}return ni(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&_b(this.value.arrayValue,t)}}]),n}(ow),dw=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"not-in",r)}return ni(n,[{key:"matches",value:function(e){if(_b(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!_b(this.value.arrayValue,t)}}]),n}(ow),pw=function(e){oi(n,e);var t=fi(n);function n(e,r){return ei(this,n),t.call(this,e,"array-contains-any",r)}return ni(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Nb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return _b(t.value.arrayValue,e)}))}}]),n}(ow),vw=ni((function e(t,n){ei(this,e),this.position=t,this.inclusive=n})),mw=ni((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ei(this,e),this.field=t,this.dir=n}));function yw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function gw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?gb.comparator(gb.fromName(o.referenceValue),n.key):Sb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function kw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!xb(e.position[n],t.position[n]))return!1;return!0}var bw=ni((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ei(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function ww(e,t,n,r,i,a,o,u){return new bw(e,t,n,r,i,a,o,u)}function xw(e){return new bw(e)}function _w(e){return!vb(e.limit)&&"F"===e.limitType}function Sw(e){return!vb(e.limit)&&"L"===e.limitType}function Iw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ew(e){var t,n=ri(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Tw(e){return null!==e.collectionGroup}function Cw(e){var t=Rk(e);if(null===t.D){t.D=[];var n=Ew(t),r=Iw(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new mw(n)),t.D.push(new mw(rb.keyField(),"asc"));else{var i,a=!1,o=ri(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new mw(rb.keyField(),s))}}}return t.D}function Aw(e){var t=Rk(e);if(!t.C)if("F"===t.limitType)t.C=Zb(t.path,t.collectionGroup,Cw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ri(Cw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new mw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new vw(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new vw(t.startAt.position,!t.startAt.inclusive):null;t.C=Zb(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Nw(e,t,n){return new bw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Rw(e,t){return tw(Aw(e),Aw(t))&&e.limitType===t.limitType}function Pw(e){return"".concat(ew(Aw(e)),"|lt:").concat(e.limitType)}function Dw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Eb(t.value));var t})).join(", "),"]")),vb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Eb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Eb(e)})).join(",")),"Target(".concat(t,")")}(Aw(e)),"; limitType=").concat(e.limitType,")")}function Ow(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ri(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ri(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=gw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Cw(e),t))&&!(e.endAt&&!function(e,t,n){var r=gw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Cw(e),t))}(e,t)}function Lw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mw(e){return function(t,n){var r,i=!1,a=ri(Cw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Fw(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Fw(e,t,n){var r=e.field.isKeyField()?gb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Sb(r,i):Ak()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ak()}}function Uw(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mb(t)?"-0":t}}function Vw(e){return{integerValue:""+e}}function jw(e,t){return yb(t)?Vw(t):Uw(e,t)}var zw=ni((function e(){ei(this,e),this._=void 0}));function Bw(e,t,n){return e instanceof Ww?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Gw?Hw(e,t):e instanceof Qw?$w(e,t):function(e,t){var n=Kw(e,t),r=Xw(n)+Xw(e.k);return Ab(n)&&Ab(e.k)?Vw(r):Uw(e.M,r)}(e,t)}function qw(e,t,n){return e instanceof Gw?Hw(e,t):e instanceof Qw?$w(e,t):n}function Kw(e,t){return e instanceof Yw?Ab(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ww=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n)}(zw),Gw=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).elements=e,r}return ni(n)}(zw);function Hw(e,t){var n,r=Jw(t),i=ri(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return xb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qw=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).elements=e,r}return ni(n)}(zw);function $w(e,t){var n,r=Jw(t),i=ri(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!xb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yw=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).M=e,i.k=r,i}return ni(n)}(zw);function Xw(e){return sb(e.integerValue||e.doubleValue)}function Jw(e){return Nb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Zw=ni((function e(t,n){ei(this,e),this.field=t,this.transform=n}));var ex=ni((function e(t,n){ei(this,e),this.version=t,this.transformResults=n})),tx=function(){function e(t,n){ei(this,e),this.updateTime=t,this.exists=n}return ni(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function nx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var rx=ni((function e(){ei(this,e)}));function ix(e,t,n){e instanceof cx?function(e,t,n){var r=e.value.clone(),i=hx(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof lx?function(e,t,n){if(nx(e.precondition,t)){var r=hx(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(fx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ax(e,t,n){e instanceof cx?function(e,t,n){if(nx(e.precondition,t)){var r=e.value.clone(),i=dx(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(sx(t),r).setHasLocalMutations()}}(e,t,n):e instanceof lx?function(e,t,n){if(nx(e.precondition,t)){var r=dx(e.fieldTransforms,n,t),i=t.data;i.setAll(fx(e)),i.setAll(r),t.convertToFoundDocument(sx(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){nx(e.precondition,t)&&t.convertToNoDocument(Yk.min())}(e,t)}function ox(e,t){var n,r=null,i=ri(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Kw(a.transform,o||null);null!=u&&(null==r&&(r=jb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function ux(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Gw&&t instanceof Gw||e instanceof Qw&&t instanceof Qw?Hk(e.elements,t.elements,xb):e instanceof Yw&&t instanceof Yw?xb(e.k,t.k):e instanceof Ww&&t instanceof Ww}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function sx(e){return e.isFoundDocument()?e.version:Yk.min()}var cx=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ei(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ni(n)}(rx),lx=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ei(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ni(n)}(rx);function fx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function hx(e,t,n){var r=new Map;Nk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,qw(o,u,n[i]))}return r}function dx(e,t,n){var r,i=new Map,a=ri(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Bw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var px,vx,mx=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ni(n)}(rx),yx=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ni(n)}(rx),gx=ni((function e(t){ei(this,e),this.count=t}));function kx(e){switch(e){default:return Ak();case Pk.CANCELLED:case Pk.UNKNOWN:case Pk.DEADLINE_EXCEEDED:case Pk.RESOURCE_EXHAUSTED:case Pk.INTERNAL:case Pk.UNAVAILABLE:case Pk.UNAUTHENTICATED:return!1;case Pk.INVALID_ARGUMENT:case Pk.NOT_FOUND:case Pk.ALREADY_EXISTS:case Pk.PERMISSION_DENIED:case Pk.FAILED_PRECONDITION:case Pk.ABORTED:case Pk.OUT_OF_RANGE:case Pk.UNIMPLEMENTED:case Pk.DATA_LOSS:return!0}}function bx(e){if(void 0===e)return Ek("GRPC error has no .code"),Pk.UNKNOWN;switch(e){case px.OK:return Pk.OK;case px.CANCELLED:return Pk.CANCELLED;case px.UNKNOWN:return Pk.UNKNOWN;case px.DEADLINE_EXCEEDED:return Pk.DEADLINE_EXCEEDED;case px.RESOURCE_EXHAUSTED:return Pk.RESOURCE_EXHAUSTED;case px.INTERNAL:return Pk.INTERNAL;case px.UNAVAILABLE:return Pk.UNAVAILABLE;case px.UNAUTHENTICATED:return Pk.UNAUTHENTICATED;case px.INVALID_ARGUMENT:return Pk.INVALID_ARGUMENT;case px.NOT_FOUND:return Pk.NOT_FOUND;case px.ALREADY_EXISTS:return Pk.ALREADY_EXISTS;case px.PERMISSION_DENIED:return Pk.PERMISSION_DENIED;case px.FAILED_PRECONDITION:return Pk.FAILED_PRECONDITION;case px.ABORTED:return Pk.ABORTED;case px.OUT_OF_RANGE:return Pk.OUT_OF_RANGE;case px.UNIMPLEMENTED:return Pk.UNIMPLEMENTED;case px.DATA_LOSS:return Pk.DATA_LOSS;default:return Ak()}}(vx=px||(px={}))[vx.OK=0]="OK",vx[vx.CANCELLED=1]="CANCELLED",vx[vx.UNKNOWN=2]="UNKNOWN",vx[vx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vx[vx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vx[vx.NOT_FOUND=5]="NOT_FOUND",vx[vx.ALREADY_EXISTS=6]="ALREADY_EXISTS",vx[vx.PERMISSION_DENIED=7]="PERMISSION_DENIED",vx[vx.UNAUTHENTICATED=16]="UNAUTHENTICATED",vx[vx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vx[vx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vx[vx.ABORTED=10]="ABORTED",vx[vx.OUT_OF_RANGE=11]="OUT_OF_RANGE",vx[vx.UNIMPLEMENTED=12]="UNIMPLEMENTED",vx[vx.INTERNAL=13]="INTERNAL",vx[vx.UNAVAILABLE=14]="UNAVAILABLE",vx[vx.DATA_LOSS=15]="DATA_LOSS";var wx=function(){function e(t,n){ei(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ni(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Jk(this.inner,(function(t,n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Zk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),xx=function(){function e(t,n){ei(this,e),this.comparator=t,this.root=n||Sx.EMPTY}return ni(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Sx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new _x(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new _x(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new _x(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new _x(this.root,e,this.comparator,!0)}}]),e}(),_x=function(){function e(t,n,r,i){ei(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ni(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Sx=function(){function e(t,n,r,i,a){ei(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ni(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ak();if(this.right.isRed())throw Ak();var e=this.left.check();if(e!==this.right.check())throw Ak();return e+(this.isRed()?0:1)}}]),e}();Sx.EMPTY=null,Sx.RED=!0,Sx.BLACK=!1,Sx.EMPTY=new(function(){function e(){ei(this,e),this.size=0}return ni(e,[{key:"key",get:function(){throw Ak()}},{key:"value",get:function(){throw Ak()}},{key:"color",get:function(){throw Ak()}},{key:"left",get:function(){throw Ak()}},{key:"right",get:function(){throw Ak()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Sx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Ix=function(){function e(t){ei(this,e),this.comparator=t,this.data=new xx(this.comparator)}return ni(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ex(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ex(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ex=function(){function e(t){ei(this,e),this.iter=t}return ni(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Tx(e){return e.hasNext()?e.getNext():void 0}var Cx=new xx(gb.comparator);function Ax(){return Cx}var Nx=new xx(gb.comparator);function Rx(){return Nx}function Px(){return new wx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Dx=new xx(gb.comparator),Ox=new Ix(gb.comparator);function Lx(){for(var e=Ox,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Mx=new Ix(Gk);function Fx(){return Mx}var Ux=function(){function e(t,n,r,i,a){ei(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ni(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Vx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Yk.min(),r,Fx(),Ax(),Lx())}}]),e}(),Vx=function(){function e(t,n,r,i,a){ei(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ni(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ab.EMPTY_BYTE_STRING,n,Lx(),Lx(),Lx())}}]),e}(),jx=ni((function e(t,n,r,i){ei(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),zx=ni((function e(t,n){ei(this,e),this.targetId=t,this.$=n})),Bx=ni((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ab.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ei(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),qx=function(){function e(){ei(this,e),this.B=0,this.L=Gx(),this.U=ab.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ni(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Lx(),t=Lx(),n=Lx();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ak()}})),new Vx(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Gx()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Kx=function(){function e(t){ei(this,e),this.nt=t,this.st=new Map,this.it=Ax(),this.rt=Wx(),this.ot=new Ix(Gk)}return ni(e,[{key:"ut",value:function(e){var t,n=ri(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=ri(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Ak()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(nw(i))if(0===n){var a=new gb(i.path);this.ct(t,a,Bb.newNoDocument(a,Yk.min()))}else Nk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&nw(a.target)){var o=new gb(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Bb.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Lx();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ux(e,n,this.ot,this.it,r);return this.it=Ax(),this.rt=Wx(),this.ot=new Ix(Gk),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new qx,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ix(Gk),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Ik("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new qx),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wx(){return new xx(gb.comparator)}function Gx(){return new xx(gb.comparator)}var Hx={asc:"ASCENDING",desc:"DESCENDING"},Qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x=ni((function e(t,n){ei(this,e),this.databaseId=t,this.N=n}));function Yx(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xx(e,t){return e.N?t.toBase64():t.toUint8Array()}function Jx(e,t){return Yx(e,t.toTimestamp())}function Zx(e){return Nk(!!e),Yk.fromTimestamp(function(e){var t=ub(e);return new $k(t.seconds,t.nanos)}(e))}function e_(e,t){return function(e){return new tb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function t_(e){var t=tb.fromString(e);return Nk(S_(t)),t}function n_(e,t){return e_(e.databaseId,t.path)}function r_(e,t){var n=t_(t);if(n.get(1)!==e.databaseId.projectId)throw new Dk(Pk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Dk(Pk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gb(u_(n))}function i_(e,t){return e_(e.databaseId,t)}function a_(e){var t=t_(e);return 4===t.length?tb.emptyPath():u_(t)}function o_(e){return new tb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function u_(e){return Nk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function s_(e,t,n){return{name:n_(e,t),fields:n.value.mapValue.fields}}function c_(e,t,n){var r=r_(e,t.name),i=Zx(t.updateTime),a=new jb({mapValue:{fields:t.fields}}),o=Bb.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function l_(e,t){return"found"in t?function(e,t){Nk(!!t.found),t.found.name,t.found.updateTime;var n=r_(e,t.found.name),r=Zx(t.found.updateTime),i=new jb({mapValue:{fields:t.found.fields}});return Bb.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Nk(!!t.missing),Nk(!!t.readTime);var n=r_(e,t.missing),r=Zx(t.readTime);return Bb.newNoDocument(n,r)}(e,t):Ak()}function f_(e,t){var n;if(t instanceof cx)n={update:s_(e,t.key,t.value)};else if(t instanceof mx)n={delete:n_(e,t.key)};else if(t instanceof lx)n={update:s_(e,t.key,t.data),updateMask:__(t.fieldMask)};else{if(!(t instanceof yx))return Ak();n={verify:n_(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ww)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Qw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yw)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Ak()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Jx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ak()}(e,t.precondition)),n}function h_(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?tx.updateTime(Zx(e.updateTime)):void 0!==e.exists?tx.exists(e.exists):tx.none()}(t.currentDocument):tx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Nk("REQUEST_TIME"===t.setToServerValue),n=new Ww;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Gw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Qw(i)}else"increment"in t?n=new Yw(e,t.increment):Ak();var a=rb.fromServerFormat(t.fieldPath);return new Zw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=r_(e,t.update.name),a=new jb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ib(t.map((function(e){return rb.fromServerFormat(e)})))}(t.updateMask);return new lx(i,a,o,n,r)}return new cx(i,a,n,r)}if(t.delete){var u=r_(e,t.delete);return new mx(u,n)}if(t.verify){var s=r_(e,t.verify);return new yx(s,n)}return Ak()}function d_(e,t){return{documents:[i_(e,t.path)]}}function p_(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=i_(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=i_(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Pb(e.value))return{unaryFilter:{field:k_(e.field),op:"IS_NAN"}};if(Rb(e.value))return{unaryFilter:{field:k_(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pb(e.value))return{unaryFilter:{field:k_(e.field),op:"IS_NOT_NAN"}};if(Rb(e.value))return{unaryFilter:{field:k_(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:k_(e.field),op:g_(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:k_(e.field),direction:y_(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||vb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function v_(e){var t=a_(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=m_(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new mw(b_(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return vb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new vw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new vw(n,t)}(n.endAt)),ww(t,i,u,o,s,"F",c,l)}function m_(e){return e?void 0!==e.unaryFilter?[x_(e)]:void 0!==e.fieldFilter?[w_(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return m_(e)})).reduce((function(e,t){return e.concat(t)})):Ak():[]}function y_(e){return Hx[e]}function g_(e){return Qx[e]}function k_(e){return{fieldPath:e.canonicalString()}}function b_(e){return rb.fromServerFormat(e.fieldPath)}function w_(e){return ow.create(b_(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ak()}}(e.fieldFilter.op),e.fieldFilter.value)}function x_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=b_(e.unaryFilter.field);return ow.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=b_(e.unaryFilter.field);return ow.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=b_(e.unaryFilter.field);return ow.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=b_(e.unaryFilter.field);return ow.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ak()}}function __(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function S_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function I_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=T_(t)),t=E_(e.get(n),t);return T_(t)}function E_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function T_(e){return e+"\x01\x01"}function C_(e){var t=e.length;if(Nk(t>=2),2===t)return Nk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),tb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ak(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ak()}a=o+2}return new tb(r)}var A_=["userId","batchId"];function N_(e,t){return[e,I_(t)]}function R_(e,t,n){return[e,I_(t),n]}var P_={},D_=["prefixPath","collectionGroup","readTime","documentId"],O_=["prefixPath","collectionGroup","documentId"],L_=["collectionGroup","readTime","prefixPath","documentId"],M_=["canonicalId","targetId"],F_=["targetId","path"],U_=["path","targetId"],V_=["collectionId","parent"],j_=["indexId","uid"],z_=["uid","sequenceNumber"],B_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q_=["indexId","uid","orderedDocumentKey"],K_=["userId","collectionPath","documentId"],W_=["userId","collectionPath","largestBatchId"],G_=["userId","collectionGroup","largestBatchId"],H_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Q_=[].concat(m(H_),["documentOverlays"]),$_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Y_=[].concat($_,["indexConfiguration","indexState","indexEntries"]),X_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J_=function(){function e(){ei(this,e),this.onCommittedListeners=[]}return ni(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Z_=function(){function e(t){var n=this;ei(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ni(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ak(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ri(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),eS=function(){function e(t,n){var r=this;ei(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Ok,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new rS(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=sS(e.target.error);r.At.reject(new rS(t,n))}}return ni(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Ik("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new aS(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new rS(n,t)}}}]),e}(),tS=function(){function e(t,n,r){ei(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(_i())&&Ek("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ni(e,[{key:"Nt",value:function(){var e=Yi(vi().mark((function e(t){var n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Ik("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new rS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Dk(Pk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Dk(Pk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new rS(t,n))},i.onupgradeneeded=function(e){Ik("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Ik("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Yi(vi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(vi().mark((function e(){var n,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=eS.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Z_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Ik("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Ik("SimpleDb","Removing database:",e),oS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Ai())return!1;if(e.St())return!0;var t=_i(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),nS=function(){function e(t){ei(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ni(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return oS(this.Ft.delete())}}]),e}(),rS=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,Pk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ni(n)}(Dk);function iS(e){return"IndexedDbTransactionError"===e.name}var aS=function(){function e(t){ei(this,e),this.store=t}return ni(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Ik("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ik("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),oS(n)}},{key:"add",value:function(e){return Ik("SimpleDb","ADD",this.store.name,e,e),oS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return oS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ik("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Ik("SimpleDb","DELETE",this.store.name,e),oS(this.store.delete(e))}},{key:"count",value:function(){return Ik("SimpleDb","COUNT",this.store.name),oS(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Z_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Z_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Ik("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new Z_((function(n,r){t.onerror=function(e){var t=sS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Z_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new nS(i),o=t(i.primaryKey,i.value,a);if(o instanceof Z_){var u=o.catch((function(e){return a.done(),Z_.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Z_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function oS(e){return new Z_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=sS(e.target.error);n(t)}}))}var uS=!1;function sS(e){var t=tS.Vt(_i());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Dk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return uS||(uS=!0,setTimeout((function(){throw r}),0)),r}}return e}var cS=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ni(n)}(J_);function lS(e,t){var n=Rk(e);return tS.xt(n.Ht,t)}var fS=function(){function e(t,n,r,i){ei(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ni(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ix(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ri(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&ax(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ri(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&ax(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Yk.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Lx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Hk(this.mutations,e.mutations,(function(e,t){return ux(e,t)}))&&Hk(this.baseMutations,e.baseMutations,(function(e,t){return ux(e,t)}))}}]),e}(),hS=function(){function e(t,n,r,i){ei(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ni(e,null,[{key:"from",value:function(t,n,r){Nk(t.mutations.length===r.length);for(var i=Dx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),dS=function(){function e(t,n){ei(this,e),this.largestBatchId=t,this.mutation=n}return ni(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Yk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Yk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ab.EMPTY_BYTE_STRING;ei(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ni(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),vS=ni((function e(t){ei(this,e),this.Jt=t}));function mS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:n_(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Yx(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gS(t.version)};else{if(!t.isUnknownDocument())return Ak();r.unknownDocument={path:n.path.toArray(),version:gS(t.version)}}return r}function yS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kS(e){var t=new $k(e.seconds,e.nanoseconds);return Yk.fromTimestamp(t)}function bS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return h_(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return h_(e.Jt,t)})),u=$k.fromMillis(t.localWriteTimeMs);return new fS(t.batchId,u,n,o)}function wS(e){var t,n,r=kS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?kS(e.lastLimboFreeSnapshotVersion):Yk.min();return void 0!==e.query.documents?(Nk(1===(n=e.query).documents.length),t=Aw(xw(a_(n.documents[0])))):t=function(e){return Aw(v_(e))}(e.query),new pS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ab.fromBase64String(e.resumeToken))}function xS(e,t){var n,r=gS(t.snapshotVersion),i=gS(t.lastLimboFreeSnapshotVersion);n=nw(t.target)?d_(e.Jt,t.target):p_(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ew(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function _S(e){var t=v_({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Nw(t,t.limit,"L"):t}function SS(e,t){return new dS(t.largestBatchId,h_(e.Jt,t.overlayMutation))}function IS(e,t){var n=t.path.lastSegment();return[e,I_(t.path.popLast()),n]}var ES=function(){function e(){ei(this,e)}return ni(e,[{key:"getBundleMetadata",value:function(e,t){return TS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:kS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return TS(e).put({bundleId:(n=t).id,createTime:gS(Zx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return CS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:_S(t.bundledQuery),readTime:kS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return CS(e).put(function(e){return{name:e.name,readTime:gS(Zx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function TS(e){return lS(e,"bundles")}function CS(e){return lS(e,"namedQueries")}var AS=function(){function e(t,n){ei(this,e),this.M=t,this.userId=n}return ni(e,[{key:"getOverlay",value:function(e,t){var n=this;return NS(e).get(IS(this.userId,t)).next((function(e){return e?SS(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new dS(t,a);i.push(r.Xt(e,o))})),Z_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(I_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(NS(e).Qt("collectionPathOverlayIndex",i))})),Z_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Px(),a=I_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return NS(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=SS(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Px(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return NS(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=SS(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return NS(e).put(function(e,t,n){var r=c(IS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:f_(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function NS(e){return lS(e,"documentOverlays")}var RS=function(){function e(){ei(this,e)}return ni(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(sb(e.integerValue));else if("doubleValue"in e){var n=sb(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),mb(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(cb(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Lb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Ak()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),gb.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function PS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function DS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=PS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}RS.fe=new RS;var OS=function(){function e(){ei(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ni(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=DS(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=DS(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),LS=function(){function e(t){ei(this,e),this.De=t}return ni(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),MS=function(){function e(t){ei(this,e),this.De=t}return ni(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),FS=function(){function e(){ei(this,e),this.De=new OS,this.Ce=new LS(this.De),this.xe=new MS(this.De)}return ni(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),US=function(){function e(t,n,r,i){ei(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ni(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function VS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=jS(e.arrayValue,t.arrayValue))?n:0!==(n=jS(e.directionalValue,t.directionalValue))?n:gb.comparator(e.documentKey,t.documentKey)}function jS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var zS=function(){function e(t){ei(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=ri(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ni(e,[{key:"$e",value:function(e){var t=Kb(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Wb(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=ri(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),BS=function(){function e(){ei(this,e),this.qe=new qS}return ni(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Z_.resolve()}},{key:"getCollectionParents",value:function(e,t){return Z_.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Z_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Z_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Z_.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return Z_.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Z_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Z_.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Z_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Z_.resolve()}}]),e}(),qS=function(){function e(){ei(this,e),this.index={}}return ni(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ix(tb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ix(tb.comparator)).toArray()}}]),e}(),KS=new Uint8Array(0),WS=function(){function e(t,n){ei(this,e),this.user=t,this.databaseId=n,this.Ke=new qS,this.Ge=new wx((function(e){return ew(e)}),(function(e,t){return tw(e,t)})),this.uid=t.uid||""}return ni(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:I_(i)};return GS(e).put(a)}return Z_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Qk(t),""],!1,!0);return GS(e).qt(r).next((function(e){var r,i=ri(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(C_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=QS(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=QS(e),r=$S(e),i=HS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=HS(e),i=!0,a=new Map;return Z_.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Lx(),o=[];return Z_.forEach(a,(function(i,a){var u;Ik("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ew(t)));var s=function(e,t){var n=Kb(t);if(void 0===n)return null;var r,i=ri(rw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ri(Wb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ri(rw(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ri(Wb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?iw(e,o.fieldPath,e.startAt):aw(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ri(Wb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?aw(e,o.fieldPath,e.endAt):iw(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new vw(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return Z_.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=gb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Z_.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):KS,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,m(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new US(e,gb.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new US(e,gb.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new US(e,gb.empty(),KS,KS)}},{key:"getFieldIndex",value:function(e,t){var n=new zS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new FS,i=ri(Wb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);RS.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new FS;return RS.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new FS;return RS.fe.Zt(Cb(this.databaseId,t),n.Ne(function(e){var t=Wb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new FS);var i,a=0,o=ri(Wb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ri(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Nb(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);RS.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=m(e),a=[],o=ri(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ri(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new FS;f.seed(l.Se()),RS.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof ow&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=QS(e),i=$S(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Z_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Hb(t.sequenceNumber,new Yb(kS(t.readTime),new gb(C_(t.documentKey)),t.largestBatchId)):Hb.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Gb(rb.fromServerFormat(n),r)}));return new qb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=QS(e),a=$S(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Z_.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gS(r.readTime),documentKey:I_(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Z_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Z_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Z_.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?Z_.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return HS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return HS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=HS(e),i=new Ix(VS);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new US(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Ix(VS),r=this.Ze(t,e);if(null==r)return n;var i=Kb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Nb(a)){var o,u=ri(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new US(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new US(t.indexId,e.key,KS,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Ik("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Tx(a),s=Tx(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Tx(o)):l?(i(u),u=Tx(a)):(u=Tx(a),s=Tx(o))}}(r,i,VS,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),Z_.waitFor(o)}},{key:"rn",value:function(e){var t=1;return $S(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return VS(e,t)})).filter((function(e,t,n){return!t||0!==VS(e,n[t-1])}));var r=[];r.push(e);var i,a=ri(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=VS(o,e),s=VS(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,KS,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,KS,[]]));return c}}]),e}();function GS(e){return lS(e,"collectionParents")}function HS(e){return lS(e,"indexEntries")}function QS(e){return lS(e,"indexConfiguration")}function $S(e){return lS(e,"indexState")}var YS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XS=function(){function e(t,n,r){ei(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ni(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function JS(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Nk(1===u)})));var c,l=[],f=ri(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=R_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Z_.waitFor(a).next((function(){return l}))}function ZS(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ak();t=e.noDocument}return JSON.stringify(t).length}XS.DEFAULT_COLLECTION_PERCENTILE=10,XS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,XS.DEFAULT=new XS(41943040,XS.DEFAULT_COLLECTION_PERCENTILE,XS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),XS.DISABLED=new XS(-1,0,0);var eI=function(){function e(t,n,r,i){ei(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return ni(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nI(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=rI(e),o=nI(e);return o.add({}).next((function(u){Nk("number"==typeof u);var s,c=new fS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return f_(e.Jt,t)})),i=n.mutations.map((function(t){return f_(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Ix((function(e,t){return Gk(e.canonicalString(),t.canonicalString())})),d=ri(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=R_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,P_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),Z_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return nI(e).get(t).next((function(e){return e?(Nk(e.userId===n.userId),bS(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?Z_.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return nI(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Nk(t.batchId>=r),a=bS(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return nI(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nI(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return bS(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=N_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return rI(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=C_(l);if(s===n.userId&&t.path.isEqual(h))return nI(e).get(f).next((function(e){if(!e)throw Ak();Nk(e.userId===n.userId),a.push(bS(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ix(Gk),i=[];return t.forEach((function(t){var a=N_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=rI(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=C_(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Z_.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=N_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Ix(Gk);return rI(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=C_(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(nI(e).get(t).next((function(e){if(null===e)throw Ak();Nk(e.userId===n.userId),r.push(bS(n.M,e))})))})),Z_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return JS(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),Z_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Z_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return rI(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=C_(e[1]);i.push(a)}else r.done()})).next((function(){Nk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return tI(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return iI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Nk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function tI(e,t,n){var r=N_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return rI(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function nI(e){return lS(e,"mutations")}function rI(e){return lS(e,"documentMutations")}function iI(e){return lS(e,"mutationQueues")}var aI=function(){function e(t){ei(this,e),this.mn=t}return ni(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),oI=function(){function e(t,n){ei(this,e),this.referenceDelegate=t,this.M=n}return ni(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new aI(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Yk.fromTimestamp(new $k(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return uI(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Nk(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return uI(e).Wt((function(o,u){var s=wS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Z_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return uI(e).Wt((function(e,n){var r=wS(n);t(r)}))}},{key:"pn",value:function(e){return sI(e).get("targetGlobalKey").next((function(e){return Nk(null!==e),e}))}},{key:"In",value:function(e,t){return sI(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return uI(e).put(xS(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ew(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uI(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=wS(n);tw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=cI(e);return t.forEach((function(t){var o=I_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Z_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=cI(e);return Z_.forEach(t,(function(t){var a=I_(t.path);return Z_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=cI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cI(e),i=Lx();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=C_(e[1]),a=new gb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=I_(t.path),r=IDBKeyRange.bound([n],[Qk(n)],!1,!0),i=0;return cI(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return uI(e).get(t).next((function(e){return e?wS(e):null}))}}]),e}();function uI(e){return lS(e,"targets")}function sI(e){return lS(e,"targetGlobal")}function cI(e){return lS(e,"targetDocuments")}function lI(e){return fI.apply(this,arguments)}function fI(){return fI=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Pk.FAILED_PRECONDITION&&t.message===X_){e.next=2;break}throw t;case 2:Ik("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),fI.apply(this,arguments)}function hI(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Gk(r,o);return 0===s?Gk(i,u):s}var dI=function(){function e(t){ei(this,e),this.An=t,this.buffer=new Ix(hI),this.Rn=0}return ni(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),pI=function(){function e(t,n){ei(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return ni(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Ik("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!iS(n.t0)){n.next=12;break}Ik("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,lI(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),vI=function(){function e(t,n){ei(this,e),this.Dn=t,this.params=n}return ni(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Z_.resolve(qk.A);var r=new dI(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ik("LruGarbageCollector","Garbage collection skipped; disabled"),Z_.resolve(YS)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ik("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),YS):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Ik("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Sk()<=na.DEBUG&&Ik("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Z_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),mI=function(){function e(t,n){ei(this,e),this.db=t,this.garbageCollector=function(e,t){return new vI(e,t)}(this,n)}return ni(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return yI(e,n)}},{key:"removeReference",value:function(e,t,n){return yI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return yI(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return iI(e).zt((function(r){return tI(e,r,t).next((function(e){return e&&(n=!0),Z_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Yk.min()),cI(e).delete([0,I_(o.path)])}))}));i.push(s)}})).next((function(){return Z_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return yI(e,t)}},{key:"Mn",value:function(e,t){var n,r=cI(e),i=qk.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==qk.A&&t(new gb(C_(n)),i),i=s,n=u):i=qk.A})).next((function(){i!==qk.A&&t(new gb(C_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function yI(e,t){return cI(e).put(function(e,t){return{targetId:0,path:I_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var gI=function(){function e(){ei(this,e),this.changes=new wx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ni(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Bb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Z_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),kI=function(){function e(t){ei(this,e),this.M=t}return ni(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return xI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return xI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],yS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Bb.newInvalidDocument(t);return xI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_I(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Bb.newInvalidDocument(t)};return xI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_I(t))},(function(e,i){r={document:n.$n(t,i),size:ZS(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Ax(),i=new xx(gb.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,ZS(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return Z_.resolve();var r=new Ix(II);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(_I(r.first()),_I(r.last())),a=r.getIterator(),o=a.getNext();return xI(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=gb.fromSegments([].concat(m(t.prefixPath),[t.collectionGroup,t.documentId]));o&&II(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(_I(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),yS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xI(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Ax(),i=ri(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(gb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Ax(),o=SI(t,n),u=SI(t,Yb.max());return xI(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(gb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new bI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return wI(e).get("remoteDocumentGlobalKey").next((function(e){return Nk(!!e),e}))}},{key:"Fn",value:function(e,t){return wI(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=c_(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=gb.fromSegments(t.noDocument.path),i=kS(t.noDocument.readTime);n=Bb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ak();var a=gb.fromSegments(t.unknownDocument.path),o=kS(t.unknownDocument.version);n=Bb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new $k(e[0],e[1]);return Yk.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Yk.min()))return n}return Bb.newInvalidDocument(e)}}]),e}(),bI=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new wx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ni(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Ix((function(e,t){return Gk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=mS(t.Kn.M,o);i=i.add(a.path.popLast());var c=ZS(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=mS(t.Kn.M,o.convertToNoDocument(Yk.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),Z_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(gI);function wI(e){return lS(e,"remoteDocumentGlobal")}function xI(e){return lS(e,"remoteDocumentsV14")}function _I(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function SI(e,t){var n=t.documentKey.path.toArray();return[e,yS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function II(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gk(n[a],r[a]))return i;return(i=Gk(n.length,r.length))||((i=Gk(n[n.length-2],r[r.length-2]))||Gk(n[n.length-1],r[r.length-1]))}var EI=function(){function e(t){ei(this,e),this.M=t}return ni(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new eS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A_,{unique:!0}),e.createObjectStore("documentMutations")}(e),TI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Z_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),TI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Yk.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",A_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Z_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:K_});t.createIndex("collectionPathOverlayIndex",W_,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",G_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:D_});t.createIndex("documentKeyIndex",O_),t.createIndex("collectionGroupIndex",L_)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:j_}).createIndex("sequenceNumberIndex",z_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:B_}).createIndex("documentKeyIndex",q_,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=ZS(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return Z_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return Z_.forEach(r,(function(r){Nk(r.userId===n.userId);var i=bS(t.M,r);return JS(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new tb(n),o=function(e){return[0,I_(e)]}(a);r.push(t.get(o).next((function(n){return n?Z_.resolve():function(n){return t.put({targetId:0,path:I_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Z_.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:V_});var n=t.store("collectionParents"),r=new qS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:I_(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new tb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],C_(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=wS(r),a=xS(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new gb(tb.fromString(i.document.name).popFirst(5)):i.noDocument?gb.fromSegments(i.noDocument.path):i.unknownDocument?gb.fromSegments(i.unknownDocument.path):Ak()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Z_.waitFor(r)}))}}]),e}();function TI(e){e.createObjectStore("targetDocuments",{keyPath:F_}).createIndex("documentTargetsIndex",U_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",M_,{unique:!0}),e.createObjectStore("targetGlobal")}var CI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",AI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(ei(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Dk(Pk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mI(this,i),this.hs=n+"main",this.M=new vS(s),this.ls=new tS(this.hs,this.ts,new EI(this.M)),this.fs=new oI(this.referenceDelegate,this.M),this.ds=function(e){return new kI(e)}(this.M),this._s=new ES,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ek("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ni(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Dk(Pk.FAILED_PRECONDITION,CI);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new qk(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Yi(vi().mark((function n(r){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Yi(vi().mark((function t(n){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return RI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(iS(t))return Ik("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ik("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return NI(e).get("owner").next((function(e){return Z_.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return RI(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i,a=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=lS(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Z_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=ri(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?Z_.resolve(!0):NI(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Dk(Pk.FAILED_PRECONDITION,CI);return!1}}return!(!t.networkEnabled||!t.inForeground)||RI(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ik("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Yi(vi().mark((function e(){var t=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new cS(e,qk.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return RI(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return eI.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new WS(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return AS.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ik("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?Y_:13===i?$_:12===i?Q_:11===i?H_:void Ak();return this.ls.runTransaction(e,o,u,(function(i){return a=new cS(i,r.es?r.es.next():qk.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ek("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Dk(Pk.FAILED_PRECONDITION,X_);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return NI(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Dk(Pk.FAILED_PRECONDITION,CI)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return NI(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=NI(e);return n.get("owner").next((function(e){return t.bs(e)?(Ik("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Z_.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ek("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Ii()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ik("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ek("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(wv){Ek("Failed to set zombie client id.",wv)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(wv){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return tS.vt()}}]),e}();function NI(e){return lS(e,"owner")}function RI(e){return lS(e,"clientMetadata")}function PI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var DI=function(){function e(t,n,r){ei(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return ni(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=ri(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=ri(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return gb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Tw(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new gb(t)).next((function(e){var t=Rx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Rx();return this.indexManager.getCollectionParents(e,i).next((function(o){return Z_.forEach(o,(function(o){var u=function(e,t){return new bw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ri(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Bb.newInvalidDocument(s),r=r.insert(s,c)),ax(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Ow(t,n)||(r=r.remove(e))})),r}))}}]),e}(),OI=function(){function e(t,n,r,i){ei(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return ni(e,null,[{key:"Ys",value:function(t,n){var r,i=Lx(),a=Lx(),o=ri(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),LI=function(){function e(){ei(this,e)}return ni(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Yk.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(_w(t)||Sw(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Sk()<=na.DEBUG&&Ik("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Dw(t)),i.Zs.Qs(e,t,Qb(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Ix(Mw(e));return t.forEach((function(t,r){Ow(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Sk()<=na.DEBUG&&Ik("QueryEngine","Using full collection scan to execute query:",Dw(t)),this.Zs.Qs(e,t,Yb.min())}}]),e}(),MI=function(){function e(t,n,r,i){ei(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new xx(Gk),this.ri=new wx((function(e){return ew(e)}),tw),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return ni(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new DI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function FI(e,t,n,r){return new MI(e,t,n,r)}function UI(e,t){return VI.apply(this,arguments)}function VI(){return VI=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Lx(),s=ri(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ri(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ri(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=ri(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function jI(e,t){var n=Rk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Z_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Nk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function zI(e){var t=Rk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function BI(e,t){var n=Rk(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ab.EMPTY_BYTE_STRING,Yk.min()).withLastLimboFreeSnapshotVersion(Yk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Ax();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(qI(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Yk.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Z_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function qI(e,t,n){var r=Lx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ax();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Yk.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Ik("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function KI(e,t){var n=Rk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function WI(e,t){var n=Rk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,Z_.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new pS(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function GI(e,t,n){return HI.apply(this,arguments)}function HI(){return HI=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rk(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),iS(e.t1)){e.next=12;break}throw e.t1;case 12:Ik("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),HI.apply(this,arguments)}function QI(e,t,n){var r=Rk(e),i=Yk.min(),a=Lx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Rk(e),i=r.ri.get(n);return void 0!==i?Z_.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Aw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:Yk.min(),n?a:Lx())})).next((function(e){return XI(r,Lw(t),e),{documents:e,li:a}}))}))}function $I(e,t){var n=Rk(e),r=Rk(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function YI(e,t){var n=Rk(e),r=n.oi.get(t)||Yk.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,Qb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return XI(n,t,e),e}))}function XI(e,t,n){var r=Yk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function JI(e,t,n,r){return ZI.apply(this,arguments)}function ZI(){return ZI=Yi(vi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Rk(t),o=Lx(),u=Ax(),s=ri(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,WI(a,function(e){return Aw(xw(tb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return qI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ZI.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Yi(vi().mark((function e(t,n){var r,i,a,o=arguments;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Lx(),e.next=3,WI(t,Aw(_S(n.bundledQuery)));case 3:return i=e.sent,a=Rk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Zx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(ab.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}var nE=function(){function e(t){ei(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return ni(e,[{key:"getBundleMetadata",value:function(e,t){return Z_.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:Zx(n.createTime)}),Z_.resolve()}},{key:"getNamedQuery",value:function(e,t){return Z_.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:_S(e.bundledQuery),readTime:Zx(e.readTime)}}(t)),Z_.resolve()}}]),e}(),rE=function(){function e(){ei(this,e),this.overlays=new xx(gb.comparator),this.gi=new Map}return ni(e,[{key:"getOverlay",value:function(e,t){return Z_.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),Z_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),Z_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Px(),i=t.length+1,a=new gb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Z_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Px(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Px(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Z_.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dS(t,n));var a=this.gi.get(t);void 0===a&&(a=Lx(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),iE=function(){function e(){ei(this,e),this.yi=new Ix(aE.pi),this.Ii=new Ix(aE.Ti)}return ni(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new aE(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new aE(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new gb(new tb([])),r=new aE(n,e),i=new aE(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new gb(new tb([])),n=new aE(t,e),r=new aE(t,e+1),i=Lx();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new aE(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),aE=function(){function e(t,n){ei(this,e),this.key=t,this.vi=n}return ni(e,null,[{key:"pi",value:function(e,t){return gb.comparator(e.key,t.key)||Gk(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Gk(e.vi,t.vi)||gb.comparator(e.key,t.key)}}]),e}(),oE=function(){function e(t,n){ei(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Ix(aE.pi)}return ni(e,[{key:"checkEmpty",value:function(e){return Z_.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new fS(i,t,n,r);this.Bs.push(a);var o,u=ri(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new aE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Z_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Z_.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return Z_.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Z_.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return Z_.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new aE(t,0),i=new aE(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),Z_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ix(Gk);return t.forEach((function(e){var t=new aE(e,0),i=new aE(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),Z_.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;gb.isDocumentKey(i)||(i=i.child(""));var a=new aE(new gb(i),0),o=new Ix(Gk);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),Z_.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Nk(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return Z_.forEach(t.mutations,(function(i){var a=new aE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new aE(t,0),r=this.Di.firstAfterOrEqual(n);return Z_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Z_.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),uE=function(){function e(t){ei(this,e),this.Mi=t,this.docs=new xx(gb.comparator),this.size=0}return ni(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Z_.resolve(n?n.document.mutableCopy():Bb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ax();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Bb.newInvalidDocument(e))})),Z_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ax(),i=new gb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Xb($b(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Z_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ak()}},{key:"Oi",value:function(e,t){return Z_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sE(this)}},{key:"getSize",value:function(e){return Z_.resolve(this.size)}}]),e}(),sE=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).Kn=e,r}return ni(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),Z_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(gI),cE=function(){function e(t){ei(this,e),this.persistence=t,this.Fi=new wx((function(e){return ew(e)}),tw),this.lastRemoteSnapshotVersion=Yk.min(),this.highestTargetId=0,this.$i=0,this.Bi=new iE,this.targetCount=0,this.Li=aI.gn()}return ni(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),Z_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Z_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Z_.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),Z_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),Z_.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new aI(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Z_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Z_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,Z_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Z_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Z_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return Z_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),Z_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Z_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),Z_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return Z_.resolve(n)}},{key:"containsKey",value:function(e,t){return Z_.resolve(this.Bi.containsKey(t))}}]),e}(),lE=function(){function e(t,n){var r=this;ei(this,e),this.Ui={},this.overlays={},this.es=new qk(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new cE(this),this.indexManager=new BS,this.ds=new uE((function(e){return r.referenceDelegate.qi(e)})),this.M=new vS(n),this._s=new nE(this.M)}return ni(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new rE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new oE(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Ik("MemoryPersistence","Starting transaction:",e);var i=new fE(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return Z_.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),fE=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ni(n)}(J_),hE=function(){function e(t){ei(this,e),this.persistence=t,this.ji=new iE,this.Wi=null}return ni(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Ak()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),Z_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),Z_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),Z_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z_.forEach(this.Hi,(function(r){var i=gb.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,Yk.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return Z_.or([function(){return Z_.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function dE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function pE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var mE=function(){function e(t,n,r,i){ei(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ni(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Dk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ek("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),yE=function(){function e(t,n,r){ei(this,e),this.targetId=t,this.state=n,this.error=r}return ni(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Dk(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ek("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),gE=function(){function e(t,n){ei(this,e),this.clientId=t,this.activeTargetIds=n}return ni(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Fx(),o=0;i&&o<r.activeTargetIds.length;++o)i=yb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ek("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),kE=function(){function e(t,n){ei(this,e),this.clientId=t,this.onlineState=n}return ni(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ek("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),bE=function(){function e(){ei(this,e),this.activeTargetIds=Fx()}return ni(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),wE=function(){function e(t,n,r,i,a){ei(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new xx(Gk),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=dE(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new bE),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return ni(e,[{key:"start",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=ri(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(dE(this.persistenceKey,i)))&&(o=gE.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=ri(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(vE(this.persistenceKey,e));if(n){var r=yE.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(vE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Ik("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Ik("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Ik("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ik("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Ek("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Yi(vi().mark((function e(){var r,i,a,o,u,s,c;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=qk.A;if(null!=e)try{var n=JSON.parse(e);Nk("number"==typeof n),t=n}catch(e){Ek("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==qk.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new mE(this.currentUser,e,t,n),i=pE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=pE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=vE(this.persistenceKey,e),i=new yE(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return gE.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return mE.Yi(new wk(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return yE.Yi(r,t)}},{key:"mr",value:function(e){return kE.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Ik("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=Fx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),xE=function(){function e(){ei(this,e),this.$r=new bE,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ni(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new bE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_E=function(){function e(){ei(this,e)}return ni(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),SE=function(){function e(){var t=this;ei(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return ni(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Ik("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ri(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Ik("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ri(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),IE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},EE=function(){function e(t){ei(this,e),this.Wr=t.Wr,this.zr=t.zr}return ni(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),TE=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ni(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new kk;o.listenOnce(pk.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case dk.NO_ERROR:var t=o.getResponseJson();Ik("Connection","XHR received:",JSON.stringify(t)),i(t);break;case dk.TIMEOUT:Ik("Connection",'RPC "'+e+'" timed out'),a(new Dk(Pk.DEADLINE_EXCEEDED,"Request time out"));break;case dk.HTTP_ERROR:var n=o.getStatus();if(Ik("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pk).indexOf(t)>=0?t:Pk.UNKNOWN}(r.status);a(new Dk(u,r.message))}else a(new Dk(Pk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Dk(Pk.UNAVAILABLE,"Connection failed."));break;default:Ak()}}finally{Ik("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=fk(),a=hk(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new yk({})),this.ao(o.initMessageHeaders,t,n),Si()||Ti()||_i().indexOf("Electron/")>=0||Ci()||_i().indexOf("MSAppHost/")>=0||Ei()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Ik("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new EE({Wr:function(e){l?Ik("Connection","Not sending because WebChannel is closed:",e):(c||(Ik("Connection","Opening WebChannel transport."),s.open(),c=!0),Ik("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,gk.EventType.OPEN,(function(){l||Ik("Connection","WebChannel transport opened.")})),h(s,gk.EventType.CLOSE,(function(){l||(l=!0,Ik("Connection","WebChannel transport closed"),f.no())})),h(s,gk.EventType.ERROR,(function(e){l||(l=!0,Tk("Connection","WebChannel transport errored:",e),f.no(new Dk(Pk.UNAVAILABLE,"The operation could not be completed")))})),h(s,gk.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Nk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ik("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=px[e];if(void 0!==t)return bx(t)}(a),u=i.message;void 0===o&&(o=Pk.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Dk(o,u)),s.close()}else Ik("Connection","WebChannel received:",n),f.so(n)}})),h(a,vk.STAT_EVENT,(function(e){e.stat===mk.PROXY?Ik("Connection","Detected buffering proxy"):e.stat===mk.NOPROXY&&Ik("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){ei(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ni(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Ik("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Ik("RestConnection","Received: ",e),e}),(function(t){throw Tk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+xk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=IE[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function CE(){return"undefined"!=typeof window?window:null}function AE(){return"undefined"!=typeof document?document:null}function NE(e){return new $x(e,!0)}var RE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ei(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return ni(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Ik("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),PE=function(){function e(t,n,r,i,a,o,u,s){ei(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new RE(t,n)}return ni(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Pk.RESOURCE_EXHAUSTED?(Ek(n.toString()),Ek("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Pk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Dk(Pk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Ik("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Ik("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),DE=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a,o,u){var s;return ei(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ni(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ak()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Nk(void 0===t||"string"==typeof t),ab.fromBase64String(t||"")):(Nk(void 0===t||t instanceof Uint8Array),ab.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Pk.UNKNOWN:bx(e.code);return new Dk(t,e.message||"")}(o);n=new Bx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=r_(e,s.document.name),l=Zx(s.document.updateTime),f=new jb({mapValue:{fields:s.document.fields}}),h=Bb.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new jx(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=r_(e,v.document),y=v.readTime?Zx(v.readTime):Yk.min(),g=Bb.newNoDocument(m,y),k=v.removedTargetIds||[];n=new jx([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=r_(e,b.document),x=b.removedTargetIds||[];n=new jx([],x,w,null)}else{if(!("filter"in t))return Ak();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new gx(S),E=_.targetId;n=new zx(E,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Yk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Yk.min():t.readTime?Zx(t.readTime):Yk.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=o_(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=nw(r)?{documents:d_(e,r)}:{query:p_(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Xx(e,t.resumeToken):t.snapshotVersion.compareTo(Yk.min())>0&&(n.readTime=Yx(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ak()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=o_(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(PE),OE=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a,o,u){var s;return ei(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return ni(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,uo(ui(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Nk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Nk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Zx(e.updateTime):Zx(t);return n.isEqual(Yk.min())&&(n=Zx(t)),new ex(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Zx(e.commitTime);return this.listener.Yo(n,t)}return Nk(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=o_(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return f_(t.M,e)}))};this.Fo(n)}}]),n}(PE),LE=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a){var o;return ei(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return ni(n,[{key:"eu",value:function(){if(this.tu)throw new Dk(Pk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Dk(Pk.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Pk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Dk(Pk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return ni((function e(){ei(this,e)}))}()),ME=function(){function e(t,n){ei(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return ni(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Ek(t),this.iu=!1):Ik("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),FE=ni((function e(t,n,r,i,a){var o=this;ei(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=QE(o),!e.t0){e.next=5;break}return Ik("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rk(t)).fu.add(4),e.next=4,jE(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,UE(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new ME(r,i)}));function UE(e){return VE.apply(this,arguments)}function VE(){return VE=Yi(vi().mark((function e(t){var n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!QE(t)){e.next=18;break}n=ri(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),VE.apply(this,arguments)}function jE(e){return zE.apply(this,arguments)}function zE(){return zE=Yi(vi().mark((function e(t){var n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ri(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zE.apply(this,arguments)}function BE(e,t){var n=Rk(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),HE(n)?GE(n):_T(n).xo()&&KE(n,t))}function qE(e,t){var n=Rk(e),r=_T(n);n.lu.delete(t),r.xo()&&WE(n,t),0===n.lu.size&&(r.xo()?r.Mo():QE(n)&&n.wu.set("Unknown"))}function KE(e,t){e.mu.Z(t.targetId),_T(e).jo(t)}function WE(e,t){e.mu.Z(t),_T(e).Wo(t)}function GE(e){e.mu=new Kx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),_T(e).start(),e.wu.ru()}function HE(e){return QE(e)&&!_T(e).Co()&&e.lu.size>0}function QE(e){return 0===Rk(e).fu.size}function $E(e){e.mu=void 0}function YE(e){return XE.apply(this,arguments)}function XE(){return XE=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){KE(t,e)}));case 1:case"end":return e.stop()}}),e)}))),XE.apply(this,arguments)}function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$E(t),HE(t)?(t.wu.au(n),GE(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eT(e,t,n){return tT.apply(this,arguments)}function tT(){return tT=Yi(vi().mark((function e(t,n,r){var i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Bx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ri(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Ik("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof jx?t.mu.ut(n):n instanceof zx?t.mu._t(n):t.mu.ht(n),r.isEqual(Yk.min())){e.next=29;break}return e.prev=14,e.next=17,zI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(ab.EMPTY_BYTE_STRING,n.snapshotVersion)),WE(e,t);var r=new pS(n.target,t,1,n.sequenceNumber);KE(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Ik("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tT.apply(this,arguments)}function nT(e,t,n){return rT.apply(this,arguments)}function rT(){return rT=Yi(vi().mark((function e(t,n,r){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iS(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,jE(t);case 5:t.wu.set("Offline"),r||(r=function(){return zI(t.localStore)}),t.asyncQueue.enqueueRetryable(Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ik("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,UE(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),rT.apply(this,arguments)}function iT(e,t){return t().catch((function(n){return nT(e,n,t)}))}function aT(e){return oT.apply(this,arguments)}function oT(){return oT=Yi(vi().mark((function e(t){var n,r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Rk(t),r=ST(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!uT(n)){e.next=19;break}return e.prev=3,e.next=6,KI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,sT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nT(n,e.t0);case 17:e.next=2;break;case 19:cT(n)&&lT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),oT.apply(this,arguments)}function uT(e){return QE(e)&&e.hu.length<10}function sT(e,t){e.hu.push(t);var n=ST(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function cT(e){return QE(e)&&!ST(e).Co()&&e.hu.length>0}function lT(e){ST(e).start()}function fT(e){return hT.apply(this,arguments)}function hT(){return hT=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ST(t).Zo();case 1:case"end":return e.stop()}}),e)}))),hT.apply(this,arguments)}function dT(e){return pT.apply(this,arguments)}function pT(){return pT=Yi(vi().mark((function e(t){var n,r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ST(t),r=ri(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),pT.apply(this,arguments)}function vT(e,t,n){return mT.apply(this,arguments)}function mT(){return mT=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=hS.from(i,n,r),e.next=3,iT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,aT(t);case 5:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function yT(e,t){return gT.apply(this,arguments)}function gT(){return gT=Yi(vi().mark((function e(t,n){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ST(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kx(i=n.code)||i===Pk.ABORTED){e.next=7;break}return r=t.hu.shift(),ST(t).ko(),e.next=5,iT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,aT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cT(t)&&lT(t);case 5:case"end":return e.stop()}}),e)}))),gT.apply(this,arguments)}function kT(e,t){return bT.apply(this,arguments)}function bT(){return bT=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Rk(t)).asyncQueue.verifyOperationInProgress(),Ik("RemoteStore","RemoteStore received new credentials"),i=QE(r),r.fu.add(3),e.next=6,jE(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,UE(r);case 12:case"end":return e.stop()}}),e)}))),bT.apply(this,arguments)}function wT(e,t){return xT.apply(this,arguments)}function xT(){return xT=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rk(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,UE(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,jE(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),xT.apply(this,arguments)}function _T(e){return e.gu||(e.gu=function(e,t,n){var r=Rk(e);return r.eu(),new DE(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:YE.bind(null,e),Yr:JE.bind(null,e),Qo:eT.bind(null,e)}),e.du.push(function(){var t=Yi(vi().mark((function t(n){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),HE(e)?GE(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:$E(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function ST(e){return e.yu||(e.yu=function(e,t,n){var r=Rk(e);return r.eu(),new OE(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:fT.bind(null,e),Yr:yT.bind(null,e),Xo:dT.bind(null,e),Yo:vT.bind(null,e)}),e.du.push(function(){var t=Yi(vi().mark((function t(n){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,aT(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Ik("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var IT=function(){function e(t,n,r,i,a){ei(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ok,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ni(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dk(Pk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function ET(e,t){if(Ek("AsyncQueue","".concat(t,": ").concat(e)),iS(e))return new Dk(Pk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var TT=function(){function e(t){ei(this,e),this.comparator=t?function(e,n){return t(e,n)||gb.comparator(e.key,n.key)}:function(e,t){return gb.comparator(e.key,t.key)},this.keyedMap=Rx(),this.sortedSet=new xx(this.comparator)}return ni(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),CT=function(){function e(){ei(this,e),this.pu=new xx(gb.comparator)}return ni(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Ak():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),AT=function(){function e(t,n,r,i,a,o,u,s){ei(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ni(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,TT.emptySet(n),a,r,i,!0,!1)}}]),e}(),NT=ni((function e(){ei(this,e),this.Tu=void 0,this.listeners=[]})),RT=ni((function e(){ei(this,e),this.queries=new wx((function(e){return Pw(e)}),Rw),this.onlineState="Unknown",this.Eu=new Set}));function PT(e,t){return DT.apply(this,arguments)}function DT(){return DT=Yi(vi().mark((function e(t,n){var r,i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new NT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=ET(e.t0,"Initialization of query '".concat(Dw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&UT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),DT.apply(this,arguments)}function OT(e,t){return LT.apply(this,arguments)}function LT(){return LT=Yi(vi().mark((function e(t,n){var r,i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),LT.apply(this,arguments)}function MT(e,t){var n,r=Rk(e),i=!1,a=ri(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ri(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&UT(r)}function FT(e,t,n){var r=Rk(e),i=r.queries.get(t);if(i){var a,o=ri(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function UT(e){e.Eu.forEach((function(e){e.next()}))}var VT=function(){function e(t,n,r){ei(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return ni(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ri(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new AT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=AT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),jT=function(){function e(t,n){ei(this,e),this.payload=t,this.byteLength=n}return ni(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),zT=function(){function e(t){ei(this,e),this.M=t}return ni(e,[{key:"fi",value:function(e){return r_(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?c_(this.M,e.document,!1):Bb.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return Zx(e)}}]),e}(),BT=function(){function e(t,n,r){ei(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qT(t)}return ni(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=tb.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new zT(this.M),i=ri(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=ri(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Lx()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JI(this.localStore,new zT(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=ri(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,eE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function qT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KT=ni((function e(t){ei(this,e),this.key=t})),WT=ni((function e(t){ei(this,e),this.key=t})),GT=function(){function e(t,n){ei(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Lx(),this.mutatedKeys=Lx(),this.Uu=Mw(t),this.qu=new TT(this.Uu)}return ni(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new CT,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=_w(this.query)&&i.size===this.query.limit?i.last():null,c=Sw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ow(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),_w(this.query)||Sw(this.query))for(;o.size>this.query.limit;){var l=_w(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ak()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new AT(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new CT,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Lx(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new WT(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new KT(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Lx();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return AT.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),HT=ni((function e(t,n,r){ei(this,e),this.query=t,this.targetId=n,this.view=r})),QT=ni((function e(t){ei(this,e),this.key=t,this.Zu=!1})),$T=function(){function e(t,n,r,i,a,o){ei(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new wx((function(e){return Pw(e)}),Rw),this.na=new Map,this.sa=new Set,this.ia=new xx(gb.comparator),this.ra=new Map,this.oa=new iE,this.ua={},this.aa=new Map,this.ca=aI.yn(),this.onlineState="Unknown",this.ha=void 0}return ni(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function YT(e,t){return XT.apply(this,arguments)}function XT(){return XT=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qC(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,WI(r.localStore,Aw(n));case 8:return u=e.sent,r.isPrimaryClient&&BE(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,JT(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),XT.apply(this,arguments)}function JT(e,t,n,r){return ZT.apply(this,arguments)}function ZT(){return ZT=Yi(vi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=Yi(vi().mark((function e(t,n,r,i){var a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,QI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(kC(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,QI(t.localStore,n,!0);case 3:return a=e.sent,o=new GT(n,a.li),u=o.Gu(a.documents),s=Vx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),kC(t,r,c.Hu),l=new HT(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eC(e,t){return tC.apply(this,arguments)}function tC(){return tC=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Rk(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Rw(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,GI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qE(r.remoteStore,i.targetId),yC(r,i.targetId)})).catch(lI);case 9:e.next=14;break;case 11:return yC(r,i.targetId),e.next=14,GI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return rC=Yi(vi().mark((function e(t,n,r){var i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=KC(t),e.prev=1,e.next=4,function(e,t){var n,r=Rk(e),i=$k.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Lx());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=ri(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ox(c,n.get(c.key));null!=l&&u.push(new lx(c.key,l,zb(l.value.mapValue),tx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new xx(Gk)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xC(i,a.changes);case 9:return e.next=11,aT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=ET(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),rC.apply(this,arguments)}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),e.prev=1,e.next=4,BI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Nk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Nk(n.Zu):e.removedDocuments.size>0&&(Nk(n.Zu),n.Zu=!1))})),e.next=8,xC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,lI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),aC.apply(this,arguments)}function oC(e,t,n){var r=Rk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Rk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ri(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&UT(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s,c;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Rk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new xx(gb.comparator)).insert(o,Bb.newNoDocument(o,Yk.min())),s=Lx().add(o),c=new Ux(Yk.min(),new Map,new Ix(Gk),u,s),e.next=9,iC(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),wC(i),e.next=16;break;case 14:return e.next=16,GI(i.localStore,n,!1).then((function(){return yC(i,n,r)})).catch(lI);case 16:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),i=n.batch.batchId,e.prev=1,e.next=4,jI(r.localStore,n);case 4:return a=e.sent,mC(r,i,null),vC(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),lC.apply(this,arguments)}function fC(e,t,n){return hC.apply(this,arguments)}function hC(){return hC=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rk(t),e.prev=1,e.next=4,function(e,t){var n=Rk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Nk(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,mC(i,n,r),vC(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,lI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hC.apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Yi(vi().mark((function e(t,n){var r,i,a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return QE((r=Rk(t)).remoteStore)||Ik("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Rk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=ET(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),pC.apply(this,arguments)}function vC(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function mC(e,t,n){var r=Rk(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function yC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ri(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||gC(e,t)}))}function gC(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(qE(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),wC(e))}function kC(e,t,n){var r,i=ri(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof KT?(e.oa.addReference(a.key,t),bC(e,a)):a instanceof WT?(Ik("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||gC(e,a.key)):Ak()}}catch(o){i.e(o)}finally{i.f()}}function bC(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Ik("SyncEngine","New document in limbo: "+n),e.sa.add(r),wC(e))}function wC(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new gb(tb.fromString(t)),r=e.ca.next();e.ra.set(r,new QT(n)),e.ia=e.ia.insert(n,r),BE(e.remoteStore,new pS(Aw(xw(n.path)),r,2,qk.A))}}function xC(e,t,n){return _C.apply(this,arguments)}function _C(){return _C=Yi(vi().mark((function e(t,n,r){var i,a,o,u;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Rk(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=OI.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Z_.forEach(n,(function(t){return Z_.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Z_.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),iS(e.t0)){e.next=10;break}throw e.t0;case 10:Ik("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ri(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),_C.apply(this,arguments)}function SC(e,t){return IC.apply(this,arguments)}function IC(){return IC=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Rk(t)).currentUser.isEqual(n)){e.next=11;break}return Ik("SyncEngine","User change. New user:",n.toKey()),e.next=5,UI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Dk(Pk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xC(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function EC(e,t){var n=Rk(e),r=n.ra.get(t);if(r&&r.Zu)return Lx().add(r.key);var i=Lx(),a=n.na.get(t);if(!a)return i;var o,u=ri(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function TC(e,t){return CC.apply(this,arguments)}function CC(){return CC=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),e.next=3,QI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&kC(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function AC(e,t){return NC.apply(this,arguments)}function NC(){return NC=Yi(vi().mark((function e(t,n){var r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),e.abrupt("return",YI(r.localStore,n).then((function(e){return xC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function RC(e,t,n,r){return PC.apply(this,arguments)}function PC(){return PC=Yi(vi().mark((function e(t,n,r,i){var a,o;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rk(t),e.next=3,function(e,t){var n=Rk(e),r=Rk(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):Z_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,aT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(mC(a,n,i||null),vC(a,n),function(e,t){Rk(Rk(e).Bs)._n(t)}(a.localStore,n)):Ak();case 11:return e.next=13,xC(a,o);case 13:e.next=16;break;case 15:Ik("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function DC(e,t){return OC.apply(this,arguments)}function OC(){return OC=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qC(r=Rk(t)),KC(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,LC(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,wT(r.remoteStore,!0);case 9:o=ri(a);try{for(o.s();!(u=o.n()).done;)s=u.value,BE(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yC(r,t),GI(r.localStore,t,!0)})),qE(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,LC(r,c);case 21:return function(e){var t=Rk(e);t.ra.forEach((function(e,n){qE(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new xx(gb.comparator)}(r),r.ha=!1,e.next=25,wT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function LC(e,t,n){return MC.apply(this,arguments)}function MC(){return MC=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Rk(t),a=[],o=[],u=ri(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,WI(i.localStore,Aw(f[0]));case 11:l=e.sent,h=ri(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,TC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,$I(i.localStore,c);case 36:return y=e.sent,e.next=39,WI(i.localStore,y);case 39:return l=e.sent,e.next=42,JT(i,FC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),MC.apply(this,arguments)}function FC(e){return ww(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function UC(e){var t=Rk(e);return Rk(Rk(t.localStore).persistence).Fs()}function VC(e,t,n,r){return jC.apply(this,arguments)}function jC(){return jC=Yi(vi().mark((function e(t,n,r,i){var a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Rk(t)).ha){e.next=3;break}return e.abrupt("return",void Ik("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,YI(a.localStore,Lw(o[0]));case 10:return u=e.sent,s=Ux.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,xC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,GI(a.localStore,n,!0);case 17:return yC(a,n,i),e.abrupt("break",20);case 19:Ak();case 20:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function zC(e,t,n){return BC.apply(this,arguments)}function BC(){return BC=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=qC(t)).ha){e.next=45;break}a=ri(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return Ik("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,$I(i.localStore,u);case 12:return s=e.sent,e.next=15,WI(i.localStore,s);case 15:return c=e.sent,e.next=18,JT(i,FC(s),c.targetId,!1);case 18:BE(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ri(r),e.prev=30,h=vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,GI(i.localStore,t,!1).then((function(){qE(i.remoteStore,t),yC(i,t)})).catch(lI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),BC.apply(this,arguments)}function qC(e){var t=Rk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uC.bind(null,t),t.ta.Qo=MT.bind(null,t.eventManager),t.ta.fa=FT.bind(null,t.eventManager),t}function KC(e){var t=Rk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fC.bind(null,t),t}function WC(e,t,n){var r=Rk(e);(function(){var e=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Rk(e),r=Zx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(qT(i)),a=new BT(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xC(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Rk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Tk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var GC=function(){function e(){ei(this,e),this.synchronizeTabs=!1}return ni(e,[{key:"initialize",value:function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=NE(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return FI(this.persistence,new LI,e.initialUser,this.M)}},{key:"wa",value:function(e){return new lE(hE.zi,this.M)}},{key:"_a",value:function(e){return new xE}},{key:"terminate",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),HC=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ni(n,[{key:"initialize",value:function(){var e=Yi(vi().mark((function e(t){var r=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ui(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,KC(this.ya.syncEngine);case 6:return e.next=8,aT(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return FI(this.persistence,new LI,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new pI(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?XS.withCacheSize(this.cacheSizeBytes):XS.DEFAULT;return new AI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,CE(),AE(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new xE}}]),n}(GC),QC=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ni(n,[{key:"initialize",value:function(){var e=Yi(vi().mark((function e(t){var r,i=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(ui(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof wE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:RC.bind(null,r),Or:VC.bind(null,r),Fr:zC.bind(null,r),Fs:UC.bind(null,r),kr:AC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DC(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=CE();if(!wE.vt(t))throw new Dk(Pk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=PI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(HC),$C=function(){function e(){ei(this,e)}return ni(e,[{key:"initialize",value:function(){var e=Yi(vi().mark((function e(t,n){var r=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oC(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=SC.bind(null,this.syncEngine),e.next=12,wT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new RT}},{key:"createDatastore",value:function(e){var t,n=NE(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new TE(t));return function(e,t,n,r){return new LE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return oC(o.syncEngine,e,0)},a=SE.vt()?new SE:new _E,new FE(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new $T(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rk(t),Ik("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,jE(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function YC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Yi(vi().mark((function r(){var i;return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var XC=function(){function e(t){ei(this,e),this.observer=t,this.muted=!1}return ni(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),JC=function(){function e(t,n){var r=this;ei(this,e),this.Ta=t,this.M=n,this.metadata=new Ok,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ni(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=Yi(vi().mark((function e(){var t,n,r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new jT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=Yi(vi().mark((function e(){var t,n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=Yi(vi().mark((function e(){var t,n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ZC=function(){function e(t){ei(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ni(e,[{key:"lookup",value:function(){var e=Yi(vi().mark((function e(t){var n,r=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Dk(Pk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Yi(vi().mark((function e(t,n){var r,i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),i=o_(r.M)+"/documents",a={documents:n.map((function(e){return n_(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=l_(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Nk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new mx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Yi(vi().mark((function e(){var t,n=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=gb.fromPath(t);n.mutations.push(new yx(r,n.precondition(r)))})),e.next=7,function(){var e=Yi(vi().mark((function e(t,n){var r,i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Rk(t),i=o_(r.M)+"/documents",a={writes:n.map((function(e){return f_(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ak();t=Yk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Dk(Pk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?tx.updateTime(t):tx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Yk.min()))throw new Dk(Pk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tx.updateTime(t)}return tx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),eA=function(){function e(t,n,r,i){ei(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new RE(this.asyncQueue,"transaction_retry")}return ni(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(Yi(vi().mark((function t(){var n,r;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new ZC(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!vb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kx(t)}return!1}}]),e}(),tA=function(){function e(t,n,r,i){var a=this;ei(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wk.UNAUTHENTICATED,this.clientId=Wk.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ik("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Ik("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ni(e,[{key:"getConfiguration",value:function(){var e=Yi(vi().mark((function e(){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Dk(Pk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ok;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Yi(vi().mark((function n(){var r;return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=ET(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function nA(e,t){return rA.apply(this,arguments)}function rA(){return rA=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Ik("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,UI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=Yi(vi().mark((function e(t,n){var r,i;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,oA(t);case 3:return r=e.sent,Ik("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return kT(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return kT(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e){return uA.apply(this,arguments)}function uA(){return uA=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Ik("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,nA(t,new GC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function sA(e){return cA.apply(this,arguments)}function cA(){return cA=Yi(vi().mark((function e(t){return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Ik("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,iA(t,new $C);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e){return oA(e).then((function(e){return e.persistence}))}function fA(e){return oA(e).then((function(e){return e.localStore}))}function hA(e){return sA(e).then((function(e){return e.remoteStore}))}function dA(e){return sA(e).then((function(e){return e.syncEngine}))}function pA(e){return vA.apply(this,arguments)}function vA(){return vA=Yi(vi().mark((function e(t){var n,r;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=YT.bind(null,n.syncEngine),r.onUnlisten=eC.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),vA.apply(this,arguments)}function mA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function i(){return vi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XC({next:function(a){t.enqueueAndForget((function(){return OT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Dk(Pk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Dk(Pk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new VT(xw(n.path),a,{includeMetadataChanges:!0,Cu:!0});return PT(e,o)},i.next=3,pA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function yA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function i(){return vi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new XC({next:function(n){t.enqueueAndForget((function(){return OT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Dk(Pk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new VT(n,a,{includeMetadataChanges:!0,Cu:!0});return PT(e,o)},i.next=3,pA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var gA=new Map;function kA(e,t,n){if(!n)throw new Dk(Pk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function bA(e,t,n,r){if(!0===t&&!0===r)throw new Dk(Pk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function wA(e){if(!gb.isDocumentKey(e))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function xA(e){if(gb.isDocumentKey(e))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _A(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ak()}function SA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Dk(Pk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_A(e);throw new Dk(Pk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function IA(e,t){if(t<=0)throw new Dk(Pk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var EA=function(){function e(t){var n;if(ei(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Dk(Pk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Dk(Pk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ni(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),TA=function(){function e(t,n,r){ei(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EA({}),this._settingsFrozen=!1,t instanceof pb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Dk(Pk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pb(e.options.projectId)}(t))}return ni(e,[{key:"app",get:function(){if(!this._app)throw new Dk(Pk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Dk(Pk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Mk;switch(e.type){case"gapi":var t=e.client;return Nk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Dk(Pk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=gA.get(e);t&&(Ik("ComponentProvider","Removing Datastore"),gA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function CA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=SA(e,TA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Tk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=wk.MOCK_USER;else{o=xi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Dk(Pk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new wk(s)}e._authCredentials=new Fk(new Lk(o,u))}}var AA=function(){function e(t,n,r){ei(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ni(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new RA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),NA=function(){function e(t,n,r){ei(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ni(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),RA=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this,e,r,xw(i)))._path=i,a.type="collection",a}return ni(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new AA(this.firestore,null,new gb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(NA);function PA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qi(e),kA("collection","path",t),e instanceof TA){var a=tb.fromString.apply(tb,[t].concat(r));return xA(a),new RA(e,null,a)}if(!(e instanceof AA||e instanceof RA))throw new Dk(Pk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tb.fromString.apply(tb,[t].concat(r)));return xA(o),new RA(e.firestore,null,o)}function DA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=qi(e),1===arguments.length&&(t=Wk.R()),kA("doc","path",t),e instanceof TA){var a=tb.fromString.apply(tb,[t].concat(r));return wA(a),new AA(e,null,new gb(a))}if(!(e instanceof AA||e instanceof RA))throw new Dk(Pk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(tb.fromString.apply(tb,[t].concat(r)));return wA(o),new AA(e.firestore,e instanceof RA?e.converter:null,new gb(o))}function OA(e,t){return e=qi(e),t=qi(t),(e instanceof AA||e instanceof RA)&&(t instanceof AA||t instanceof RA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function LA(e,t){return e=qi(e),t=qi(t),e instanceof NA&&t instanceof NA&&e.firestore===t.firestore&&Rw(e._query,t._query)&&e.converter===t.converter}var MA=function(){function e(){var t=this;ei(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new RE(this,"async_queue_retry"),this.qa=function(){var e=AE();e&&Ik("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=AE();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return ni(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=AE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new Ok;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=Yi(vi().mark((function e(){var t=this;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),iS(e.t0)){e.next=12;break}throw e.t0;case 12:Ik("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ek("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=IT.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Ak()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=Yi(vi().mark((function e(){var t;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=ri(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ri(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function FA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ri(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var UA=function(){function e(){ei(this,e),this._progressObserver={},this._taskCompletionResolver=new Ok,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ni(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),VA=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new MA,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ni(n,[{key:"_terminate",value:function(){return this._firestoreClient||zA(this),this._firestoreClient.terminate()}}]),n}(TA);function jA(e){return e._firestoreClient||zA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new db(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function BA(e,t,n){var r=new Ok;return e.asyncQueue.enqueue(Yi(vi().mark((function i(){return vi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,nA(e,n);case 3:return i.next=5,iA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Pk.FAILED_PRECONDITION||e.code===Pk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function qA(e){return function(e){return e.asyncQueue.enqueue(Yi(vi().mark((function t(){var n,r;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lA(e);case 2:return n=t.sent,t.next=5,hA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Rk(e);return t.fu.delete(0),UE(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(jA(e=SA(e,VA)))}function KA(e){return function(e){return e.asyncQueue.enqueue(Yi(vi().mark((function t(){var n,r;return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lA(e);case 2:return n=t.sent,t.next=5,hA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Rk(t)).fu.add(0),e.next=4,jE(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(jA(e=SA(e,VA)))}function WA(e,t){var n=jA(e=SA(e,VA)),r=new UA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new JC(e,t)}(function(e,t){if(e instanceof Uint8Array)return YC(e,t);if(e instanceof ArrayBuffer)return YC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,NE(t));e.asyncQueue.enqueueAndForget(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=WC,t.next=3,dA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function GA(e,t){return function(e,t){return e.asyncQueue.enqueue(Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Rk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,fA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(jA(e=SA(e,VA)),t).then((function(t){return t?new NA(e,null,t.query):null}))}function HA(e){if(e._initialized||e._terminated)throw new Dk(Pk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var QA=function(){function e(){ei(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rb(n)}return ni(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var $A=function(){function e(t){ei(this,e),this._byteString=t}return ni(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ab.fromBase64String(t))}catch(t){throw new Dk(Pk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ab.fromUint8Array(t))}}]),e}(),YA=ni((function e(t){ei(this,e),this._methodName=t})),XA=function(){function e(t,n){if(ei(this,e),!isFinite(t)||t<-90||t>90)throw new Dk(Pk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Dk(Pk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ni(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gk(this._lat,e._lat)||Gk(this._long,e._long)}}]),e}(),JA=/^__.*__$/,ZA=function(){function e(t,n,r){ei(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ni(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new lx(e,this.data,this.fieldMask,t,this.fieldTransforms):new cx(e,this.data,t,this.fieldTransforms)}}]),e}(),eN=function(){function e(t,n,r){ei(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ni(e,[{key:"toMutation",value:function(e,t){return new lx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function tN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ak()}}var nN=function(){function e(t,n,r,i,a,o){ei(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ni(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return xN(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(tN(this.Xa)&&JA.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),rN=function(){function e(t,n,r){ei(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||NE(t)}return ni(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new nN({Xa:e,methodName:t,uc:n,path:rb.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function iN(e){var t=e._freezeSettings(),n=NE(e._databaseId);return new rN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function aN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);gN("Data must be an object, but it was:",o,r);var u,s,c=mN(r,o);if(a.merge)u=new ib(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ri(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=kN(t,d,n);if(!o.contains(p))throw new Dk(Pk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));_N(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ib(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ZA(new jb(c),u,s)}var oN=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YA);function uN(e,t,n){return new nN({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var sN=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"_toFieldTransform",value:function(e){return new Zw(e.path,new Ww)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(YA),cN=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e)).cc=r,i}return ni(n,[{key:"_toFieldTransform",value:function(e){var t=uN(this,e,!0),n=this.cc.map((function(e){return vN(e,t)})),r=new Gw(n);return new Zw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YA),lN=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e)).cc=r,i}return ni(n,[{key:"_toFieldTransform",value:function(e){var t=uN(this,e,!0),n=this.cc.map((function(e){return vN(e,t)})),r=new Qw(n);return new Zw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YA),fN=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e)).hc=r,i}return ni(n,[{key:"_toFieldTransform",value:function(e){var t=new Yw(e.M,jw(e.M,this.hc));return new Zw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(YA);function hN(e,t,n,r){var i=e.ac(1,t,n);gN("Data must be an object, but it was:",i,r);var a=[],o=jb.empty();Jk(r,(function(e,r){var u=wN(t,e,n);r=qi(r);var s=i.sc(u);if(r instanceof oN)a.push(u);else{var c=vN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ib(a);return new eN(o,u,i.fieldTransforms)}function dN(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[kN(t,r,n)],s=[i];if(a.length%2!=0)throw new Dk(Pk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(kN(t,a[c])),s.push(a[c+1]);for(var l=[],f=jb.empty(),h=u.length-1;h>=0;--h)if(!_N(l,u[h])){var d=u[h],p=s[h];p=qi(p);var v=o.sc(d);if(p instanceof oN)l.push(d);else{var m=vN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ib(l);return new eN(f,y,o.fieldTransforms)}function pN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return vN(n,e.ac(r?4:3,t))}function vN(e,t){if(yN(e=qi(e)))return gN("Unsupported field value:",t,e),mN(e,t);if(e instanceof YA)return function(e,t){if(!tN(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ri(e);try{for(a.s();!(n=a.n()).done;){var o=vN(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=qi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return jw(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=$k.fromDate(e);return{timestampValue:Yx(t.M,n)}}if(e instanceof $k){var r=new $k(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Yx(t.M,r)}}if(e instanceof XA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $A)return{bytesValue:Xx(t.M,e._byteString)};if(e instanceof AA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:e_(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(_A(e)))}(e,t)}function mN(e,t){var n={};return Zk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jk(e,(function(e,r){var i=vN(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof $k||e instanceof XA||e instanceof $A||e instanceof AA||e instanceof YA)}function gN(e,t,n){if(!yN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_A(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function kN(e,t,n){if((t=qi(t))instanceof QA)return t._internalPath;if("string"==typeof t)return wN(e,t);throw xN("Field path arguments must be of type string or ",e,!1,void 0,n)}var bN=new RegExp("[~\\*/\\[\\]]");function wN(e,t,n){if(t.search(bN)>=0)throw xN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return hi(QA,m(t.split(".")))._internalPath}catch(r){throw xN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Dk(Pk.INVALID_ARGUMENT,u+e+s)}function _N(e,t){return e.some((function(e){return e.isEqual(t)}))}var SN=function(){function e(t,n,r,i,a){ei(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ni(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new AA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new IN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(EN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),IN=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"data",value:function(){return uo(ui(n.prototype),"data",this).call(this)}}]),n}(SN);function EN(e,t){return"string"==typeof t?wN(e,t):t instanceof QA?t._internalPath:t._delegate._internalPath}var TN=function(){function e(t,n){ei(this,e),this.hasPendingWrites=t,this.fromCache=n}return ni(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),CN=function(e){oi(n,e);var t=fi(n);function n(e,r,i,a,o,u){var s;return ei(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ni(n,[{key:"exists",value:function(){return uo(ui(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new AN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(EN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(SN),AN=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return uo(ui(n.prototype),"data",this).call(this,e)}}]),n}(CN),NN=function(){function e(t,n,r,i){ei(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new TN(i.hasPendingWrites,i.fromCache),this.query=r}return ni(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new AN(n._firestore,n._userDataWriter,r.key,r,new TN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dk(Pk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new AN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new AN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new TN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:RN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function RN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ak()}}function PN(e,t){return e instanceof CN&&t instanceof CN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof NN&&t instanceof NN&&e._firestore===t._firestore&&LA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function DN(e){if(Sw(e)&&0===e.explicitOrderBy.length)throw new Dk(Pk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ON=ni((function e(){ei(this,e)}));function LN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var MN=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return ni(n,[{key:"_apply",value:function(e){var t=iN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){HN(o,a);var s,c=[],l=ri(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(GN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=GN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||HN(o,a),u=pN(n,"where",o,"in"===a||"not-in"===a);var h=ow.create(i,a,u);return function(e,t){if(t.S()){var n=Ew(e);if(null!==n&&!n.isEqual(t.field))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Iw(e);null!==r&&QN(e,t.field,r)}var i=function(e,t){var n,r=ri(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new NA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new bw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(ON);var FN=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return ni(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mw(t,n);return function(e,t){if(null===Iw(e)){var n=Ew(e);null!==n&&QN(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new NA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new bw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(ON);var UN=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return ni(n,[{key:"_apply",value:function(e){return new NA(e.firestore,e.converter,Nw(e._query,this.wc,this.mc))}}]),n}(ON);var VN=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return ni(n,[{key:"_apply",value:function(e){var t=WN(e,this.type,this.gc,this.yc);return new NA(e.firestore,e.converter,function(e,t){return new bw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(ON);function jN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VN("startAt",t,!0)}function zN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new VN("startAfter",t,!1)}var BN=function(e){oi(n,e);var t=fi(n);function n(e,r,i){var a;return ei(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return ni(n,[{key:"_apply",value:function(e){var t=WN(e,this.type,this.gc,this.yc);return new NA(e.firestore,e.converter,function(e,t){return new bw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(ON);function qN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BN("endBefore",t,!1)}function KN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BN("endAt",t,!0)}function WN(e,t,n,r){if(n[0]=qi(n[0]),n[0]instanceof SN)return function(e,t,n,r,i){if(!r)throw new Dk(Pk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ri(Cw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Cb(t,r.key));else{var c=r.data.field(s.field);if(lb(c))throw new Dk(Pk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new vw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=iN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Dk(Pk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Tw(e)&&-1!==c.indexOf("/"))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(tb.fromString(c));if(!gb.isDocumentKey(l))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new gb(l);u.push(Cb(t,f))}else{var h=pN(n,r,c);u.push(h)}}return new vw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function GN(e,t,n){if("string"==typeof(n=qi(n))){if(""===n)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(t)&&-1!==n.indexOf("/"))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(tb.fromString(n));if(!gb.isDocumentKey(r))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Cb(e,new gb(r))}if(n instanceof AA)return Cb(e,n._key);throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_A(n),"."))}function HN(e,t){if(!Array.isArray(e)||0===e.length)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function QN(e,t,n){if(!n.isEqual(t))throw new Dk(Pk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var $N=function(){function e(){ei(this,e)}return ni(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(wb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ak()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Jk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new XA(sb(e.latitude),sb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=fb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(hb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ub(e);return new $k(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=tb.fromString(e);Nk(S_(n));var r=new pb(n.get(1),n.get(3)),i=new gb(n.popFirst(5));return r.isEqual(t)||Ek("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function YN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var XN=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).firestore=e,r}return ni(n,[{key:"convertBytes",value:function(e){return new $A(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new AA(this.firestore,null,t)}}]),n}($N),JN=function(){function e(t,n){ei(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=iN(t)}return ni(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ZN(e,this._firestore),i=YN(r.converter,t,n),a=aN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,tx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ZN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=qi(t))||t instanceof QA?dN(this._dataReader,"WriteBatch.update",i._key,t,n,o):hN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,tx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ZN(e,this._firestore);return this._mutations=this._mutations.concat(new mx(t._key,tx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Dk(Pk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ZN(e,t){if((e=qi(e)).firestore!==t)throw new Dk(Pk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var eR=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).firestore=e,r}return ni(n,[{key:"convertBytes",value:function(e){return new $A(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new AA(this.firestore,null,t)}}]),n}($N);function tR(e){e=SA(e,AA);var t=SA(e.firestore,VA),n=jA(t),r=new eR(t);return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function r(){return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Yi(vi().mark((function e(t,n,r){var i,a;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Rk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Dk(Pk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=ET(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new CN(t,r,e._key,n,new TN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function nR(e){e=SA(e,NA);var t=SA(e.firestore,VA),n=jA(t),r=new eR(t);return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function r(){return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Yi(vi().mark((function e(t,n,r){var i,a,o,u,s;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,QI(t,n,!0);case 3:i=e.sent,a=new GT(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=ET(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,fA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new NN(t,r,e,n)}))}function rR(e,t,n){e=SA(e,AA);var r=SA(e.firestore,VA),i=YN(e.converter,t,n);return uR(r,[aN(iN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tx.none())])}function iR(e,t,n){e=SA(e,AA);for(var r=SA(e.firestore,VA),i=iN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return uR(r,[("string"==typeof(t=qi(t))||t instanceof QA?dN(i,"updateDoc",e._key,t,n,o):hN(i,"updateDoc",e._key,t)).toMutation(e._key,tx.exists(!0))])}function aR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=qi(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||FA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(FA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof AA)l=SA(e.firestore,VA),f=xw(e._key.path),c={next:function(t){n[s]&&n[s](sR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=SA(e,NA);l=SA(p.firestore,VA),f=p._query;var v=new eR(l);c={next:function(e){n[s]&&n[s](new NN(l,v,p,e))},error:n[s+1],complete:n[s+2]},DN(e._query)}return function(e,t,n,r){var i=new XC(r),a=new VT(t,i,n);return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=PT,t.next=3,pA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OT,t.next=3,pA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jA(l),f,h,c)}function oR(e,t){return function(e,t){var n=new XC(t);return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rk(e).Eu.add(t),t.next()},t.next=3,pA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(Yi(vi().mark((function t(){return vi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Rk(e).Eu.delete(t)},t.next=3,pA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(jA(e=SA(e,VA)),FA(t)?t:{next:t})}function uR(e,t){return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function r(){return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=nC,r.next=3,dA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(jA(e),t)}function sR(e,t,n){var r=n.docs.get(t._key),i=new eR(e);return new CN(e,i,t._key,r,new TN(n.hasPendingWrites,n.fromCache),t.converter)}var cR=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,r))._firestore=e,i}return ni(n,[{key:"get",value:function(e){var t=this,r=ZN(e,this._firestore),i=new eR(this._firestore);return uo(ui(n.prototype),"get",this).call(this,e).then((function(e){return new CN(t._firestore,i,r._key,e._document,new TN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ei(this,e),this._firestore=t,this._transaction=n,this._dataReader=iN(t)}return ni(e,[{key:"get",value:function(e){var t=this,n=ZN(e,this._firestore),r=new XN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ak();var i=e[0];if(i.isFoundDocument())return new SN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new SN(t._firestore,r,n._key,null,n.converter);throw Ak()}))}},{key:"set",value:function(e,t,n){var r=ZN(e,this._firestore),i=YN(r.converter,t,n),a=aN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ZN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=qi(t))||t instanceof QA?dN(this._dataReader,"Transaction.update",i._key,t,n,o):hN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ZN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function lR(e,t){return function(e,t){var n=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function r(){var i;return vi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return sA(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new eA(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(jA(e=SA(e,VA)),(function(n){return t(new cR(e,n))}))}function fR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new cN("arrayUnion",t)}function hR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){xk=e}(Aa),xa(new Xi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new VA(i,new Uk(e.getProvider("auth-internal")),new Bk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),La(bk,"3.4.8",e),La(bk,"3.4.8","esm2017")}();function dR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Dk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function pR(){if("undefined"===typeof Uint8Array)throw new Dk("unimplemented","Uint8Arrays are not available in this environment.")}function vR(){if("undefined"==typeof atob)throw new Dk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var mR=function(){function e(t){ei(this,e),this._delegate=t}return ni(e,[{key:"toBase64",value:function(){return vR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return pR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return vR(),new e($A.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return pR(),new e($A.fromUint8Array(t))}}]),e}();function yR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ri(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var gR=function(){function e(){ei(this,e)}return ni(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){HA(e=SA(e,VA));var n=jA(e),r=e._freezeSettings(),i=new $C;return BA(n,i,new HC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){HA(e=SA(e,VA));var t=jA(e),n=e._freezeSettings(),r=new $C;return BA(t,r,new QC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Dk(Pk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ok;return e._queue.enqueueAndForgetEvenWhileRestricted(Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Yi(vi().mark((function e(t){var n;return vi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(tS.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,tS.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(PI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),kR=function(){function e(t,n,r){var i=this;ei(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof pb||(this._appCompat=t)}return ni(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Tk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return qA(this._delegate)}},{key:"disableNetwork",value:function(){return KA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&bA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ok;return e.asyncQueue.enqueueAndForget(Yi(vi().mark((function n(){return vi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dC,n.next=3,dA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(jA(e=SA(e,VA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return oR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Dk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new DR(this,PA(this._delegate,e))}catch(t){throw IR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new SR(this,DA(this._delegate,e))}catch(t){throw IR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new NR(this,function(e,t){if(e=SA(e,TA),kA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Dk(Pk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new NA(e,null,function(e){return new bw(tb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw IR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return lR(this._delegate,(function(n){return e(new wR(t,n))}))}},{key:"batch",value:function(){var e=this;return jA(this._delegate),new xR(new JN(this._delegate,(function(t){return uR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return GA(this._delegate,e).then((function(e){return e?new NR(t,e):null}))}}]),e}(),bR=function(e){oi(n,e);var t=fi(n);function n(e){var r;return ei(this,n),(r=t.call(this)).firestore=e,r}return ni(n,[{key:"convertBytes",value:function(e){return new mR(new $A(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return SR.forKey(t,this.firestore,null)}}]),n}($N);var wR=function(){function e(t,n){ei(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new bR(t)}return ni(e,[{key:"get",value:function(e){var t=this,n=OR(e);return this._delegate.get(n).then((function(e){return new CR(t._firestore,new CN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=OR(e);return n?(dR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=OR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=OR(e);return this._delegate.delete(t),this}}]),e}(),xR=function(){function e(t){ei(this,e),this._delegate=t}return ni(e,[{key:"set",value:function(e,t,n){var r=OR(e);return n?(dR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=OR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=OR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),_R=function(){function e(t,n,r){ei(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ni(e,[{key:"fromFirestore",value:function(e,t){var n=new AN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new AR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new bR(t),n),i.set(n,a)),a}}]),e}();_R.INSTANCES=new WeakMap;var SR=function(){function e(t,n){ei(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bR(t)}return ni(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new DR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new DR(this.firestore,PA(this._delegate,e))}catch(t){throw IR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=qi(e))instanceof AA&&OA(this._delegate,e)}},{key:"set",value:function(e,t){t=dR("DocumentReference.set",t);try{return t?rR(this._delegate,e,t):rR(this._delegate,e)}catch(n){throw IR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?iR(this._delegate,e):iR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw IR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return uR(SA(e.firestore,VA),[new mx(e._key,tx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ER(n),a=TR(n,(function(t){return new CR(e.firestore,new CN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return aR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?tR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SA(e,AA);var t=SA(e.firestore,VA);return mA(jA(t),e._key,{source:"server"}).then((function(n){return sR(t,e,n)}))}(this._delegate):function(e){e=SA(e,AA);var t=SA(e.firestore,VA);return mA(jA(t),e._key).then((function(n){return sR(t,e,n)}))}(this._delegate),t.then((function(e){return new CR(n.firestore,new CN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Dk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new AA(n._delegate,r,new gb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new AA(n._delegate,r,t))}}]),e}();function IR(e,t,n){return e.message=e.message.replace(t,n),e}function ER(e){var t,n=ri(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!yR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function TR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=yR(e[0])?e[0]:yR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var CR=function(){function e(t,n){ei(this,e),this._firestore=t,this._delegate=n}return ni(e,[{key:"ref",get:function(){return new SR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return PN(this._delegate,e._delegate)}}]),e}(),AR=function(e){oi(n,e);var t=fi(n);function n(){return ei(this,n),t.apply(this,arguments)}return ni(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ak()}(void 0!==t),t}}]),n}(CR),NR=function(){function e(t,n){ei(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new bR(t)}return ni(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,LN(this._delegate,function(e,t,n){var r=t,i=EN("where",e);return new MN(i,r,n)}(t,n,r)))}catch(i){throw IR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,LN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=EN("orderBy",e);return new FN(n,t)}(t,n)))}catch(r){throw IR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,LN(this._delegate,function(e){return IA("limit",e),new UN("limit",e,"F")}(t)))}catch(n){throw IR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,LN(this._delegate,function(e){return IA("limitToLast",e),new UN("limitToLast",e,"L")}(t)))}catch(n){throw IR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,LN(this._delegate,jN.apply(void 0,arguments)))}catch(t){throw IR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,LN(this._delegate,zN.apply(void 0,arguments)))}catch(t){throw IR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,LN(this._delegate,qN.apply(void 0,arguments)))}catch(t){throw IR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,LN(this._delegate,KN.apply(void 0,arguments)))}catch(t){throw IR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return LA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?nR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=SA(e,NA);var t=SA(e.firestore,VA),n=jA(t),r=new eR(t);return yA(n,e._query,{source:"server"}).then((function(n){return new NN(t,r,e,n)}))}(this._delegate):function(e){e=SA(e,NA);var t=SA(e.firestore,VA),n=jA(t),r=new eR(t);return DN(e._query),yA(n,e._query).then((function(n){return new NN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new PR(n.firestore,new NN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ER(n),a=TR(n,(function(t){return new PR(e.firestore,new NN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return aR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(_R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),RR=function(){function e(t,n){ei(this,e),this._firestore=t,this._delegate=n}return ni(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new AR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),PR=function(){function e(t,n){ei(this,e),this._firestore=t,this._delegate=n}return ni(e,[{key:"query",get:function(){return new NR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new AR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new RR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new AR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return PN(this._delegate,e._delegate)}}]),e}(),DR=function(e){oi(n,e);var t=fi(n);function n(e,r){var i;return ei(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ni(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new SR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new SR(this.firestore,void 0===e?DA(this._delegate):DA(this._delegate,e))}catch(t){throw IR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=SA(e.firestore,VA),r=DA(e),i=YN(e.converter,t);return uR(n,[aN(iN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new SR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return OA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(_R.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(NR);function OR(e){return SA(e,AA)}var LR=function(){function e(){ei(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=hi(QA,n)}return ni(e,[{key:"isEqual",value:function(e){return(e=qi(e))instanceof QA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(rb.keyField().canonicalString())}}]),e}(),MR=function(){function e(t){ei(this,e),this._delegate=t}return ni(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new sN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new oN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=fR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=hR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new fN("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),FR={Firestore:kR,GeoPoint:XA,Timestamp:$k,Blob:mR,Transaction:wR,WriteBatch:xR,DocumentReference:SR,DocumentSnapshot:CR,Query:NR,QueryDocumentSnapshot:AR,QuerySnapshot:PR,CollectionReference:DR,FieldPath:LR,FieldValue:MR,setLogLevel:function(e){!function(e){_k.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Xi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},FR)))}(e,(function(e,t){return new kR(e,t,new gR)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(ao);var UR=ao.initializeApp({apiKey:"AIzaSyDkwUmg8PMX5wGkL06K9Qgp79sXwvfw4kE",authDomain:"instagram-clone-react-d7465.firebaseapp.com",projectId:"instagram-clone-react-d7465",storageBucket:"instagram-clone-react-d7465.appspot.com",messagingSenderId:"639239883318",appId:"1:639239883318:web:008433eca59f4c6db12697",measurementId:"G-9V945EK6MB"}).firestore(),VR=ao.auth(),jR=ao.storage(),zR=function(e){var n=c((0,t.useState)([]),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],u=a[1],s=c((0,t.useState)(!1),2),l=s[0],f=s[1];(0,t.useEffect)((function(){var t;return e.postId&&(t=UR.collection("posts").doc(e.postId).collection("comments").orderBy("timestamp","asc").onSnapshot((function(e){i(e.docs.map((function(e){return e.data()})))}))),function(){t()}}));return(0,zr.jsxs)("div",{className:"post",children:[(0,zr.jsxs)("div",{className:"post__header",children:[(0,zr.jsx)(Zr,{className:"post__avatar",alt:e.username,src:"/static/images/avatar/1.jpg"}),(0,zr.jsx)("h3",{children:e.username})]}),(0,zr.jsx)("img",{className:"post__image",src:e.imageUrl,alt:""}),(0,zr.jsxs)("h4",{className:"post__text",children:[(0,zr.jsx)("strong",{children:e.username})," ",e.caption]}),(0,zr.jsx)("div",{className:"post__comments",children:l?(0,zr.jsxs)("div",{children:[r.map((function(e){return(0,zr.jsxs)("p",{children:[(0,zr.jsx)("strong",{children:e.username})," ",e.text]})})),(0,zr.jsx)("h4",{onClick:function(){return f(!l)},children:(0,zr.jsx)("strong",{children:"Hide comments"})})]}):(0,zr.jsx)("h4",{onClick:function(){return f(!l)},children:(0,zr.jsx)("strong",{children:"Show comments"})})}),e.user&&(0,zr.jsxs)("form",{className:"post__commentBox",children:[(0,zr.jsx)("input",{type:"text",className:"post__input",placeholder:"Add a comment..",value:o,onChange:function(e){return u(e.target.value)}}),(0,zr.jsx)("button",{type:"submit",disables:!o,className:"post__button",onClick:function(t){t.preventDefault(),UR.collection("posts").doc(e.postId).collection("comments").add({text:o,username:e.user.displayName,timestamp:ao.firestore.FieldValue.serverTimestamp()}),u("")},children:"Post"})]})]})},BR=["sx"];function qR(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){Sn[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}(l(e,BR)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat(m(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return Ye(e)?f({},i,e):i}:f({},i,n),f({},a,{sx:t})}var KR=["className","component"];var WR=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.defaultTheme,r=e.defaultClassName,i=void 0===r?"MuiBox-root":r,a=e.generateClassName,o=e.styleFunctionSx,u=void 0===o?Cn:o,s=$e("div")(u),c=t.forwardRef((function(e,t){var r=Rr(n),o=qR(e),u=o.className,c=o.component,h=void 0===c?"div":c,p=l(o,KR);return(0,zr.jsx)(s,f({as:h,ref:t,className:d(u,a?a(i):i),theme:r},p))}));return c}({defaultTheme:br(),defaultClassName:"MuiBox-root",generateClassName:Mr.generate}),GR=WR;var HR=function(e){return"string"===typeof e};function QR(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $R(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){QR(e,t),QR(n,t)}}),[e,n])}function YR(e){return e&&e.ownerDocument||document}var XR="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function JR(e){var n=t.useRef(e);return XR((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}function ZR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var eP=t.forwardRef((function(e,n){var r=e.children,a=e.container,o=e.disablePortal,u=void 0!==o&&o,s=c(t.useState(null),2),l=s[0],f=s[1],h=$R(t.isValidElement(r)?r.ref:null,n);return XR((function(){u||f(function(e){return"function"===typeof e?e():e}(a)||document.body)}),[a,u]),XR((function(){if(l&&!u)return QR(n,l),function(){QR(n,null)}}),[n,l,u]),u?t.isValidElement(r)?t.cloneElement(r,{ref:h}):r:l?i.createPortal(r,l):l}));function tP(e){return YR(e).defaultView||window}function nP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function rP(e){return parseInt(tP(e).getComputedStyle(e).paddingRight,10)||0}function iP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(m(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&nP(e,i)}))}function aP(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function oP(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=YR(e);return t.body===e?tP(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=function(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}(YR(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(rP(r)+i,"px");var a=YR(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(rP(e)+i,"px")}))}var o=r.parentElement,u=tP(r),s="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===u.getComputedStyle(o).overflowY?o:r;n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var uP=function(){function e(){ei(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return ni(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&nP(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);iP(t,e.mount,e.modalRef,r,!0);var i=aP(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=aP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=oP(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=aP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&nP(e.modalRef,!0),iP(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&nP(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),sP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cP(e){var t=[],n=[];return Array.from(e.querySelectorAll(sP)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function lP(){return!0}var fP=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?cP:c,f=e.isEnabled,h=void 0===f?lP:f,d=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),y=t.useRef(null),g=t.useRef(null),k=t.useRef(!1),b=t.useRef(null),w=$R(n.ref,b),x=t.useRef(null);t.useEffect((function(){d&&b.current&&(k.current=!i)}),[i,d]),t.useEffect((function(){if(d&&b.current){var e=YR(b.current);return b.current.contains(e.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),k.current&&b.current.focus()),function(){s||(y.current&&y.current.focus&&(p.current=!0,y.current.focus()),y.current=null)}}}),[d]),t.useEffect((function(){if(d&&b.current){var e=YR(b.current),t=function(t){var n=b.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&g.current!==t.target||e.activeElement!==g.current)g.current=null;else if(null!==g.current)return;if(!k.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(b.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===b.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,h,d,l]);var _=function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0};return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),k.current=!0,g.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,zr.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function hP(e){return Ur("MuiModal",e)}Vr("MuiModal",["root","hidden"]);var dP=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var pP=new uP,vP=t.forwardRef((function(e,n){var r=e.BackdropComponent,i=e.BackdropProps,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,h=void 0!==s&&s,v=e.component,m=void 0===v?"div":v,y=e.components,g=void 0===y?{}:y,k=e.componentsProps,b=void 0===k?{}:k,w=e.container,x=e.disableAutoFocus,_=void 0!==x&&x,S=e.disableEnforceFocus,I=void 0!==S&&S,E=e.disableEscapeKeyDown,T=void 0!==E&&E,C=e.disablePortal,A=void 0!==C&&C,N=e.disableRestoreFocus,R=void 0!==N&&N,P=e.disableScrollLock,D=void 0!==P&&P,O=e.hideBackdrop,L=void 0!==O&&O,M=e.keepMounted,F=void 0!==M&&M,U=e.manager,V=void 0===U?pP:U,j=e.onBackdropClick,z=e.onClose,B=e.onKeyDown,q=e.open,K=e.theme,W=e.onTransitionEnter,G=e.onTransitionExited,H=l(e,dP),Q=c(t.useState(!0),2),$=Q[0],Y=Q[1],X=t.useRef({}),J=t.useRef(null),Z=t.useRef(null),ee=$R(Z,n),te=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),ne=function(){return X.current.modalRef=Z.current,X.current.mountNode=J.current,X.current},re=function(){V.mount(ne(),{disableScrollLock:D}),Z.current.scrollTop=0},ie=JR((function(){var e=function(e){return"function"===typeof e?e():e}(w)||YR(J.current).body;V.add(ne(),e),Z.current&&re()})),ae=t.useCallback((function(){return V.isTopModal(ne())}),[V]),oe=JR((function(e){J.current=e,e&&(q&&ae()?re():nP(Z.current,!0))})),ue=t.useCallback((function(){V.remove(ne())}),[V]);t.useEffect((function(){return function(){ue()}}),[ue]),t.useEffect((function(){q?ie():te&&h||ue()}),[q,ue,te,h,ie]);var se=f({},e,{classes:o,closeAfterTransition:h,disableAutoFocus:_,disableEnforceFocus:I,disableEscapeKeyDown:T,disablePortal:A,disableRestoreFocus:R,disableScrollLock:D,exited:$,hideBackdrop:L,keepMounted:F}),ce=function(e){var t=e.open,n=e.exited;return p({root:["root",!t&&n&&"hidden"]},hP,e.classes)}(se);if(!F&&!q&&(!te||$))return null;var le={};void 0===a.props.tabIndex&&(le.tabIndex="-1"),te&&(le.onEnter=ZR((function(){Y(!1),W&&W()}),a.props.onEnter),le.onExited=ZR((function(){Y(!0),G&&G(),h&&ue()}),a.props.onExited));var fe=g.Root||m,he=b.root||{};return(0,zr.jsx)(eP,{ref:oe,container:w,disablePortal:A,children:(0,zr.jsxs)(fe,f({role:"presentation"},he,!HR(fe)&&{as:m,ownerState:f({},se,he.ownerState),theme:K},H,{ref:ee,onKeyDown:function(e){B&&B(e),"Escape"===e.key&&ae()&&(T||(e.stopPropagation(),z&&z(e,"escapeKeyDown")))},className:d(ce.root,he.className,u),children:[!L&&r?(0,zr.jsx)(r,f({"aria-hidden":!0,open:q,onClick:function(e){e.target===e.currentTarget&&(j&&j(e),z&&z(e,"backdropClick"))}},i)):null,(0,zr.jsx)(fP,{disableEnforceFocus:I,disableAutoFocus:_,disableRestoreFocus:R,isEnabled:ae,open:q,children:t.cloneElement(a,le)})]}))})})),mP=vP;function yP(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ai(e,t)}var gP=!1,kP=t.createContext(null),bP="unmounted",wP="exited",xP="entering",_P="entered",SP="exiting",IP=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=wP,r.appearStatus=xP):i=_P:i=t.unmountOnExit||t.mountOnEnter?bP:wP,r.state={status:i},r.nextCallback=null,r}yP(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===bP?{status:wP}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==xP&&n!==_P&&(t=xP):n!==xP&&n!==_P||(t=SP)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===xP?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===wP&&this.setState({status:bP})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],u=a[1],s=this.getTimeouts(),c=r?s.appear:s.enter;!e&&!n||gP?this.safeSetState({status:_P},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,u),this.safeSetState({status:xP},(function(){t.props.onEntering(o,u),t.onTransitionEnd(c,(function(){t.safeSetState({status:_P},(function(){t.props.onEntered(o,u)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!gP?(this.props.onExit(r),this.safeSetState({status:SP},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:wP},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:wP},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],u=a[1];this.props.addEndListener(o,u)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===bP)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,l(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(kP.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function EP(){}IP.contextType=kP,IP.propTypes={},IP.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:EP,onEntering:EP,onEntered:EP,onExit:EP,onExiting:EP,onExited:EP},IP.UNMOUNTED=bP,IP.EXITED=wP,IP.ENTERING=xP,IP.ENTERED=_P,IP.EXITING=SP;var TP=IP;function CP(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var AP=$R,NP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],RP={entering:{opacity:1},entered:{opacity:1}},PP=t.forwardRef((function(e,n){var r=Rr(wr),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,h=e.in,d=e.onEnter,p=e.onEntered,v=e.onEntering,m=e.onExit,y=e.onExited,g=e.onExiting,k=e.style,b=e.timeout,w=void 0===b?i:b,x=e.TransitionComponent,_=void 0===x?TP:x,S=l(e,NP),I=t.useRef(null),E=AP(s.ref,n),T=AP(I,E),C=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},A=C(v),N=C((function(e,t){!function(e){e.scrollTop}(e);var n=CP({style:k,timeout:w,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),R=C(p),P=C(g),D=C((function(e){var t=CP({style:k,timeout:w,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),m&&m(e)})),O=C(y);return(0,zr.jsx)(_,f({appear:u,in:h,nodeRef:I,onEnter:N,onEntered:R,onEntering:A,onExit:D,onExited:O,onExiting:P,addEndListener:function(e){a&&a(I.current,e)},timeout:w},S,{children:function(e,n){return t.cloneElement(s,f({style:f({opacity:0,visibility:"exited"!==e||h?void 0:"hidden"},RP[e],k,s.props.style),ref:T},n))}}))})),DP=PP;function OP(e){return Ur("MuiBackdrop",e)}Vr("MuiBackdrop",["root","invisible"]);var LP=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],MP=Sr("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){return f({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.ownerState.invisible&&{backgroundColor:"transparent"})})),FP=t.forwardRef((function(e,t){var n,r,i=Dr({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,h=i.componentsProps,v=void 0===h?{}:h,m=i.className,y=i.invisible,g=void 0!==y&&y,k=i.open,b=i.transitionDuration,w=i.TransitionComponent,x=void 0===w?DP:w,_=l(i,LP),S=f({},i,{component:u,invisible:g}),I=function(e){var t=e.classes;return p({root:["root",e.invisible&&"invisible"]},OP,t)}(S);return(0,zr.jsx)(x,f({in:k,timeout:b},_,{children:(0,zr.jsx)(MP,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:d(I.root,m),ownerState:f({},S,null==(r=v.root)?void 0:r.ownerState),classes:I,ref:t,children:a})}))})),UP=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],VP=Sr("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),jP=Sr(FP,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),zP=t.forwardRef((function(e,n){var r,i=Dr({name:"MuiModal",props:e}),a=i.BackdropComponent,o=void 0===a?jP:a,u=i.closeAfterTransition,s=void 0!==u&&u,h=i.children,d=i.components,p=void 0===d?{}:d,v=i.componentsProps,m=void 0===v?{}:v,y=i.disableAutoFocus,g=void 0!==y&&y,k=i.disableEnforceFocus,b=void 0!==k&&k,w=i.disableEscapeKeyDown,x=void 0!==w&&w,_=i.disablePortal,S=void 0!==_&&_,I=i.disableRestoreFocus,E=void 0!==I&&I,T=i.disableScrollLock,C=void 0!==T&&T,A=i.hideBackdrop,N=void 0!==A&&A,R=i.keepMounted,P=void 0!==R&&R,D=l(i,UP),O=c(t.useState(!0),2),L=O[0],M=O[1],F={closeAfterTransition:s,disableAutoFocus:g,disableEnforceFocus:b,disableEscapeKeyDown:x,disablePortal:S,disableRestoreFocus:E,disableScrollLock:C,hideBackdrop:N,keepMounted:P},U=function(e){return e.classes}(f({},i,F,{exited:L}));return(0,zr.jsx)(mP,f({components:f({Root:VP},p),componentsProps:{root:f({},m.root,(!p.Root||!HR(p.Root))&&{ownerState:f({},null==(r=m.root)?void 0:r.ownerState)})},BackdropComponent:o,onTransitionEnter:function(){return M(!1)},onTransitionExited:function(){return M(!0)},ref:n},D,{classes:U},F,{children:h}))}));var BP=["onChange","maxRows","minRows","style","value"];function qP(e,t){return parseInt(e[t],10)||0}var KP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},WP=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,h=l(e,BP),d=t.useRef(null!=s).current,p=t.useRef(null),v=$R(n,p),m=t.useRef(null),y=t.useRef(0),g=c(t.useState({}),2),k=g[0],b=g[1],w=t.useCallback((function(){var t=p.current,n=tP(t).getComputedStyle(t);if("0px"!==n.width){var r=m.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=qP(n,"padding-bottom")+qP(n,"padding-top"),s=qP(n,"border-bottom-width")+qP(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f));var h=(f=Math.max(f,l))+("border-box"===a?u+s:0),d=Math.abs(f-c)<=1;b((function(e){return y.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==d)?(y.current+=1,{overflow:d,outerHeightStyle:h}):e}))}}),[i,o,e.placeholder]);t.useEffect((function(){var e,t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}((function(){y.current=0,w()})),n=tP(p.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(p.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[w]),XR((function(){w()})),t.useEffect((function(){y.current=0}),[s]);return(0,zr.jsxs)(t.Fragment,{children:[(0,zr.jsx)("textarea",f({value:s,onChange:function(e){y.current=0,d||w(),r&&r(e)},ref:v,rows:o,style:f({height:k.outerHeightStyle,overflow:k.overflow?"hidden":null},u)},h)),(0,zr.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:m,tabIndex:-1,style:f({},KP,u,{padding:0})})]})})),GP=WP;var HP=t.createContext();var QP=XR,$P=(n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect),YP=Le((function(e,n){var r=e.styles,i=De([r],void 0,(0,t.useContext)(Me)),a=(0,t.useRef)();return $P((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),$P((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Ve(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function XP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return De(t)}var JP=function(){var e=XP.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function ZP(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,zr.jsx)(YP,{styles:i})}var eD=function(e){return(0,zr.jsx)(ZP,f({},e,{defaultTheme:wr}))};function tD(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function nD(e){return Ur("MuiInputBase",e)}var rD=Vr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),iD=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],aD=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Or(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},oD=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},uD=Sr("div",{name:"MuiInputBase",slot:"Root",overridesResolver:aD})((function(e){var t=e.theme,n=e.ownerState;return f({},t.typography.body1,Je({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(rD.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&f({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),sD=Sr("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oD})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,a={color:"currentColor",opacity:i?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},o={opacity:"0 !important"},u={opacity:i?.42:.5};return f((Je(t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},"label[data-shrink=false] + .".concat(rD.formControl," &"),{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Je(t,"&.".concat(rD.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),Je(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),cD=(0,zr.jsx)(eD,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lD=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,h=void 0===s?{}:s,v=r.componentsProps,m=void 0===v?{}:v,y=r.defaultValue,g=r.disabled,k=r.disableInjectingGlobalStyles,b=r.endAdornment,w=r.fullWidth,x=void 0!==w&&w,_=r.id,S=r.inputComponent,I=void 0===S?"input":S,E=r.inputProps,T=void 0===E?{}:E,C=r.inputRef,A=r.maxRows,N=r.minRows,R=r.multiline,P=void 0!==R&&R,D=r.name,O=r.onBlur,L=r.onChange,M=r.onClick,F=r.onFocus,U=r.onKeyDown,V=r.onKeyUp,j=r.placeholder,z=r.readOnly,B=r.renderSuffix,q=r.rows,K=r.startAdornment,W=r.type,G=void 0===W?"text":W,H=r.value,Q=l(r,iD),$=null!=T.value?T.value:H,Y=t.useRef(null!=$).current,X=t.useRef(),J=t.useCallback((function(e){0}),[]),Z=AP(T.ref,J),ee=AP(C,Z),te=AP(X,ee),ne=c(t.useState(!1),2),re=ne[0],ie=ne[1],ae=t.useContext(HP);var oe=function(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}({props:r,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});oe.focused=ae?ae.focused:re,t.useEffect((function(){!ae&&g&&re&&(ie(!1),O&&O())}),[ae,g,re,O]);var ue=ae&&ae.onFilled,se=ae&&ae.onEmpty,ce=t.useCallback((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(tD(e.value)&&""!==e.value||t&&tD(e.defaultValue)&&""!==e.defaultValue)}(e)?se&&se():ue&&ue()}),[ue,se]);QP((function(){Y&&ce({value:$})}),[$,ce,Y]);t.useEffect((function(){ce(X.current)}),[]);var le=I,fe=T;P&&"input"===le&&(fe=f(q?{type:void 0,minRows:q,maxRows:q}:{type:void 0,maxRows:A,minRows:N},fe),le=GP);t.useEffect((function(){ae&&ae.setAdornedStart(Boolean(K))}),[ae,K]);var he=f({},r,{color:oe.color||"primary",disabled:oe.disabled,endAdornment:b,error:oe.error,focused:oe.focused,formControl:ae,fullWidth:x,hiddenLabel:oe.hiddenLabel,multiline:P,size:oe.size,startAdornment:K,type:G}),de=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,h=e.startAdornment,d=e.type;return p({root:["root","color".concat(Or(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",h&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",a&&"inputAdornedEnd"]},nD,t)}(he),pe=h.Root||uD,ve=m.root||{},me=h.Input||sD;return fe=f({},fe,m.input),(0,zr.jsxs)(t.Fragment,{children:[!k&&cD,(0,zr.jsxs)(pe,f({},ve,!HR(pe)&&{ownerState:f({},he,ve.ownerState)},{ref:n,onClick:function(e){X.current&&e.currentTarget===e.target&&X.current.focus(),M&&M(e)}},Q,{className:d(de.root,ve.className,u),children:[K,(0,zr.jsx)(HP.Provider,{value:null,children:(0,zr.jsx)(me,f({ownerState:he,"aria-invalid":oe.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:y,disabled:oe.disabled,id:_,onAnimationStart:function(e){ce("mui-auto-fill-cancel"===e.animationName?X.current:{value:"x"})},name:D,placeholder:j,readOnly:z,required:oe.required,rows:q,value:$,onKeyDown:U,onKeyUp:V,type:G},fe,!HR(me)&&{as:le,ownerState:f({},he,fe.ownerState)},{ref:te,className:d(de.input,fe.className),onBlur:function(e){O&&O(e),T.onBlur&&T.onBlur(e),ae&&ae.onBlur?ae.onBlur(e):ie(!1)},onChange:function(e){if(!Y){var t=e.target||X.current;if(null==t)throw new Error(ut(1));ce({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];T.onChange&&T.onChange.apply(T,[e].concat(r)),L&&L.apply(void 0,[e].concat(r))},onFocus:function(e){oe.disabled?e.stopPropagation():(F&&F(e),T.onFocus&&T.onFocus(e),ae&&ae.onFocus?ae.onFocus(e):ie(!0))}}))}),b,B?B(f({},oe,{startAdornment:K})):null]}))]})})),fD=lD;function hD(e){return Ur("MuiInput",e)}var dD=f({},rD,Vr("MuiInput",["root","underline","input"])),pD=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],vD=Sr(uD,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(m(aD(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return f({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(Je(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},"&.".concat(dD.focused,":after"),{transform:"scaleX(1) translateX(0)"}),Je(t,"&.".concat(dD.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),Je(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Je(t,"&:hover:not(.".concat(dD.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),Je(t,"&.".concat(dD.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),mD=Sr(sD,{name:"MuiInput",slot:"Input",overridesResolver:oD})({}),yD=t.forwardRef((function(e,t){var n=Dr({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,h=void 0===c?"input":c,d=n.multiline,v=void 0!==d&&d,m=n.type,y=void 0===m?"text":m,g=l(n,pD),k=function(e){var t=e.classes;return f({},t,p({root:["root",!e.disableUnderline&&"underline"],input:["input"]},hD,t))}(n),b={root:{ownerState:{disableUnderline:r}}},w=o?Xe(o,b):b;return(0,zr.jsx)(fD,f({components:f({Root:vD,Input:mD},a),componentsProps:w,fullWidth:s,inputComponent:h,multiline:v,ref:t,type:y},g,{classes:k}))}));yD.muiName="Input";var gD,kD=yD,bD=JR,wD=!0,xD=!1,_D={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function SD(e){e.metaKey||e.altKey||e.ctrlKey||(wD=!0)}function ID(){wD=!1}function ED(){"hidden"===this.visibilityState&&xD&&(wD=!0)}function TD(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return wD||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!_D[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var CD=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",SD,!0),t.addEventListener("mousedown",ID,!0),t.addEventListener("pointerdown",ID,!0),t.addEventListener("touchstart",ID,!0),t.addEventListener("visibilitychange",ED,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!TD(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(xD=!0,window.clearTimeout(gD),gD=window.setTimeout((function(){xD=!1}),100),n.current=!1,!0)},ref:e}};function AD(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ND(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function RD(e,t,n){return null!=n[t]?n[t]:e.props[t]}function PD(e,n,r){var i=ND(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:RD(u,"exit",e),enter:RD(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:RD(u,"exit",e),enter:RD(u,"enter",e)})}})),a}var DD=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},OD=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ii(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}yP(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,ND(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:RD(e,"appear",r),enter:RD(e,"enter",r),exit:RD(e,"exit",r)})}))):PD(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=ND(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=DD(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(kP.Provider,{value:a},o):t.createElement(kP.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);OD.propTypes={},OD.defaultProps={component:"div",childFactory:function(e){return e}};var LD=OD;var MD=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,p=c(t.useState(!1),2),v=p[0],m=p[1],y=d(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=d(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,zr.jsx)("span",{className:y,style:g,children:(0,zr.jsx)("span",{className:k})})};var FD,UD,VD,jD,zD,BD,qD,KD,WD=Vr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),GD=["center","classes","className"],HD=JP(zD||(zD=FD||(FD=AD(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),QD=JP(BD||(BD=UD||(UD=AD(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),$D=JP(qD||(qD=VD||(VD=AD(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),YD=Sr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),XD=Sr(MD,{name:"MuiTouchRipple",slot:"Ripple"})(KD||(KD=jD||(jD=AD(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),WD.rippleVisible,HD,550,(function(e){return e.theme.transitions.easing.easeInOut}),WD.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),WD.child,WD.childLeaving,QD,550,(function(e){return e.theme.transitions.easing.easeInOut}),WD.childPulsate,$D,(function(e){return e.theme.transitions.easing.easeInOut})),JD=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,h=l(r,GD),p=c(t.useState([]),2),v=p[0],y=p[1],g=t.useRef(0),k=t.useRef(null);t.useEffect((function(){k.current&&(k.current(),k.current=null)}),[v]);var b=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),_=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var S=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;y((function(e){return[].concat(m(e),[(0,zr.jsx)(XD,{classes:{ripple:d(u.ripple,WD.ripple),rippleVisible:d(u.rippleVisible,WD.rippleVisible),ripplePulsate:d(u.ripplePulsate,WD.ripplePulsate),child:d(u.child,WD.child),childLeaving:d(u.childLeaving,WD.childLeaving),childPulsate:d(u.childPulsate,WD.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,k.current=a}),[u]),I=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&b.current)b.current=!1;else{"touchstart"===e.type&&(b.current=!0);var l,f,h,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}e.touches?null===x.current&&(x.current=function(){S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):S({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),E=t.useCallback((function(){I({},{pulsate:!0})}),[I]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,y((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:E,start:I,stop:T}}),[E,I,T]),(0,zr.jsx)(YD,f({className:d(u.root,WD.root,s),ref:_},h,{children:(0,zr.jsx)(LD,{component:null,exit:!0,children:v})}))})),ZD=JD;function eO(e){return Ur("MuiButtonBase",e)}var tO,nO=Vr("MuiButtonBase",["root","disabled","focusVisible"]),rO=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],iO=Sr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Je(tO={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(nO.disabled),{pointerEvents:"none",cursor:"default"}),Je(tO,"@media print",{colorAdjust:"exact"}),tO)),aO=t.forwardRef((function(e,n){var r=Dr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,h=r.component,v=void 0===h?"button":h,m=r.disabled,y=void 0!==m&&m,g=r.disableRipple,k=void 0!==g&&g,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,S=r.LinkComponent,I=void 0===S?"a":S,E=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,D=r.onKeyUp,O=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,U=r.onTouchMove,V=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,K=r.type,W=l(r,rO),G=t.useRef(null),H=t.useRef(null),Q=AP(H,q),$=CD(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!y;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return bD((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&H.current.pulsate()}),[k,_,te,ie]);var se=ue("start",O),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",V),pe=ue("stop",F),ve=ue("stop",U),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),E&&E(e)}),!1),ye=bD((function(e){G.current||(G.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=G.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=bD((function(e){_&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),we=bD((function(e){_&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),D&&D(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=v;"button"===xe&&(W.href||W.to)&&(xe=I);var _e={};"button"===xe?(_e.type=void 0===K?"button":K,_e.disabled=y):(W.href||W.to||(_e.role="button"),y&&(_e["aria-disabled"]=y));var Se=AP(Z,G),Ie=AP(n,Se);var Ee=f({},r,{centerRipple:o,component:v,disabled:y,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=p({root:["root",t&&"disabled",n&&"focusVisible"]},eO,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Ee);return(0,zr.jsxs)(iO,f({as:xe,className:d(Te.root,s),ownerState:Ee,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ie,tabIndex:y?-1:z,type:K},_e,W,{children:[u,oe?(0,zr.jsx)(ZD,f({ref:Q,center:o},B)):null]}))})),oO=aO;function uO(e){return Ur("MuiButton",e)}var sO=Vr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var cO=t.createContext({}),lO=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],fO=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},hO=Sr(oO,{shouldForwardProp:function(e){return xr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Or(n.color))],t["size".concat(Or(n.size))],t["".concat(n.variant,"Size").concat(Or(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return f({},i.typography.button,(Je(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):qn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(sO.focusVisible),f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Je(t,"&.".concat(sO.disabled),f({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(qn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Je(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(sO.focusVisible),{boxShadow:"none"}),Je(t,"&:active",{boxShadow:"none"}),Je(t,"&.".concat(sO.disabled),{boxShadow:"none"}),t)})),dO=Sr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Or(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},fO(t))})),pO=Sr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Or(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},fO(t))})),vO=t.forwardRef((function(e,n){var r=t.useContext(cO),i=Dr({props:Ir(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,h=i.className,v=i.disabled,m=void 0!==v&&v,y=i.disableElevation,g=void 0!==y&&y,k=i.disableFocusRipple,b=void 0!==k&&k,w=i.endIcon,x=i.focusVisibleClassName,_=i.fullWidth,S=void 0!==_&&_,I=i.size,E=void 0===I?"medium":I,T=i.startIcon,C=i.type,A=i.variant,N=void 0===A?"text":A,R=l(i,lO),P=f({},i,{color:u,component:c,disabled:m,disableElevation:g,disableFocusRipple:b,fullWidth:S,size:E,type:C,variant:N}),D=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return f({},o,p({root:["root",a,"".concat(a).concat(Or(t)),"size".concat(Or(i)),"".concat(a,"Size").concat(Or(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Or(i))],endIcon:["endIcon","iconSize".concat(Or(i))]},uO,o))}(P),O=T&&(0,zr.jsx)(dO,{className:D.startIcon,ownerState:P,children:T}),L=w&&(0,zr.jsx)(pO,{className:D.endIcon,ownerState:P,children:w});return(0,zr.jsxs)(hO,f({ownerState:P,className:d(h,r.className),component:c,disabled:m,focusRipple:!b,focusVisibleClassName:d(D.focusVisible,x),ref:n,type:C},R,{classes:D,children:[O,a,L]}))})),mO=vO,yO=function(e){var n=e.username,r=c((0,t.useState)(null),2),i=r[0],a=r[1],o=c((0,t.useState)(0),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1];return(0,zr.jsxs)("div",{className:"imageupload",children:[(0,zr.jsx)("progress",{className:"imageupload__progress",value:u,max:"100"}),(0,zr.jsx)("input",{type:"text",placeholder:"Enter a caption...",onChange:function(e){return h(e.target.value)},value:f}),(0,zr.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&a(e.target.files[0])}}),(0,zr.jsx)(mO,{onClick:function(){jR.ref("images/".concat(i.name)).put(i).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);s(t)}),(function(e){console.log(e),alert(e.message)}),(function(){jR.ref("images").child(i.name).getDownloadURL().then((function(e){UR.collection("posts").add({timestamp:ao.firestore.FieldValue.serverTimestamp(),caption:f,imageUrl:e,username:n}),s(0),h(""),a(null)}))}))},children:"Upload"})]})},gO={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};var kO=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c((0,t.useState)(!1),2),a=i[0],o=i[1],u=c((0,t.useState)(!1),2),s=u[0],l=u[1],f=c((0,t.useState)(""),2),h=f[0],d=f[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],y=c((0,t.useState)(""),2),g=y[0],k=y[1],b=c((0,t.useState)(null),2),w=b[0],x=b[1];return(0,t.useEffect)((function(){var e=VR.onAuthStateChanged((function(e){e?(console.log(w),x(e)):x(null)}));return function(){e()}}),[w,h]),(0,t.useEffect)((function(){UR.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),(0,zr.jsxs)("div",{className:"app",children:[(0,zr.jsx)(zP,{open:s,onClose:function(){l(!1)},children:(0,zr.jsx)(GR,{sx:gO,children:(0,zr.jsxs)("form",{className:"app__signup",children:[(0,zr.jsx)("center",{children:(0,zr.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"",className:"app__headerImage"})}),(0,zr.jsx)(kD,{placeholder:"username",type:"text",value:h,onChange:function(e){return d(e.target.value)}}),(0,zr.jsx)(kD,{placeholder:"email",type:"text",value:g,onChange:function(e){return k(e.target.value)}}),(0,zr.jsx)(kD,{placeholder:"password",type:"Password",value:v,onChange:function(e){return m(e.target.value)}}),(0,zr.jsx)(mO,{type:"submit",onClick:function(e){e.preventDefault(),VR.createUserWithEmailAndPassword(g,v).then((function(e){e.user.updateProfile({displayName:h})})).catch((function(e){return alert(e.message)}))},children:"SignUp"})]})})}),(0,zr.jsx)(zP,{open:a,onClose:function(){o(!1)},children:(0,zr.jsx)(GR,{sx:gO,children:(0,zr.jsxs)("form",{className:"app__signup",children:[(0,zr.jsx)("center",{children:(0,zr.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"",className:"app__headerImage"})}),(0,zr.jsx)(kD,{placeholder:"email",type:"text",value:g,onChange:function(e){return k(e.target.value)}}),(0,zr.jsx)(kD,{placeholder:"password",type:"Password",value:v,onChange:function(e){return m(e.target.value)}}),(0,zr.jsx)(mO,{type:"submit",onClick:function(e){e.preventDefault(),VR.signInWithEmailAndPassword(g,v).catch((function(e){return alert(e.message)})),o(!1)},children:"SignIn"})]})})}),(0,zr.jsx)("div",{className:"app__header",children:(0,zr.jsxs)("div",{className:"app__headerChildren",children:[(0,zr.jsx)("img",{src:"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png",alt:"",className:"app__headerImage"}),(0,zr.jsx)("input",{placeholder:"  Search"}),(0,zr.jsx)("div",{className:"app__headerButtons",children:w?(0,zr.jsx)(mO,{onClick:function(){return VR.signOut()},children:"LogOut"}):(0,zr.jsxs)("div",{className:"app__loginContainer",children:[(0,zr.jsx)(mO,{onClick:function(){return o(!0)},children:"SignIn"}),(0,zr.jsx)(mO,{onClick:function(){return l(!0)},children:"SignUp"})]})})]})}),(0,zr.jsx)("div",{className:"app__posts",children:(0,zr.jsx)("div",{className:"app__postsChildren",children:n.map((function(e){var t=e.id,n=e.post;return(0,zr.jsx)(zR,{user:w,postId:t,username:n.username,caption:n.caption,imageUrl:n.imageUrl},t)}))})}),null!==w&&void 0!==w&&w.displayName?(0,zr.jsx)(yO,{username:w.displayName}):(0,zr.jsx)("h3",{children:"Sorry you need to login to upload"})]})};i.render((0,zr.jsx)(t.StrictMode,{children:(0,zr.jsx)(kO,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.0f3d56fd.js.map